import{_ as K}from"./nuxt-link.BOky_kQH.js";import{n as X,u as L,r as c,s as q,z as v,A as Y,w as r,B as Z,o as m,b as a,v as s,a as e,c as b,x as z,t as A,d as V,F as $,C as j,y as ee}from"./entry.wJW_9yny.js";import{u as te,a as se,i as ae,b as oe,c as le,d as ie}from"./artifact-validation.BsEUN-vZ.js";import{r as F,a as G}from"./form-methods.CS9pXFl6.js";const ne={style:{display:"flex"}},de={class:"split-div"},re=e("b",null,"Model",-1),ue=e("br",null,null,-1),ce={class:"split-div"},pe=e("b",null,"Version",-1),me=e("br",null,null,-1),he=e("div",null,null,-1),_e={class:"scrollable-table-div"},ve=e("p",null," A negotiation card is a document with a series of discussion points to be documented during a negotiation between all project stakeholders at the project's outset. It is then used as a reference throughout development and is updated at prescribed negotiation points. ",-1),be={class:"table usa-table usa-table--borderless"},fe=e("thead",null,[e("tr",null,[e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"ID"),e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Timestamp"),e("th",{scope:"col"},"Actions")])],-1),ye={scope:"row"},we={key:0,style:{float:"left",color:"red"}},ge={class:"scrollable-table-div"},Ve=e("p",null," A report is a human and machine-readable summary of all knowledge gained about a model during the MLTE process. ",-1),Ae={class:"table usa-table usa-table--borderless"},Ee=e("thead",null,[e("tr",null,[e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"ID"),e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Timestamp"),e("th",{scope:"col"},"Actions")])],-1),xe={scope:"row"},Se={key:0,style:{float:"left",color:"red"}},Te={class:"scrollable-table-div"},Ue=e("p",null," A specification (spec) defines the model requirements that must be satisfied to ensure successful integration with the target system. ",-1),ke={class:"scrollable-table-div"},Be=e("p",null," Validated Specification are produced by combining a specification with its corresponding results; this artifact communicates how well a model performed against all of its requirements. ",-1),Ie={class:"scrollable-table-div"},Le=e("p",null," Values are the atomic unit of model evaluation in MLTE. A value is any artifact produced by a MLTE measurement for the purposes of model evaluation. ",-1),ze=X({__name:"index",async setup(qe){let p,h;const E=ee(),x=L("token"),H=c([{href:"/",text:""}]),f=c([]),_=c([]),{data:C}=([p,h]=q(()=>te(E.public.apiPath+"/model",{method:"GET",headers:{Authorization:"Bearer "+x.value}},"$pqtWcjQkdb")),p=await p,h(),p);C.value&&C.value.forEach(o=>{f.value.push({value:o,text:o})});const d=L("selectedModel");d.value=d.value||"";const i=L("selectedVersion");i.value=i.value||"";const N=c([{id:"id",label:"ID",sortable:!0},{id:"timestamp",label:"Timestamp",sortable:!0}]),P=c([{id:"id",label:"ID",sortable:!0},{id:"specid",label:"SpecID",sortable:!0},{id:"timestamp",label:"Timestamp",sortable:!0}]),O=c([{id:"id",label:"ID",sortable:!0},{id:"measurement",label:"Measurement",sortable:!0},{id:"type",label:"Type",sortable:!0},{id:"timestamp",label:"Timestamp",sortable:!0}]),S=c([]),T=c([]),U=c([]),k=c([]),B=c([]);f.value!==null&&f.value.length>0&&(f.value.map(n=>n.value).includes(d.value)||(d.value="",i.value=""),d.value!==""&&([p,h]=q(()=>R(d.value,!0)),await p,h(),_.value.map(u=>u.value).includes(i.value)||(i.value=""),i.value!==""&&([p,h]=q(()=>D(i.value)),await p,h())));async function R(o,n){if(d.value=o,n||(i.value=""),o===""){_.value=[],M();return}await $fetch(E.public.apiPath+"/model/"+o+"/version",{retry:0,method:"GET",headers:{Authorization:"Bearer "+x.value},onRequestError(){F()},onResponse({response:u}){u._data&&(d.value=o,_.value=[],u._data.forEach(t=>{_.value.push({value:t,text:t})}))},onResponseError(){G()}}),_.value.sort(function(u,t){return u.value<t.value?-1:u.value>t.value?1:0})}async function D(o){if(i.value=o,o===""){M();return}await $fetch(E.public.apiPath+"/model/"+d.value+"/version/"+o+"/artifact",{retry:0,method:"GET",headers:{Authorization:"Bearer "+x.value},onRequestError(){F()},onResponse({response:n}){n._data&&(i.value=o,Q(d.value,i.value,n._data))},onResponseError(){G()}})}function Q(o,n,u){u.forEach(t=>{t.header.timestamp=new Date(t.header.timestamp*1e3).toLocaleString("en-US"),t.header.type==="negotiation_card"?se(t)&&S.value.push({id:t.header.identifier,timestamp:t.header.timestamp,model:o,version:n}):t.header.type==="report"?ae(t)&&U.value.push({id:t.header.identifier,timestamp:t.header.timestamp,model:o,version:n}):t.header.type==="spec"?oe(t)&&T.value.push({id:t.header.identifier,timestamp:t.header.timestamp,model:o,version:n}):t.header.type==="validated_spec"&&le(t)&&k.value.push({id:t.header.identifier,specid:t.body.spec_identifier,timestamp:t.header.timestamp,model:o,version:n}),t.header.type==="value"&&ie(t)&&B.value.push({id:t.header.identifier.slice(0,-6),measurement:t.body.metadata.measurement_type,type:t.body.value.value_type,timestamp:t.header.timestamp,model:o,version:n})})}function M(){S.value=[],U.value=[],T.value=[],k.value=[],B.value=[]}return(o,n)=>{const u=v("UsaBreadcrumb"),t=v("UsaSelect"),y=v("UsaButton"),w=K,g=v("UsaAccordionItem"),I=v("UsaTable"),W=v("UsaAccordion"),J=Z;return m(),Y(J,{name:"base-layout"},{default:r(()=>[a(u,{items:s(H)},null,8,["items"]),e("div",ne,[e("div",de,[re,a(t,{options:s(f),"model-value":s(d),"onUpdate:modelValue":n[0]||(n[0]=l=>R(l,!1))},null,8,["options","model-value"]),ue]),e("div",ce,[pe,a(t,{options:s(_),"model-value":s(i),"onUpdate:modelValue":n[1]||(n[1]=l=>D(l))},null,8,["options","model-value"]),me]),he]),a(W,{multiselectable:"",bordered:""},{default:r(()=>[a(g,{label:"Negotiation Cards"},{default:r(()=>[e("div",_e,[ve,e("table",be,[fe,e("tbody",null,[(m(!0),b($,null,z(s(S),l=>(m(),b("tr",{key:l.id},[e("th",ye,A(l.id),1),e("td",null,A(l.timestamp),1),e("td",null,[a(w,{to:{path:"negotiation-card",query:{model:l.model,version:l.version,artifactId:l.id}}},{default:r(()=>[a(y,{class:"primary-button"},{default:r(()=>[V(" Edit ")]),_:1})]),_:2},1032,["to"])])]))),128))])]),a(w,{to:{path:"negotiation-card",query:{model:s(d),version:s(i)}}},{default:r(()=>[a(y,{disabled:s(d)===""||s(i)==="",class:"primary-button",style:{float:"left"}},{default:r(()=>[V(" New ")]),_:1},8,["disabled"])]),_:1},8,["to"]),s(d)===""||s(i)===""?(m(),b("p",we," Select a model and version to start a new negotiation card here. ")):j("",!0)])]),_:1}),a(g,{label:"Reports"},{default:r(()=>[e("div",ge,[Ve,e("table",Ae,[Ee,e("tbody",null,[(m(!0),b($,null,z(s(U),l=>(m(),b("tr",{key:l.id},[e("th",xe,A(l.id),1),e("td",null,A(l.timestamp),1),e("td",null,[a(w,{to:{path:"report",query:{model:l.model,version:l.version,artifactId:l.id}}},{default:r(()=>[a(y,{class:"primary-button"},{default:r(()=>[V(" Edit ")]),_:1})]),_:2},1032,["to"]),a(w,{to:{path:"export-report",query:{model:l.model,version:l.version,artifactId:l.id}}},{default:r(()=>[a(y,{class:"primary-button"},{default:r(()=>[V(" Export ")]),_:1})]),_:2},1032,["to"])])]))),128))])]),a(w,{to:{path:"report",query:{model:s(d),version:s(i)}}},{default:r(()=>[a(y,{disabled:s(d)===""||s(i)==="",class:"primary-button",style:{float:"left"}},{default:r(()=>[V(" New ")]),_:1},8,["disabled"])]),_:1},8,["to"]),s(d)===""||s(i)===""?(m(),b("p",Se," Select a model and version to start a new report. ")):j("",!0)])]),_:1}),a(g,{label:"Specifications"},{default:r(()=>[e("div",Te,[Ue,a(I,{headers:s(N),rows:s(T),borderless:"",class:"table"},null,8,["headers","rows"])])]),_:1}),a(g,{label:"Validated Specification"},{default:r(()=>[e("div",ke,[Be,a(I,{headers:s(P),rows:s(k),borderless:"",class:"table"},null,8,["headers","rows"])])]),_:1}),a(g,{label:"Values"},{default:r(()=>[e("div",Ie,[Le,a(I,{headers:s(O),rows:s(B),borderless:"",class:"table"},null,8,["headers","rows"])])]),_:1})]),_:1})]),_:1})}}});export{ze as default};
