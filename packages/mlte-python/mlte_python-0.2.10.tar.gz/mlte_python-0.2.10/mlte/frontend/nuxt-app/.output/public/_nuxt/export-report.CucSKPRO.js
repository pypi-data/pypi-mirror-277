import{n as S,u as F,r as x,q as b,s as O,c as r,a as e,d as t,t as s,v as d,F as m,x as p,o as a,y as T}from"./entry.wJW_9yny.js";import{u as q,i as B}from"./artifact-validation.BsEUN-vZ.js";import{r as L,a as N}from"./form-methods.CS9pXFl6.js";import{f as A}from"./util.CT5keIQ-.js";const C=""+new URL("MLTE_Black.DU6oRV2v.svg",import.meta.url).href,P={class:"report-body"},D={class:"report-header rounded-border section-margin"},V=e("div",{class:"header-img"},[e("img",{src:C,height:"75px",width:"75px"})],-1),I=e("div",{class:"spacer"},null,-1),U={class:"header-title centered-container"},G=e("br",null,null,-1),J=e("div",{class:"spacer"},null,-1),j=e("div",{class:"header-authors"},[t(" author details "),e("br"),t(" author details "),e("br"),t(" author details ")],-1),z={class:"rounded-border section-margin"},Q=e("h3",{class:"insection-margin"}," Overview ",-1),$=e("hr",null,null,-1),H={class:"info-box-row insection-margin"},K={class:"info-box-third rounded-border"},W=e("br",null,null,-1),X={class:"info-box-two-third rounded-border"},Y=e("br",null,null,-1),Z=e("div",{class:"rounded-border insection-margin"},[e("h3",null,"Results")],-1),ee={class:"table usa-table usa-table--borderless section-margin",style:{"margin-top":"0px"}},se=e("thead",null,[e("tr",null,[e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Status"),e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Property"),e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Measurement"),e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Evidence ID"),e("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Message")])],-1),te={key:0,style:{"background-color":"rgba(210, 232, 221, 255)"}},oe={key:1,style:{"background-color":"rgba(255, 243, 205, 255)"}},re={key:2,style:{"background-color":"rgba(248, 216, 219, 255)"}},ae={key:3},ne={class:"rounded-border"},de=e("h3",null,"System Information",-1),le=e("hr",null,null,-1),ie={class:"info-box-row insection-margin"},ce={class:"info-box-third rounded-border"},ue=e("br",null,null,-1),_e={class:"info-box-third rounded-border"},he=e("br",null,null,-1),be={class:"info-box-third rounded-border"},me=e("br",null,null,-1),pe={class:"info-box-row"},ve={class:"info-box-third rounded-border"},ye=e("br",null,null,-1),fe={class:"info-box-third rounded-border"},ge=e("br",null,null,-1),ke={class:"info-box-third rounded-border"},xe=e("br",null,null,-1),Fe=S({__name:"export-report",async setup(Re){let v,y;const R=T(),f=F("token"),g=x(null),n=x(null),_=b().query.model,k=b().query.version,E=b().query.artifactId;[v,y]=O(async()=>q(R.public.apiPath+"/model/"+_+"/version/"+k+"/artifact/"+E,{retry:0,method:"GET",headers:{Authorization:"Bearer "+f.value},onRequestError(){L()},async onResponse({response:l}){if(B(l._data)&&(n.value=l._data.body,l._data.body.performance.validated_spec_id)){n.value.performance.validated_spec_id=l._data.body.performance.validated_spec_id;const c=await A(f.value,_,k,n.value.performance.validated_spec_id);g.value=w(c)}},onResponseError(){N()}},"$pxbDbNSOQ8")),await v,y();function w(l){console.log("loading findings");const c=[],o=JSON.parse(JSON.stringify(l));return o.body.spec.properties.forEach(u=>{new Map(Object.entries(o.body.results[u.name])).forEach(i=>{const M={status:i.type,property:u.name,measurement:i.metadata.measurement_type,evidence_id:i.metadata.identifier.name,message:i.message};c.push(M)})}),c}return(l,c)=>(a(),r("div",P,[e("div",D,[V,I,e("div",U,[e("h3",null,[t(" MLTE REPORT "),G,t(" "+s(d(_))+" Model ",1)])]),J,j]),e("div",z,[Q,$,(a(!0),r(m,null,p(d(n).performance.goals,(o,u)=>(a(),r("div",{key:u},[e("div",H,[e("div",K,[t(" Goal "+s(u+1)+":",1),W,t(" "+s(o.description),1)]),e("div",X,[t(" Metrics and Baselines: "),Y,(a(!0),r(m,null,p(o.metrics,(h,i)=>(a(),r("div",{key:i},s(i+1)+". "+s(h.description)+" - "+s(h.baseline),1))),128))])])]))),128))]),Z,e("table",ee,[se,e("tbody",null,[(a(!0),r(m,null,p(d(g),o=>(a(),r("tr",{key:o.evidence_id},[o.status=="Success"?(a(),r("td",te,s(o.status),1)):o.status=="Ignore"?(a(),r("td",oe,s(o.status),1)):o.status=="Failure"?(a(),r("td",re,s(o.status),1)):(a(),r("td",ae,s(o.status),1)),e("td",null,s(o.property),1),e("td",null,s(o.measurement),1),e("td",null,s(o.evidence_id),1),e("td",null,s(o.message),1)]))),128))])]),e("div",ne,[de,le,e("div",ie,[e("div",ce,[t(" ML Problem Type: "),ue,t(" "+s(d(n).summary.problem_type),1)]),e("div",_e,[t(" ML Task: "),he,t(" "+s(d(n).summary.task),1)]),e("div",be,[t(" Usage Context: "),me,t(" "+s(d(n).intended_use.usage_context),1)])]),e("div",pe,[e("div",ve,[t(" FP Risk: "),ye,t(" "+s(d(n).risks.fp),1)]),e("div",fe,[t(" FN Risk: "),ge,t(" "+s(d(n).risks.fn),1)]),e("div",ke,[t(" Other Risks: "),xe,t(" "+s(d(n).risks.other),1)])])])]))}});export{Fe as default};
