import{_ as A,Y as g,Z as m,X as v,$ as b,S as r,ak as $,al as M,am as ie,an as O,ao as le,ap as K,aq as de,ar as ce,W as J,D as ue,E as I,as as Z,at as me,O as W,au as be,r as X,h as B,R as L,av as Y,U as P,aw as x,ax as fe,ay as ve,i as we,az as Q,aA as pe,aB as ge,aC as _e,aD as he,aE as h,aF as Te,K as Ve,aG as ye,B as E,V as Se,aH as D,aI as j,aJ as xe,aK as Ae,aL as Ce,m as ke}from"./admin-drawer-panel-DNngWUEM.js";import{S as De,V as $e,a as Be,b as Pe}from"./settings-drawer-DyS0A2pN.js";import{u as Ie,t as We}from"./main-DX-k2724.js";import{f as Le,u as Ue}from"./VDialog-opmV0YZz.js";import{m as ze,V as R,a as Ee,b as G}from"./VWindowItem-B0KokcAk.js";import{m as Me,V as q}from"./VSlideGroup-BRYhkLH8.js";import{U as Re,V as Ge}from"./unauthorized-BbXjAe5l.js";import"./copy-to-clipboard-DoUvDJVx.js";import"./change-password-dialog-CH4xbjJa.js";import"./VTextField-BnGscKcY.js";import"./VSelectionControl-C8DP9rgp.js";const Oe={name:"AdminTitleToolbar",components:{SettingsDrawerButton:De},computed:{mdAndDown(){return this.$vuetify.display.mdAndDown}}};function Fe(e,a,l,t,s,i){const o=g("SettingsDrawerButton");return m(),v(Be,{id:"titleBar",class:M(["codexToolbar",{drawerMargin:!i.mdAndDown}]),density:"compact",elevation:"8"},{default:b(()=>[r($e,{class:"codexToolbarTitle"},{default:b(()=>[$(" Codex Administration ")]),_:1}),(m(),v(o,{key:i.mdAndDown,class:M({invisible:!i.mdAndDown}),disabled:!i.mdAndDown},null,8,["class","disabled"]))]),_:1},8,["class"])}const Ne=A(Oe,[["render",Fe],["__scopeId","data-v-355452b0"]]),He={name:"AdminSettingsPanel",data(){return{mdiBookshelf:ie}},computed:{...O(Ie,["lastRoute"])}};function Xe(e,a,l,t,s,i){return m(),v(ce,{ref:"browserLink",to:e.lastRoute},{default:b(()=>[r(de,null,{default:b(()=>[r(le,null,{default:b(()=>[$(K(s.mdiBookshelf),1)]),_:1}),$("Browser ")]),_:1})]),_:1},8,["to"])}const Ye=A(He,[["render",Xe]]),je={name:"AdminSettingsDrawer",components:{SettingsDrawer:Pe,AdminSettingsPanel:Ye},computed:{mdAndDown(){return this.$vuetify.display.mdAndDown}},watch:{mdAndDown(e){e||this.setSettingsDrawerOpen(!0)}},mounted(){this.mdAndDown||this.setSettingsDrawerOpen(!0)},methods:{...J(ue,["setSettingsDrawerOpen"])}};function qe(e,a,l,t,s,i){const o=g("AdminSettingsPanel"),n=g("SettingsDrawer");return m(),v(n,{title:"Admin",temporary:i.mdAndDown},{panel:b(()=>[r(o)]),_:1},8,["temporary"])}const Ke=A(je,[["render",qe]]),F=Symbol.for("vuetify:v-tabs"),Je=I({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Z(me({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ee=W()({name:"VTab",props:Je(),setup(e,a){let{slots:l,attrs:t}=a;const{textColorClasses:s,textColorStyles:i}=be(e,"sliderColor"),o=X(),n=X(),u=B(()=>e.direction==="horizontal"),_=B(()=>{var w,d;return((d=(w=o.value)==null?void 0:w.group)==null?void 0:d.isSelected.value)??!1});function U(w){var c,p;let{value:d}=w;if(d){const f=(p=(c=o.value)==null?void 0:c.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),z=n.value;if(!f||!z)return;const te=getComputedStyle(f).color,T=f.getBoundingClientRect(),V=z.getBoundingClientRect(),C=u.value?"x":"y",k=u.value?"X":"Y",N=u.value?"right":"bottom",y=u.value?"width":"height",ae=T[C],se=V[C],S=ae>se?T[N]-V[N]:T[C]-V[C],oe=Math.sign(S)>0?u.value?"right":"bottom":Math.sign(S)<0?u.value?"left":"top":"center",ne=(Math.abs(S)+(Math.sign(S)<0?T[y]:V[y]))/Math.max(T[y],V[y])||0,re=T[y]/V[y]||0,H=1.5;fe(z,{backgroundColor:[te,"currentcolor"],transform:[`translate${k}(${S}px) scale${k}(${re})`,`translate${k}(${S/H}px) scale${k}(${(ne-1)/H+1})`,"none"],transformOrigin:Array(3).fill(oe)},{duration:225,easing:ve})}}return L(()=>{const w=Y.filterProps(e);return r(Y,x({symbol:F,ref:o,class:["v-tab",e.class],style:e.style,tabindex:_.value?0:-1,role:"tab","aria-selected":String(_.value),active:!1},w,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":U}),{...l,default:()=>{var d;return r(P,null,[((d=l.default)==null?void 0:d.call(l))??e.text,!e.hideSlider&&r("div",{ref:n,class:["v-tab__slider",s.value],style:i.value},null)])}})}),Le({},o)}}),Ze=I({...Z(ze(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Qe=W()({name:"VTabsWindow",props:Ze(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:l}=a;const t=we(F,null),s=Q(e,"modelValue"),i=B({get(){var o;return s.value!=null||!t?s.value:(o=t.items.value.find(n=>t.selected.value.includes(n.id)))==null?void 0:o.value},set(o){s.value=o}});return L(()=>{const o=R.filterProps(e);return r(R,x({_as:"VTabsWindow"},o,{modelValue:i.value,"onUpdate:modelValue":n=>i.value=n,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),et=I({...Ee()},"VTabsWindowItem"),tt=W()({name:"VTabsWindowItem",props:et(),setup(e,a){let{slots:l}=a;return L(()=>{const t=G.filterProps(e);return r(G,x({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function at(e){return e?e.map(a=>ye(a)?a:{text:a,value:a}):[]}const st=I({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Me({mandatory:"force",selectedClass:"v-tab-item--selected"}),...pe(),...ge()},"VTabs"),ot=W()({name:"VTabs",props:st(),emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:l,slots:t}=a;const s=Q(e,"modelValue"),i=B(()=>at(e.items)),{densityClasses:o}=_e(e),{backgroundColorClasses:n,backgroundColorStyles:u}=he(h(e,"bgColor")),{scopeId:_}=Ue();return Te({VTab:{color:h(e,"color"),direction:h(e,"direction"),stacked:h(e,"stacked"),fixed:h(e,"fixedTabs"),sliderColor:h(e,"sliderColor"),hideSlider:h(e,"hideSlider")}}),L(()=>{const U=q.filterProps(e),w=!!(t.window||e.items.length>0);return r(P,null,[r(q,x(U,{modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,n.value,e.class],style:[{"--v-tabs-height":Ve(e.height)},u.value,e.style],role:"tablist",symbol:F},_,l),{default:()=>{var d;return[((d=t.default)==null?void 0:d.call(t))??i.value.map(c=>{var p;return((p=t.tab)==null?void 0:p.call(t,{item:c}))??r(ee,x(c,{key:c.text,value:c.value}),{default:t[`tab.${c.value}`]?()=>{var f;return(f=t[`tab.${c.value}`])==null?void 0:f.call(t,{item:c})}:void 0})})]}}),w&&r(Qe,x({modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,key:"tabs-window"},_),{default:()=>{var d;return[i.value.map(c=>{var p;return((p=t.item)==null?void 0:p.call(t,{item:c}))??r(tt,{value:c.value},{default:()=>{var f;return(f=t[`item.${c.value}`])==null?void 0:f.call(t,{item:c})}})}),(d=t.window)==null?void 0:d.call(t)]}})])}),{}}}),nt={name:"AdminTabs",data(){return{activeTab:"Libraries",tabs:["Users","Groups","Libraries","Flags","Tasks","Stats"]}},computed:{...O(E,["comicLibrariesExist"]),...Se(E,{librariesLoaded:e=>!!e.libraries}),mdAndDown(){return this.$vuetify.display.mdAndDown}},watch:{$route(e){const l=e.path.split("/").at(-1);this.activeTab=We(l)}},mounted(){this.librariesLoaded||this.loadTables(["Library"])},methods:{...J(E,["loadTables"])}},rt={id:"tabContainer"},it={key:0,id:"noLibraries"};function lt(e,a,l,t,s,i){const o=g("router-view");return m(),D("div",rt,[r(ot,{class:M(["adminTabs",{drawerMargin:!i.mdAndDown}]),grow:"","show-arrows":""},{default:b(()=>[(m(!0),D(P,null,j(s.tabs,n=>(m(),v(ee,{key:n,modelValue:s.activeTab,"onUpdate:modelValue":a[0]||(a[0]=u=>s.activeTab=u),to:n.toLowerCase()},{default:b(()=>[$(K(n),1)]),_:2},1032,["modelValue","to"]))),128))]),_:1},8,["class"]),r(R,{id:"tabItems",modelValue:s.activeTab,"onUpdate:modelValue":a[1]||(a[1]=n=>s.activeTab=n),touch:!1},{default:b(()=>[(m(!0),D(P,null,j(s.tabs,n=>(m(),v(o,{key:n},{default:b(({Component:u})=>[r(G,{value:n,class:"tabItemContainer"},{default:b(()=>[(m(),v(xe(u)))]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),e.comicLibrariesExist?Ae("",!0):(m(),D("div",it," Codex has no libraries. Select the Libraries tab and add a comic library. "))])}const dt=A(nt,[["render",lt],["__scopeId","data-v-f7a7ae94"]]),ct={name:"MainAdmin",components:{AdminTitleToolbar:Ne,AdminTabs:dt,AdminSettingsDrawer:Ke,Unauthorized:Re},data(){return{mdiLogin:Ce}},computed:{...O(ke,["isUserAdmin"])}};function ut(e,a,l,t,s,i){const o=g("AdminTitleToolbar"),n=g("AdminTabs"),u=g("AdminSettingsDrawer"),_=g("Unauthorized");return e.isUserAdmin?(m(),v(Ge,{key:0},{default:b(()=>[r(o),r(n),r(u)]),_:1})):(m(),v(_,{key:1}))}const St=A(ct,[["render",ut]]);export{St as default};
