"use strict";(self.webpackChunkjupyterlab_codeium=self.webpackChunkjupyterlab_codeium||[]).push([[344],{2344:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Y});var a,i,r,s,o,m,u,E,l=t(3420),c=t(3669),A=t(8318),C=t(1218),_=t(7262),T=t(9793),L=t(2557),S=t(508),d=t(255);!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.JUPYTER_FORMAT=77]="JUPYTER_FORMAT"}(a||(a={})),L.C.util.setEnumType(a,"exa.codeium_common_pb.ExperimentKey",[{no:0,name:"UNSPECIFIED"},{no:77,name:"JUPYTER_FORMAT"}]),function(e){e[e.CODEIUM=0]="CODEIUM"}(i||(i={})),L.C.util.setEnumType(i,"exa.codeium_common_pb.AuthSource",[{no:0,name:"AUTH_SOURCE_CODEIUM"}]),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ENABLE_CODEIUM=1]="ENABLE_CODEIUM",e[e.DISABLE_CODEIUM=2]="DISABLE_CODEIUM",e[e.SHOW_PREVIOUS_COMPLETION=3]="SHOW_PREVIOUS_COMPLETION",e[e.SHOW_NEXT_COMPLETION=4]="SHOW_NEXT_COMPLETION"}(r||(r={})),L.C.util.setEnumType(r,"exa.codeium_common_pb.EventType",[{no:0,name:"EVENT_TYPE_UNSPECIFIED"},{no:1,name:"EVENT_TYPE_ENABLE_CODEIUM"},{no:2,name:"EVENT_TYPE_DISABLE_CODEIUM"},{no:3,name:"EVENT_TYPE_SHOW_PREVIOUS_COMPLETION"},{no:4,name:"EVENT_TYPE_SHOW_NEXT_COMPLETION"}]),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TYPING_AS_SUGGESTED=1]="TYPING_AS_SUGGESTED",e[e.CACHE=2]="CACHE",e[e.NETWORK=3]="NETWORK"}(s||(s={})),L.C.util.setEnumType(s,"exa.codeium_common_pb.CompletionSource",[{no:0,name:"COMPLETION_SOURCE_UNSPECIFIED"},{no:1,name:"COMPLETION_SOURCE_TYPING_AS_SUGGESTED"},{no:2,name:"COMPLETION_SOURCE_CACHE"},{no:3,name:"COMPLETION_SOURCE_NETWORK"}]),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.C=1]="C",e[e.CLOJURE=2]="CLOJURE",e[e.COFFEESCRIPT=3]="COFFEESCRIPT",e[e.CPP=4]="CPP",e[e.CSHARP=5]="CSHARP",e[e.CSS=6]="CSS",e[e.CUDACPP=7]="CUDACPP",e[e.DOCKERFILE=8]="DOCKERFILE",e[e.GO=9]="GO",e[e.GROOVY=10]="GROOVY",e[e.HANDLEBARS=11]="HANDLEBARS",e[e.HASKELL=12]="HASKELL",e[e.HCL=13]="HCL",e[e.HTML=14]="HTML",e[e.INI=15]="INI",e[e.JAVA=16]="JAVA",e[e.JAVASCRIPT=17]="JAVASCRIPT",e[e.JSON=18]="JSON",e[e.JULIA=19]="JULIA",e[e.KOTLIN=20]="KOTLIN",e[e.LATEX=21]="LATEX",e[e.LESS=22]="LESS",e[e.LUA=23]="LUA",e[e.MAKEFILE=24]="MAKEFILE",e[e.MARKDOWN=25]="MARKDOWN",e[e.OBJECTIVEC=26]="OBJECTIVEC",e[e.OBJECTIVECPP=27]="OBJECTIVECPP",e[e.PERL=28]="PERL",e[e.PHP=29]="PHP",e[e.PLAINTEXT=30]="PLAINTEXT",e[e.PROTOBUF=31]="PROTOBUF",e[e.PBTXT=32]="PBTXT",e[e.PYTHON=33]="PYTHON",e[e.R=34]="R",e[e.RUBY=35]="RUBY",e[e.RUST=36]="RUST",e[e.SASS=37]="SASS",e[e.SCALA=38]="SCALA",e[e.SCSS=39]="SCSS",e[e.SHELL=40]="SHELL",e[e.SQL=41]="SQL",e[e.STARLARK=42]="STARLARK",e[e.SWIFT=43]="SWIFT",e[e.TSX=44]="TSX",e[e.TYPESCRIPT=45]="TYPESCRIPT",e[e.VISUALBASIC=46]="VISUALBASIC",e[e.VUE=47]="VUE",e[e.XML=48]="XML",e[e.XSL=49]="XSL",e[e.YAML=50]="YAML",e[e.SVELTE=51]="SVELTE",e[e.TOML=52]="TOML",e[e.DART=53]="DART",e[e.RST=54]="RST",e[e.OCAML=55]="OCAML",e[e.CMAKE=56]="CMAKE",e[e.PASCAL=57]="PASCAL",e[e.ELIXIR=58]="ELIXIR",e[e.FSHARP=59]="FSHARP",e[e.LISP=60]="LISP",e[e.MATLAB=61]="MATLAB",e[e.POWERSHELL=62]="POWERSHELL",e[e.SOLIDITY=63]="SOLIDITY",e[e.ADA=64]="ADA",e[e.OCAML_INTERFACE=65]="OCAML_INTERFACE"}(o||(o={})),L.C.util.setEnumType(o,"exa.codeium_common_pb.Language",[{no:0,name:"LANGUAGE_UNSPECIFIED"},{no:1,name:"LANGUAGE_C"},{no:2,name:"LANGUAGE_CLOJURE"},{no:3,name:"LANGUAGE_COFFEESCRIPT"},{no:4,name:"LANGUAGE_CPP"},{no:5,name:"LANGUAGE_CSHARP"},{no:6,name:"LANGUAGE_CSS"},{no:7,name:"LANGUAGE_CUDACPP"},{no:8,name:"LANGUAGE_DOCKERFILE"},{no:9,name:"LANGUAGE_GO"},{no:10,name:"LANGUAGE_GROOVY"},{no:11,name:"LANGUAGE_HANDLEBARS"},{no:12,name:"LANGUAGE_HASKELL"},{no:13,name:"LANGUAGE_HCL"},{no:14,name:"LANGUAGE_HTML"},{no:15,name:"LANGUAGE_INI"},{no:16,name:"LANGUAGE_JAVA"},{no:17,name:"LANGUAGE_JAVASCRIPT"},{no:18,name:"LANGUAGE_JSON"},{no:19,name:"LANGUAGE_JULIA"},{no:20,name:"LANGUAGE_KOTLIN"},{no:21,name:"LANGUAGE_LATEX"},{no:22,name:"LANGUAGE_LESS"},{no:23,name:"LANGUAGE_LUA"},{no:24,name:"LANGUAGE_MAKEFILE"},{no:25,name:"LANGUAGE_MARKDOWN"},{no:26,name:"LANGUAGE_OBJECTIVEC"},{no:27,name:"LANGUAGE_OBJECTIVECPP"},{no:28,name:"LANGUAGE_PERL"},{no:29,name:"LANGUAGE_PHP"},{no:30,name:"LANGUAGE_PLAINTEXT"},{no:31,name:"LANGUAGE_PROTOBUF"},{no:32,name:"LANGUAGE_PBTXT"},{no:33,name:"LANGUAGE_PYTHON"},{no:34,name:"LANGUAGE_R"},{no:35,name:"LANGUAGE_RUBY"},{no:36,name:"LANGUAGE_RUST"},{no:37,name:"LANGUAGE_SASS"},{no:38,name:"LANGUAGE_SCALA"},{no:39,name:"LANGUAGE_SCSS"},{no:40,name:"LANGUAGE_SHELL"},{no:41,name:"LANGUAGE_SQL"},{no:42,name:"LANGUAGE_STARLARK"},{no:43,name:"LANGUAGE_SWIFT"},{no:44,name:"LANGUAGE_TSX"},{no:45,name:"LANGUAGE_TYPESCRIPT"},{no:46,name:"LANGUAGE_VISUALBASIC"},{no:47,name:"LANGUAGE_VUE"},{no:48,name:"LANGUAGE_XML"},{no:49,name:"LANGUAGE_XSL"},{no:50,name:"LANGUAGE_YAML"},{no:51,name:"LANGUAGE_SVELTE"},{no:52,name:"LANGUAGE_TOML"},{no:53,name:"LANGUAGE_DART"},{no:54,name:"LANGUAGE_RST"},{no:55,name:"LANGUAGE_OCAML"},{no:56,name:"LANGUAGE_CMAKE"},{no:57,name:"LANGUAGE_PASCAL"},{no:58,name:"LANGUAGE_ELIXIR"},{no:59,name:"LANGUAGE_FSHARP"},{no:60,name:"LANGUAGE_LISP"},{no:61,name:"LANGUAGE_MATLAB"},{no:62,name:"LANGUAGE_POWERSHELL"},{no:63,name:"LANGUAGE_SOLIDITY"},{no:64,name:"LANGUAGE_ADA"},{no:65,name:"LANGUAGE_OCAML_INTERFACE"}]);class I extends S.Q{constructor(e){super(),this.completionId="",this.text="",this.prefix="",this.stop="",this.score=0,this.tokens=[],this.decodedTokens=[],this.probabilities=[],this.adjustedProbabilities=[],this.generatedLength=d.M.zero,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new I).fromBinary(e,n)}static fromJson(e,n){return(new I).fromJson(e,n)}static fromJsonString(e,n){return(new I).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(I,e,n)}}I.runtime=L.C,I.typeName="exa.codeium_common_pb.Completion",I.fields=L.C.util.newFieldList((()=>[{no:1,name:"completion_id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"prefix",kind:"scalar",T:9},{no:4,name:"stop",kind:"scalar",T:9},{no:5,name:"score",kind:"scalar",T:1},{no:6,name:"tokens",kind:"scalar",T:4,repeated:!0},{no:7,name:"decoded_tokens",kind:"scalar",T:9,repeated:!0},{no:8,name:"probabilities",kind:"scalar",T:1,repeated:!0},{no:9,name:"adjusted_probabilities",kind:"scalar",T:1,repeated:!0},{no:10,name:"generated_length",kind:"scalar",T:4}]));class f extends S.Q{constructor(e){super(),this.ideName="",this.ideVersion="",this.extensionName="",this.extensionVersion="",this.apiKey="",this.locale="",this.sessionId="",this.requestId=d.M.zero,this.userAgent="",this.url="",this.authSource=i.CODEIUM,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new f).fromBinary(e,n)}static fromJson(e,n){return(new f).fromJson(e,n)}static fromJsonString(e,n){return(new f).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(f,e,n)}}f.runtime=L.C,f.typeName="exa.codeium_common_pb.Metadata",f.fields=L.C.util.newFieldList((()=>[{no:1,name:"ide_name",kind:"scalar",T:9},{no:7,name:"ide_version",kind:"scalar",T:9},{no:12,name:"extension_name",kind:"scalar",T:9},{no:2,name:"extension_version",kind:"scalar",T:9},{no:3,name:"api_key",kind:"scalar",T:9},{no:4,name:"locale",kind:"scalar",T:9},{no:10,name:"session_id",kind:"scalar",T:9},{no:9,name:"request_id",kind:"scalar",T:4},{no:13,name:"user_agent",kind:"scalar",T:9},{no:14,name:"url",kind:"scalar",T:9},{no:15,name:"auth_source",kind:"enum",T:L.C.getEnumType(i)}]));class N extends S.Q{constructor(e){super(),this.tabSize=d.M.zero,this.insertSpaces=!1,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new N).fromBinary(e,n)}static fromJson(e,n){return(new N).fromJson(e,n)}static fromJsonString(e,n){return(new N).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(N,e,n)}}N.runtime=L.C,N.typeName="exa.codeium_common_pb.EditorOptions",N.fields=L.C.util.newFieldList((()=>[{no:1,name:"tab_size",kind:"scalar",T:4},{no:2,name:"insert_spaces",kind:"scalar",T:8}]));class p extends S.Q{constructor(e){super(),this.eventType=r.UNSPECIFIED,this.eventJson="",this.timestampUnixMs=d.M.zero,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new p).fromBinary(e,n)}static fromJson(e,n){return(new p).fromJson(e,n)}static fromJsonString(e,n){return(new p).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(p,e,n)}}p.runtime=L.C,p.typeName="exa.codeium_common_pb.Event",p.fields=L.C.util.newFieldList((()=>[{no:1,name:"event_type",kind:"enum",T:L.C.getEnumType(r)},{no:2,name:"event_json",kind:"scalar",T:9},{no:3,name:"timestamp_unix_ms",kind:"scalar",T:3}])),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.INACTIVE=1]="INACTIVE",e[e.PROCESSING=2]="PROCESSING",e[e.SUCCESS=3]="SUCCESS",e[e.WARNING=4]="WARNING",e[e.ERROR=5]="ERROR"}(m||(m={})),L.C.util.setEnumType(m,"exa.language_server_pb.CodeiumState",[{no:0,name:"CODEIUM_STATE_UNSPECIFIED"},{no:1,name:"CODEIUM_STATE_INACTIVE"},{no:2,name:"CODEIUM_STATE_PROCESSING"},{no:3,name:"CODEIUM_STATE_SUCCESS"},{no:4,name:"CODEIUM_STATE_WARNING"},{no:5,name:"CODEIUM_STATE_ERROR"}]),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SINGLE=1]="SINGLE",e[e.MULTI=2]="MULTI"}(u||(u={})),L.C.util.setEnumType(u,"exa.language_server_pb.LineType",[{no:0,name:"LINE_TYPE_UNSPECIFIED"},{no:1,name:"LINE_TYPE_SINGLE"},{no:2,name:"LINE_TYPE_MULTI"}]),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.INLINE=1]="INLINE",e[e.BLOCK=2]="BLOCK",e[e.INLINE_MASK=3]="INLINE_MASK"}(E||(E={})),L.C.util.setEnumType(E,"exa.language_server_pb.CompletionPartType",[{no:0,name:"COMPLETION_PART_TYPE_UNSPECIFIED"},{no:1,name:"COMPLETION_PART_TYPE_INLINE"},{no:2,name:"COMPLETION_PART_TYPE_BLOCK"},{no:3,name:"COMPLETION_PART_TYPE_INLINE_MASK"}]);class g extends S.Q{constructor(e){super(),this.threshold=0,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new g).fromBinary(e,n)}static fromJson(e,n){return(new g).fromJson(e,n)}static fromJsonString(e,n){return(new g).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(g,e,n)}}g.runtime=L.C,g.typeName="exa.language_server_pb.MultilineConfig",g.fields=L.C.util.newFieldList((()=>[{no:1,name:"threshold",kind:"scalar",T:2}]));class P extends S.Q{constructor(e){super(),this.otherDocuments=[],this.modelName="",L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new P).fromBinary(e,n)}static fromJson(e,n){return(new P).fromJson(e,n)}static fromJsonString(e,n){return(new P).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(P,e,n)}}P.runtime=L.C,P.typeName="exa.language_server_pb.GetCompletionsRequest",P.fields=L.C.util.newFieldList((()=>[{no:1,name:"metadata",kind:"message",T:f},{no:2,name:"document",kind:"message",T:J},{no:3,name:"editor_options",kind:"message",T:N},{no:5,name:"other_documents",kind:"message",T:J,repeated:!0},{no:7,name:"experiment_config",kind:"message",T:k},{no:10,name:"model_name",kind:"scalar",T:9},{no:13,name:"multiline_config",kind:"message",T:g}]));class U extends S.Q{constructor(e){super(),this.completionItems=[],L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new U).fromBinary(e,n)}static fromJson(e,n){return(new U).fromJson(e,n)}static fromJsonString(e,n){return(new U).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(U,e,n)}}U.runtime=L.C,U.typeName="exa.language_server_pb.GetCompletionsResponse",U.fields=L.C.util.newFieldList((()=>[{no:1,name:"state",kind:"message",T:M},{no:2,name:"completion_items",kind:"message",T:B,repeated:!0}]));class G extends S.Q{constructor(e){super(),this.completionId="",L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new G).fromBinary(e,n)}static fromJson(e,n){return(new G).fromJson(e,n)}static fromJsonString(e,n){return(new G).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(G,e,n)}}G.runtime=L.C,G.typeName="exa.language_server_pb.AcceptCompletionRequest",G.fields=L.C.util.newFieldList((()=>[{no:1,name:"metadata",kind:"message",T:f},{no:2,name:"completion_id",kind:"scalar",T:9}]));class O extends S.Q{constructor(e){super(),L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new O).fromBinary(e,n)}static fromJson(e,n){return(new O).fromJson(e,n)}static fromJsonString(e,n){return(new O).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(O,e,n)}}O.runtime=L.C,O.typeName="exa.language_server_pb.AcceptCompletionResponse",O.fields=L.C.util.newFieldList((()=>[]));class h extends S.Q{constructor(e){super(),L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new h).fromBinary(e,n)}static fromJson(e,n){return(new h).fromJson(e,n)}static fromJsonString(e,n){return(new h).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(h,e,n)}}h.runtime=L.C,h.typeName="exa.language_server_pb.GetAuthTokenRequest",h.fields=L.C.util.newFieldList((()=>[]));class y extends S.Q{constructor(e){super(),this.authToken="",this.uuid="",L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new y).fromBinary(e,n)}static fromJson(e,n){return(new y).fromJson(e,n)}static fromJsonString(e,n){return(new y).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(y,e,n)}}y.runtime=L.C,y.typeName="exa.language_server_pb.GetAuthTokenResponse",y.fields=L.C.util.newFieldList((()=>[{no:1,name:"auth_token",kind:"scalar",T:9},{no:2,name:"uuid",kind:"scalar",T:9}]));class R extends S.Q{constructor(e){super(),this.row=d.M.zero,this.col=d.M.zero,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new R).fromBinary(e,n)}static fromJson(e,n){return(new R).fromJson(e,n)}static fromJsonString(e,n){return(new R).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(R,e,n)}}R.runtime=L.C,R.typeName="exa.language_server_pb.DocumentPosition",R.fields=L.C.util.newFieldList((()=>[{no:1,name:"row",kind:"scalar",T:4},{no:2,name:"col",kind:"scalar",T:4}]));class J extends S.Q{constructor(e){super(),this.absolutePath="",this.relativePath="",this.text="",this.editorLanguage="",this.language=o.UNSPECIFIED,this.cursorOffset=d.M.zero,this.lineEnding="",L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new J).fromBinary(e,n)}static fromJson(e,n){return(new J).fromJson(e,n)}static fromJsonString(e,n){return(new J).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(J,e,n)}}J.runtime=L.C,J.typeName="exa.language_server_pb.Document",J.fields=L.C.util.newFieldList((()=>[{no:1,name:"absolute_path",kind:"scalar",T:9},{no:2,name:"relative_path",kind:"scalar",T:9},{no:3,name:"text",kind:"scalar",T:9},{no:4,name:"editor_language",kind:"scalar",T:9},{no:5,name:"language",kind:"enum",T:L.C.getEnumType(o)},{no:6,name:"cursor_offset",kind:"scalar",T:4},{no:8,name:"cursor_position",kind:"message",T:R},{no:7,name:"line_ending",kind:"scalar",T:9}]));class k extends S.Q{constructor(e){super(),this.forceEnableExperiments=[],L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new k).fromBinary(e,n)}static fromJson(e,n){return(new k).fromJson(e,n)}static fromJsonString(e,n){return(new k).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(k,e,n)}}k.runtime=L.C,k.typeName="exa.language_server_pb.ExperimentConfig",k.fields=L.C.util.newFieldList((()=>[{no:1,name:"force_enable_experiments",kind:"enum",T:L.C.getEnumType(a),repeated:!0}]));class M extends S.Q{constructor(e){super(),this.state=m.UNSPECIFIED,this.message="",L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new M).fromBinary(e,n)}static fromJson(e,n){return(new M).fromJson(e,n)}static fromJsonString(e,n){return(new M).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(M,e,n)}}M.runtime=L.C,M.typeName="exa.language_server_pb.State",M.fields=L.C.util.newFieldList((()=>[{no:1,name:"state",kind:"enum",T:L.C.getEnumType(m)},{no:2,name:"message",kind:"scalar",T:9}]));class w extends S.Q{constructor(e){super(),this.startOffset=d.M.zero,this.endOffset=d.M.zero,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new w).fromBinary(e,n)}static fromJson(e,n){return(new w).fromJson(e,n)}static fromJsonString(e,n){return(new w).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(w,e,n)}}w.runtime=L.C,w.typeName="exa.language_server_pb.Range",w.fields=L.C.util.newFieldList((()=>[{no:1,name:"start_offset",kind:"scalar",T:4},{no:2,name:"end_offset",kind:"scalar",T:4},{no:3,name:"start_position",kind:"message",T:R},{no:4,name:"end_position",kind:"message",T:R}]));class x extends S.Q{constructor(e){super(),this.text="",this.deltaCursorOffset=d.M.zero,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new x).fromBinary(e,n)}static fromJson(e,n){return(new x).fromJson(e,n)}static fromJsonString(e,n){return(new x).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(x,e,n)}}x.runtime=L.C,x.typeName="exa.language_server_pb.Suffix",x.fields=L.C.util.newFieldList((()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"delta_cursor_offset",kind:"scalar",T:3}]));class D extends S.Q{constructor(e){super(),this.text="",this.offset=d.M.zero,this.type=E.UNSPECIFIED,this.prefix="",this.line=d.M.zero,L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new D).fromBinary(e,n)}static fromJson(e,n){return(new D).fromJson(e,n)}static fromJsonString(e,n){return(new D).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(D,e,n)}}D.runtime=L.C,D.typeName="exa.language_server_pb.CompletionPart",D.fields=L.C.util.newFieldList((()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"offset",kind:"scalar",T:4},{no:3,name:"type",kind:"enum",T:L.C.getEnumType(E)},{no:4,name:"prefix",kind:"scalar",T:9},{no:5,name:"line",kind:"scalar",T:4}]));class B extends S.Q{constructor(e){super(),this.source=s.UNSPECIFIED,this.completionParts=[],L.C.util.initPartial(e,this)}static fromBinary(e,n){return(new B).fromBinary(e,n)}static fromJson(e,n){return(new B).fromJson(e,n)}static fromJsonString(e,n){return(new B).fromJsonString(e,n)}static equals(e,n){return L.C.util.equals(B,e,n)}}B.runtime=L.C,B.typeName="exa.language_server_pb.CompletionItem",B.fields=L.C.util.newFieldList((()=>[{no:1,name:"completion",kind:"message",T:I},{no:5,name:"suffix",kind:"message",T:x},{no:2,name:"range",kind:"message",T:w},{no:3,name:"source",kind:"enum",T:L.C.getEnumType(s)},{no:8,name:"completion_parts",kind:"message",T:D,repeated:!0}]));var F=t(1021);const b={typeName:"exa.language_server_pb.LanguageServerService",methods:{getCompletions:{name:"GetCompletions",I:P,O:U,kind:F.I.Unary},acceptCompletion:{name:"AcceptCompletion",I:G,O,kind:F.I.Unary},getAuthToken:{name:"GetAuthToken",I:h,O:y,kind:F.I.Unary}}},q=(0,t(8607).createConnectTransport)({baseUrl:"https://server.codeium.com",useBinaryFormat:!0}),K=(0,T.createPromiseClient)(b,q),v=_.UUID.uuid4();class H{constructor(e){this.identifier="codeium",this.name="Codeium",this._apiKey="",this._editorLanguageRegistry=e.editorLanguageRegistry}set apiKey(e){this._apiKey=e}async fetch(e,n){const{text:t,offset:a,mimeType:i}=e,r=this._editorLanguageRegistry.findByMIME(i??""),s=await async function({text:e,cursorOffset:n,config:t,otherDocuments:a}){const i=t.language,r=o[i?.toUpperCase()];return await K.getCompletions({metadata:{ideName:"web",ideVersion:"0.0.5",extensionName:"TODO",extensionVersion:"1.0.0",apiKey:t.apiKey,sessionId:v,authSource:t.authSource},document:{text:e,cursorOffset:BigInt(n),language:r,editorLanguage:i??"python",lineEnding:"\n"},editorOptions:{tabSize:2n,insertSpaces:!0},otherDocuments:a,multilineConfig:void 0},{headers:{Authorization:`Basic ${t.apiKey}-${v}`}})}({text:t,cursorOffset:a,config:{apiKey:this._apiKey,language:r?.support?.language.name},otherDocuments:[]});var m;return{items:(m=s,m.completionItems[0].completionParts.filter((e=>3!==e.type)).map((e=>({...e,offset:Number(e.offset),text:2===e.type?`\n${e.text}`:e.text})))).map((e=>({from:Number(e.offset),to:Number(e.offset),insert:e.text}))).map((e=>({insertText:e.insert})))}}}const V={id:"jupyterlab-codeium:inline-provider",autoStart:!0,requires:[A.ICompletionProviderManager,c.IEditorLanguageRegistry,C.ISettingRegistry],activate:(e,n,t,a)=>{const i=new H({editorLanguageRegistry:t});n.registerInlineProvider(i),a.load(V.id).then((e=>{const n=()=>{const n=e.get("apiKey").composite;if(i.apiKey=n,!n){const e="Codeium API key is not set";console.warn(e),(0,l.showDialog)({title:e,body:"Please set the Codeium API key in the settings editor",buttons:[l.Dialog.okButton()]})}};e.changed.connect((()=>n())),n()})).catch((e=>{console.error(`Failed to load settings for ${V.id}`,e)}))}},Y=V}}]);