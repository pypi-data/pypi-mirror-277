import{q as ee,g as ie,k as ce,e as Le,c as $e,l as Ne}from"./index.cc83fece.js";import{s as te,w as X,W as Ce,o as Ue,z as K,A as Q,h as M,d as f,j as u,i as j,r as p,C as oe,p as Te,X as Ie,P as Ee,f as S,l as O,a as $,g as B,m as z,c as N,R as re,u as x,n as V,E as Se,F as Be,G as Me,H as je,v as De}from"./scheduler.e3781972.js";import{S as ae,i as se,b as Z,d as G,m as Y,a as W,t as R,e as F,f as Ae,g as Oe,c as ze}from"./index.2a4758a9.js";import{y as Ve,z as He,k as ge,n as _e,A as We,m as Pe,b as Re,j as ue,B as qe,C as xe}from"./index.442f0a66.js";import{T as Je}from"./Tags.d20c851a.js";import{a as we}from"./Toaster.svelte_svelte_type_style_lang.143b8570.js";import{a as Ze}from"./index.b3b584e7.js";import{M as Ge,f as Ye}from"./dayjs.min.a430b708.js";import"./updater.b09cefa0.js";import{b as Fe,c as Xe,M as Ke}from"./menu-trigger.0945a056.js";import{g as Qe}from"./navigation.ede83164.js";const $t=async l=>{let e=null;const a=await fetch(`${ee}/memories`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(e=t.detail,console.log(t),null));if(e)throw e;return a},Nt=async(l,e)=>{let a=null;const t=await fetch(`${ee}/memories/add`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`},body:JSON.stringify({content:e})}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).catch(s=>(a=s.detail,console.log(s),null));if(a)throw a;return t},Ut=async(l,e)=>{let a=null;const t=await fetch(`${ee}/memories/query`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`},body:JSON.stringify({content:e})}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).catch(s=>(a=s.detail,console.log(s),null));if(a)throw a;return t},Dt=async(l,e)=>{let a=null;const t=await fetch(`${ee}/memories/${e}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`}}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).then(s=>s).catch(s=>(a=s.detail,console.log(s),null));if(a)throw a;return t},Ot=async l=>{let e=null;const a=await fetch(`${ee}/memories/user`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${l}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).then(t=>t).catch(t=>(e=t.detail,console.log(t),null));if(e)throw e;return a};function et(l){let e,a;return e=new Je({props:{tags:l[0],deleteTag:l[2],addTag:l[1]}}),{c(){Z(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){Y(e,t,s),a=!0},p(t,[s]){const r={};s&1&&(r.tags=t[0]),e.$set(r)},i(t){a||(W(e.$$.fragment,t),a=!0)},o(t){R(e.$$.fragment,t),a=!1},d(t){F(e,t)}}}function tt(l,e,a){let t,s;X(l,ie,d=>a(4,t=d)),X(l,ce,d=>a(5,s=d));const r=Ce();let{chatId:n=""}=e,o=[];const i=async()=>await Ve(localStorage.token,n).catch(async d=>[]),m=async d=>{await He(localStorage.token,n,d),a(0,o=await i()),await ge(localStorage.token,n,{tags:o}),ce.set(await _e(localStorage.token))},g=async d=>{await We(localStorage.token,n,d),a(0,o=await i()),await ge(localStorage.token,n,{tags:o}),console.log(s),await ce.set(await _e(localStorage.token)),console.log(s),s.map(b=>b.name).includes(d)?(await ie.set(await Pe(localStorage.token,d)),t.find(b=>b.id===n)&&r("close")):await ie.set(await Re(localStorage.token))};return Ue(async()=>{n&&a(0,o=await i())}),l.$$set=d=>{"chatId"in d&&a(3,n=d.chatId)},[o,m,g,n]}class zt extends ae{constructor(e){super(),se(this,e,tt,et,te,{chatId:3})}}function at(l){let e,a;return{c(){e=K("svg"),a=K("path"),this.h()},l(t){e=Q(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=M(e);a=Q(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(a).forEach(f),s.forEach(f),this.h()},h(){u(a,"stroke-linecap","round"),u(a,"stroke-linejoin","round"),u(a,"d","m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(t,s){j(t,e,s),p(e,a)},p(t,[s]){s&2&&u(e,"stroke-width",t[1]),s&1&&u(e,"class",t[0])},i:oe,o:oe,d(t){t&&f(e)}}}function st(l,e,a){let{className:t="size-3.5"}=e,{strokeWidth:s="2.5"}=e;return l.$$set=r=>{"className"in r&&a(0,t=r.className),"strokeWidth"in r&&a(1,s=r.strokeWidth)},[t,s]}class lt extends ae{constructor(e){super(),se(this,e,st,at,te,{className:0,strokeWidth:1})}}function nt(l){let e,a,t;return{c(){e=K("svg"),a=K("path"),t=K("path"),this.h()},l(s){e=Q(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=M(e);a=Q(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),M(a).forEach(f),t=Q(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),M(t).forEach(f),r.forEach(f),this.h()},h(){u(a,"fill-rule","evenodd"),u(a,"d","M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z"),u(a,"clip-rule","evenodd"),u(t,"fill-rule","evenodd"),u(t,"d","M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor"),u(e,"class",l[0])},m(s,r){j(s,e,r),p(e,a),p(e,t)},p(s,[r]){r&1&&u(e,"class",s[0])},i:oe,o:oe,d(s){s&&f(e)}}}function ot(l,e,a){let{className:t="w-4 h-4"}=e;return l.$$set=s=>{"className"in s&&a(0,t=s.className)},[t]}class rt extends ae{constructor(e){super(),se(this,e,ot,nt,te,{className:0})}}function ve(l){var A;let e,a,t,s,r,n,o,i,m,g,d,b,_;function k(c,w){return c[2].share_id?ct:it}let I=k(l),E=I(l),v=((A=l[4])==null?void 0:A.features.enable_community_sharing)&&be(l);m=new rt({});function y(c,w){return c[2].share_id?ft:ut}let h=y(l),T=h(l);return{c(){e=S("div"),a=S("div"),E.c(),t=$(),s=S("div"),r=S("div"),n=S("div"),v&&v.c(),o=$(),i=S("button"),Z(m.$$.fragment),g=$(),T.c(),this.h()},l(c){e=B(c,"DIV",{class:!0});var w=M(e);a=B(w,"DIV",{class:!0});var D=M(a);E.l(D),D.forEach(f),t=N(w),s=B(w,"DIV",{class:!0});var P=M(s);r=B(P,"DIV",{class:!0});var J=M(r);n=B(J,"DIV",{class:!0});var H=M(n);v&&v.l(H),o=N(H),i=B(H,"BUTTON",{class:!0,type:!0,id:!0});var q=M(i);G(m.$$.fragment,q),g=N(q),T.l(q),q.forEach(f),H.forEach(f),J.forEach(f),P.forEach(f),w.forEach(f),this.h()},h(){u(a,"class","text-sm dark:text-gray-300 mb-1"),u(i,"class","self-center flex items-center gap-1 px-3.5 py-2 rounded-xl text-sm font-medium bg-emerald-600 hover:bg-emerald-500 text-white"),u(i,"type","button"),u(i,"id","copy-and-share-chat-button"),u(n,"class","flex gap-1"),u(r,"class","flex flex-col items-end space-x-1 mt-1.5"),u(s,"class","flex justify-end"),u(e,"class","px-5 pt-4 pb-5 w-full flex flex-col justify-center")},m(c,w){j(c,e,w),p(e,a),E.m(a,null),p(e,t),p(e,s),p(s,r),p(r,n),v&&v.m(n,null),p(n,o),p(n,i),Y(m,i,null),p(i,g),T.m(i,null),d=!0,b||(_=x(i,"click",l[11]),b=!0)},p(c,w){var D;I===(I=k(c))&&E?E.p(c,w):(E.d(1),E=I(c),E&&(E.c(),E.m(a,null))),(D=c[4])!=null&&D.features.enable_community_sharing?v?v.p(c,w):(v=be(c),v.c(),v.m(n,o)):v&&(v.d(1),v=null),h===(h=y(c))&&T?T.p(c,w):(T.d(1),T=h(c),T&&(T.c(),T.m(i,null)))},i(c){d||(W(m.$$.fragment,c),d=!0)},o(c){R(m.$$.fragment,c),d=!1},d(c){c&&f(e),E.d(),v&&v.d(),F(m),T.d(),b=!1,_()}}}function it(l){let e=l[3].t("Messages you send after creating your link won't be shared. Users with the URL will be able to view the shared chat.")+"",a;return{c(){a=O(e)},l(t){a=z(t,e)},m(t,s){j(t,a,s)},p(t,s){s&8&&e!==(e=t[3].t("Messages you send after creating your link won't be shared. Users with the URL will be able to view the shared chat.")+"")&&V(a,e)},d(t){t&&f(a)}}}function ct(l){let e,a=l[3].t("You have shared this chat")+"",t,s,r,n=l[3].t("before")+"",o,i,m,g,d=l[3].t("Click here to")+"",b,_,k,I=l[3].t("delete this link")+"",E,v,y=l[3].t("and create a new shared link.")+"",h,T,A;return{c(){e=S("a"),t=O(a),s=$(),r=S("span"),o=O(n),i=O("."),g=$(),b=O(d),_=$(),k=S("button"),E=O(I),v=$(),h=O(y),this.h()},l(c){e=B(c,"A",{href:!0,target:!0});var w=M(e);t=z(w,a),s=N(w),r=B(w,"SPAN",{class:!0});var D=M(r);o=z(D,n),D.forEach(f),i=z(w,"."),w.forEach(f),g=N(c),b=z(c,d),_=N(c),k=B(c,"BUTTON",{class:!0});var P=M(k);E=z(P,I),P.forEach(f),v=N(c),h=z(c,y),this.h()},h(){u(r,"class","underline"),u(e,"href",m="/s/"+l[2].share_id),u(e,"target","_blank"),u(k,"class","underline")},m(c,w){j(c,e,w),p(e,t),p(e,s),p(e,r),p(r,o),p(e,i),j(c,g,w),j(c,b,w),j(c,_,w),j(c,k,w),p(k,E),j(c,v,w),j(c,h,w),T||(A=x(k,"click",l[9]),T=!0)},p(c,w){w&8&&a!==(a=c[3].t("You have shared this chat")+"")&&V(t,a),w&8&&n!==(n=c[3].t("before")+"")&&V(o,n),w&4&&m!==(m="/s/"+c[2].share_id)&&u(e,"href",m),w&8&&d!==(d=c[3].t("Click here to")+"")&&V(b,d),w&8&&I!==(I=c[3].t("delete this link")+"")&&V(E,I),w&8&&y!==(y=c[3].t("and create a new shared link.")+"")&&V(h,y)},d(c){c&&(f(e),f(g),f(b),f(_),f(k),f(v),f(h)),T=!1,A()}}}function be(l){let e,a=l[3].t("Share to OpenWebUI Community")+"",t,s,r;return{c(){e=S("button"),t=O(a),this.h()},l(n){e=B(n,"BUTTON",{class:!0,type:!0});var o=M(e);t=z(o,a),o.forEach(f),this.h()},h(){u(e,"class","self-center px-3.5 py-2 rounded-xl text-sm font-medium bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white"),u(e,"type","button")},m(n,o){j(n,e,o),p(e,t),s||(r=x(e,"click",l[10]),s=!0)},p(n,o){o&8&&a!==(a=n[3].t("Share to OpenWebUI Community")+"")&&V(t,a)},d(n){n&&f(e),s=!1,r()}}}function ut(l){let e=l[3].t("Copy Link")+"",a;return{c(){a=O(e)},l(t){a=z(t,e)},m(t,s){j(t,a,s)},p(t,s){s&8&&e!==(e=t[3].t("Copy Link")+"")&&V(a,e)},d(t){t&&f(a)}}}function ft(l){let e=l[3].t("Update and Copy Link")+"",a;return{c(){a=O(e)},l(t){a=z(t,e)},m(t,s){j(t,a,s)},p(t,s){s&8&&e!==(e=t[3].t("Update and Copy Link")+"")&&V(a,e)},d(t){t&&f(a)}}}function dt(l){let e,a,t,s=l[3].t("Share Chat")+"",r,n,o,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,d,b,_=l[2]&&ve(l);return{c(){e=S("div"),a=S("div"),t=S("div"),r=O(s),n=$(),o=S("button"),o.innerHTML=i,m=$(),_&&_.c(),this.h()},l(k){e=B(k,"DIV",{});var I=M(e);a=B(I,"DIV",{class:!0});var E=M(a);t=B(E,"DIV",{class:!0});var v=M(t);r=z(v,s),v.forEach(f),n=N(E),o=B(E,"BUTTON",{class:!0,"data-svelte-h":!0}),re(o)!=="svelte-745w2y"&&(o.innerHTML=i),E.forEach(f),m=N(I),_&&_.l(I),I.forEach(f),this.h()},h(){u(t,"class","text-lg font-medium self-center"),u(o,"class","self-center"),u(a,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-0.5")},m(k,I){j(k,e,I),p(e,a),p(a,t),p(t,r),p(a,n),p(a,o),p(e,m),_&&_.m(e,null),g=!0,d||(b=x(o,"click",l[8]),d=!0)},p(k,I){(!g||I&8)&&s!==(s=k[3].t("Share Chat")+"")&&V(r,s),k[2]?_?(_.p(k,I),I&4&&W(_,1)):(_=ve(k),_.c(),W(_,1),_.m(e,null)):_&&(Oe(),R(_,1,1,()=>{_=null}),ze())},i(k){g||(W(_),g=!0)},o(k){R(_),g=!1},d(k){k&&f(e),_&&_.d(),d=!1,b()}}}function ht(l){let e,a,t;function s(n){l[12](n)}let r={size:"sm",$$slots:{default:[dt]},$$scope:{ctx:l}};return l[0]!==void 0&&(r.show=l[0]),e=new Ge({props:r}),Te.push(()=>Ae(e,"show",s)),{c(){Z(e.$$.fragment)},l(n){G(e.$$.fragment,n)},m(n,o){Y(e,n,o),t=!0},p(n,[o]){const i={};o&65567&&(i.$$scope={dirty:o,ctx:n}),!a&&o&1&&(a=!0,i.show=n[0],Ie(()=>a=!1)),e.$set(i)},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function mt(l,e,a){let t,s,r;X(l,Le,h=>a(14,t=h)),X(l,$e,h=>a(4,r=h));let{chatId:n}=e,o=null,i=null;const m=Ee("i18n");X(l,m,h=>a(3,s=h));const g=async()=>{const h=await qe(localStorage.token,n);return i=`${window.location.origin}/s/${h.id}`,console.log(i),a(2,o=await ue(localStorage.token,n)),i},d=async()=>{const h=o.chat;console.log("share",h),we.success(s.t("Redirecting you to OpenWebUI Community"));const T="https://openwebui.com",A=await window.open(`${T}/chats/upload`,"_blank");window.addEventListener("message",c=>{c.origin===T&&c.data==="loaded"&&A.postMessage(JSON.stringify({chat:h,models:t.filter(w=>h.models.includes(w.id))}),"*")},!1)};let{show:b=!1}=e;const _=h=>o?h?o.id!==h.id||o.share_id!==h.share_id:!1:!0,k=()=>{a(0,b=!1)},I=async()=>{await xe(localStorage.token,n)&&a(2,o=await ue(localStorage.token,n))},E=()=>{d(),a(0,b=!1)},v=async()=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){console.log("isSafari");const T=async()=>{const A=await g();return new Blob([A],{type:"text/plain"})};navigator.clipboard.write([new ClipboardItem({"text/plain":T()})]).then(()=>(console.log("Async: Copying to clipboard was successful!"),!0)).catch(A=>(console.error("Async: Could not copy text: ",A),!1))}else Ze(await g());we.success(s.t("Copied shared chat URL to clipboard!")),a(0,b=!1)};function y(h){b=h,a(0,b)}return l.$$set=h=>{"chatId"in h&&a(1,n=h.chatId),"show"in h&&a(0,b=h.show)},l.$$.update=()=>{l.$$.dirty&7&&b&&(async()=>{if(n){const h=await ue(localStorage.token,n);_(h)&&a(2,o=h)}else a(2,o=null),console.log(o)})()},[b,n,o,s,r,m,g,d,k,I,E,v,y]}class Vt extends ae{constructor(e){super(),se(this,e,mt,ht,te,{chatId:1,show:0})}}const pt=l=>({}),ke=l=>({});function gt(l){let e;const a=l[6].default,t=Se(a,l,l[14],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,r){t&&t.m(s,r),e=!0},p(s,r){t&&t.p&&(!e||r&16384)&&Be(t,a,s,s[14],e?je(a,s[14],r,null):Me(s[14]),null)},i(s){e||(W(t,s),e=!0)},o(s){R(t,s),e=!1},d(s){t&&t.d(s)}}}function ye(l){let e,a,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',s,r,n=l[3].t("Admin Panel")+"",o,i,m;return{c(){e=S("button"),a=S("div"),a.innerHTML=t,s=$(),r=S("div"),o=O(n),this.h()},l(g){e=B(g,"BUTTON",{class:!0});var d=M(e);a=B(d,"DIV",{class:!0,"data-svelte-h":!0}),re(a)!=="svelte-1vodyax"&&(a.innerHTML=t),s=N(d),r=B(d,"DIV",{class:!0});var b=M(r);o=z(b,n),b.forEach(f),d.forEach(f),this.h()},h(){u(a,"class","self-center mr-3"),u(r,"class","self-center font-medium"),u(e,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(g,d){j(g,e,d),p(e,a),p(e,s),p(e,r),p(r,o),i||(m=x(e,"click",l[9]),i=!0)},p(g,d){d&8&&n!==(n=g[3].t("Admin Panel")+"")&&V(o,n)},d(g){g&&f(e),i=!1,m()}}}function _t(l){let e,a,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',s,r,n=l[3].t("Settings")+"",o,i,m,g,d,b,_,k=l[3].t("Archived Chats")+"",I,E,v,y,h,T,A,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd"></path></svg>',w,D,P=l[3].t("Sign Out")+"",J,H,q,fe;d=new lt({props:{className:"size-5",strokeWidth:"1.5"}});let U=l[1]==="admin"&&ye(l);return{c(){e=S("button"),a=S("div"),a.innerHTML=t,s=$(),r=S("div"),o=O(n),i=$(),m=S("button"),g=S("div"),Z(d.$$.fragment),b=$(),_=S("div"),I=O(k),E=$(),U&&U.c(),v=$(),y=S("hr"),h=$(),T=S("button"),A=S("div"),A.innerHTML=c,w=$(),D=S("div"),J=O(P),this.h()},l(C){e=B(C,"BUTTON",{class:!0});var L=M(e);a=B(L,"DIV",{class:!0,"data-svelte-h":!0}),re(a)!=="svelte-1ew1v3e"&&(a.innerHTML=t),s=N(L),r=B(L,"DIV",{class:!0});var de=M(r);o=z(de,n),de.forEach(f),L.forEach(f),i=N(C),m=B(C,"BUTTON",{class:!0});var le=M(m);g=B(le,"DIV",{class:!0});var he=M(g);G(d.$$.fragment,he),he.forEach(f),b=N(le),_=B(le,"DIV",{class:!0});var me=M(_);I=z(me,k),me.forEach(f),le.forEach(f),E=N(C),U&&U.l(C),v=N(C),y=B(C,"HR",{class:!0}),h=N(C),T=B(C,"BUTTON",{class:!0});var ne=M(T);A=B(ne,"DIV",{class:!0,"data-svelte-h":!0}),re(A)!=="svelte-1svlfdm"&&(A.innerHTML=c),w=N(ne),D=B(ne,"DIV",{class:!0});var pe=M(D);J=z(pe,P),pe.forEach(f),ne.forEach(f),this.h()},h(){u(a,"class","self-center mr-3"),u(r,"class","self-center font-medium"),u(e,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),u(g,"class","self-center mr-3"),u(_,"class","self-center font-medium"),u(m,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),u(y,"class","dark:border-gray-800 my-2 p-0"),u(A,"class","self-center mr-3"),u(D,"class","self-center font-medium"),u(T,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(C,L){j(C,e,L),p(e,a),p(e,s),p(e,r),p(r,o),j(C,i,L),j(C,m,L),p(m,g),Y(d,g,null),p(m,b),p(m,_),p(_,I),j(C,E,L),U&&U.m(C,L),j(C,v,L),j(C,y,L),j(C,h,L),j(C,T,L),p(T,A),p(T,w),p(T,D),p(D,J),H=!0,q||(fe=[x(e,"click",l[7]),x(m,"click",l[8]),x(T,"click",l[10])],q=!0)},p(C,L){(!H||L&8)&&n!==(n=C[3].t("Settings")+"")&&V(o,n),(!H||L&8)&&k!==(k=C[3].t("Archived Chats")+"")&&V(I,k),C[1]==="admin"?U?U.p(C,L):(U=ye(C),U.c(),U.m(v.parentNode,v)):U&&(U.d(1),U=null),(!H||L&8)&&P!==(P=C[3].t("Sign Out")+"")&&V(J,P)},i(C){H||(W(d.$$.fragment,C),H=!0)},o(C){R(d.$$.fragment,C),H=!1},d(C){C&&(f(e),f(i),f(m),f(E),f(v),f(y),f(h),f(T)),F(d),U&&U.d(C),q=!1,De(fe)}}}function wt(l){let e,a;return e=new Ke({props:{class:"w-full "+l[2]+" text-sm rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:8,side:"bottom",align:"start",transition:l[11],$$slots:{default:[_t]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){Y(e,t,s),a=!0},p(t,s){const r={};s&4&&(r.class="w-full "+t[2]+" text-sm rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow"),s&16395&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(W(e.$$.fragment,t),a=!0)},o(t){R(e.$$.fragment,t),a=!1},d(t){F(e,t)}}}function vt(l){let e,a,t;e=new Xe({props:{$$slots:{default:[gt]},$$scope:{ctx:l}}});const s=l[6].content,r=Se(s,l,l[14],ke),n=r||wt(l);return{c(){Z(e.$$.fragment),a=$(),n&&n.c()},l(o){G(e.$$.fragment,o),a=N(o),n&&n.l(o)},m(o,i){Y(e,o,i),j(o,a,i),n&&n.m(o,i),t=!0},p(o,i){const m={};i&16384&&(m.$$scope={dirty:i,ctx:o}),e.$set(m),r?r.p&&(!t||i&16384)&&Be(r,s,o,o[14],t?je(s,o[14],i,pt):Me(o[14]),ke):n&&n.p&&(!t||i&15)&&n.p(o,t?i:-1)},i(o){t||(W(e.$$.fragment,o),W(n,o),t=!0)},o(o){R(e.$$.fragment,o),R(n,o),t=!1},d(o){o&&f(a),F(e,o),n&&n.d(o)}}}function bt(l){let e,a,t;function s(n){l[13](n)}let r={onOpenChange:l[12],$$slots:{default:[vt]},$$scope:{ctx:l}};return l[0]!==void 0&&(r.open=l[0]),e=new Fe({props:r}),Te.push(()=>Ae(e,"open",s)),{c(){Z(e.$$.fragment)},l(n){G(e.$$.fragment,n)},m(n,o){Y(e,n,o),t=!0},p(n,[o]){const i={};o&16399&&(i.$$scope={dirty:o,ctx:n}),!a&&o&1&&(a=!0,i.open=n[0],Ie(()=>a=!1)),e.$set(i)},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function kt(l,e,a){let t,{$$slots:s={},$$scope:r}=e;const n=Ee("i18n");X(l,n,y=>a(3,t=y));let{show:o=!1}=e,{role:i=""}=e,{className:m="max-w-[240px]"}=e;const g=Ce(),d=async()=>{await Ne.set(!0),a(0,o=!1)},b=()=>{g("show","archived-chat"),a(0,o=!1)},_=()=>{Qe("/admin"),a(0,o=!1)},k=()=>{localStorage.removeItem("token"),location.href="/auth",a(0,o=!1)},I=y=>Ye(y,{duration:100}),E=y=>{g("change",y)};function v(y){o=y,a(0,o)}return l.$$set=y=>{"show"in y&&a(0,o=y.show),"role"in y&&a(1,i=y.role),"className"in y&&a(2,m=y.className),"$$scope"in y&&a(14,r=y.$$scope)},[o,i,m,t,n,g,s,d,b,_,k,I,E,v,r]}class Ht extends ae{constructor(e){super(),se(this,e,kt,bt,te,{show:0,role:1,className:2})}}export{lt as A,Vt as S,zt as T,Ht as U,Nt as a,Ot as b,Dt as d,$t as g,Ut as q};
//# sourceMappingURL=UserMenu.00c27692.js.map
