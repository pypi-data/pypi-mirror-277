import{s as ct,p as vt,X as Dt,P as wt,w as rt,o as xt,f,l as O,a as T,g as h,h as _,m as N,d as u,c as S,R as Ue,j as r,i as z,r as a,Q as ie,u as ee,O as Ht,n as Z,v as $e,U as qt,V as Lt,C as ut,_ as nt,T as Rt,e as Ot,K as Nt,z as ze,A as Ke,t as Ll,M as Hl}from"../chunks/scheduler.e3781972.js";import{S as pt,i as _t,f as Vt,b as Qe,d as Ye,m as Xe,a as xe,t as Me,e as Je,g as St,c as Mt}from"../chunks/index.2a4758a9.js";import{g as Al}from"../chunks/globals.7f7f1b26.js";import{e as bt}from"../chunks/each.9b39a839.js";import{a as Pe}from"../chunks/Toaster.svelte_svelte_type_style_lang.143b8570.js";import{f as Cl}from"../chunks/FileSaver.min.898eb36f.js";import{n as lt,e as Pl,c as Bl,S as kl,r as yl,W as Ol}from"../chunks/index.cc83fece.js";import{u as Nl,g as it,t as Gt,c as jt,d as Wt}from"../chunks/index.42f4b191.js";import{g as El,s as Ul,c as Rl,d as jl,e as ql,f as Il,h as Zl,i as zl,j as Dl,k as Vl,u as xl,A as Kl}from"../chunks/AddFilesPlaceholder.c0504c6f.js";import{t as Tl}from"../chunks/index.b3b584e7.js";import{C as Sl}from"../chunks/Checkbox.61519300.js";import{M as Zt}from"../chunks/dayjs.min.a430b708.js";import{T as Ml}from"../chunks/Tags.d20c851a.js";import"../chunks/sha256.8dba905a.js";import{S as Fl}from"../chunks/Switch.31f8d339.js";import{g as Gl}from"../chunks/index.ed263ccd.js";function Wl(s){let e,t,l,o=s[3].t("Edit Doc")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,p,g,w,k,x=s[3].t("Name Tag")+"",V,L,D,E,M="#",H,P,A,$,te,K=s[3].t("Title")+"",re,se,F,ne,pe,Q,Y,R=s[3].t("Tags")+"",G,ae,le,de,I,B,C=s[3].t("Save")+"",U,W,we,ce;return le=new Ml({props:{tags:s[1],addTag:s[6],deleteTag:s[7]}}),{c(){e=f("div"),t=f("div"),l=f("div"),i=O(o),n=T(),d=f("button"),d.innerHTML=c,b=T(),m=f("div"),v=f("div"),p=f("form"),g=f("div"),w=f("div"),k=f("div"),V=O(x),L=T(),D=f("div"),E=f("div"),E.textContent=M,H=T(),P=f("input"),A=T(),$=f("div"),te=f("div"),re=O(K),se=T(),F=f("div"),ne=f("input"),pe=T(),Q=f("div"),Y=f("div"),G=O(R),ae=T(),Qe(le.$$.fragment),de=T(),I=f("div"),B=f("button"),U=O(C),this.h()},l(X){e=h(X,"DIV",{});var oe=_(e);t=h(oe,"DIV",{class:!0});var q=_(t);l=h(q,"DIV",{class:!0});var fe=_(l);i=N(fe,o),fe.forEach(u),n=S(q),d=h(q,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(d)!=="svelte-745w2y"&&(d.innerHTML=c),q.forEach(u),b=S(oe),m=h(oe,"DIV",{class:!0});var be=_(m);v=h(be,"DIV",{class:!0});var He=_(v);p=h(He,"FORM",{class:!0});var Ee=_(p);g=h(Ee,"DIV",{class:!0});var Se=_(g);w=h(Se,"DIV",{class:!0});var _e=_(w);k=h(_e,"DIV",{class:!0});var Be=_(k);V=N(Be,x),Be.forEach(u),L=S(_e),D=h(_e,"DIV",{class:!0});var he=_(D);E=h(he,"DIV",{class:!0,"data-svelte-h":!0}),Ue(E)!=="svelte-113b805"&&(E.textContent=M),H=S(he),P=h(he,"INPUT",{class:!0,type:!0,autocomplete:!0}),he.forEach(u),_e.forEach(u),A=S(Se),$=h(Se,"DIV",{class:!0});var me=_($);te=h(me,"DIV",{class:!0});var Oe=_(te);re=N(Oe,K),Oe.forEach(u),se=S(me),F=h(me,"DIV",{class:!0});var Ne=_(F);ne=h(Ne,"INPUT",{class:!0,type:!0,autocomplete:!0}),Ne.forEach(u),me.forEach(u),pe=S(Se),Q=h(Se,"DIV",{class:!0});var ge=_(Q);Y=h(ge,"DIV",{class:!0});var ke=_(Y);G=N(ke,R),ke.forEach(u),ae=S(ge),Ye(le.$$.fragment,ge),ge.forEach(u),Se.forEach(u),de=S(Ee),I=h(Ee,"DIV",{class:!0});var Ie=_(I);B=h(Ie,"BUTTON",{class:!0,type:!0});var Re=_(B);U=N(Re,C),Re.forEach(u),Ie.forEach(u),Ee.forEach(u),He.forEach(u),be.forEach(u),oe.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(k,"class","mb-1 text-xs text-gray-500"),r(E,"class","bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),r(P,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),r(P,"type","text"),r(P,"autocomplete","off"),P.required=!0,r(D,"class","flex flex-1"),r(w,"class","flex flex-col w-full"),r(te,"class","mb-1 text-xs text-gray-500"),r(ne,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),r(ne,"type","text"),r(ne,"autocomplete","off"),ne.required=!0,r(F,"class","flex-1"),r($,"class","flex flex-col w-full"),r(Y,"class","mb-2 text-xs text-gray-500"),r(Q,"class","flex flex-col w-full"),r(g,"class","flex flex-col space-y-1.5"),r(B,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(B,"type","submit"),r(I,"class","flex justify-end pt-5 text-sm font-medium"),r(p,"class","flex flex-col w-full"),r(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(X,oe){z(X,e,oe),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,p),a(p,g),a(g,w),a(w,k),a(k,V),a(w,L),a(w,D),a(D,E),a(D,H),a(D,P),ie(P,s[2].name),a(g,A),a(g,$),a($,te),a(te,re),a($,se),a($,F),a(F,ne),ie(ne,s[2].title),a(g,pe),a(g,Q),a(Q,Y),a(Y,G),a(Q,ae),Xe(le,Q,null),a(p,de),a(p,I),a(I,B),a(B,U),W=!0,we||(ce=[ee(d,"click",s[9]),ee(P,"input",s[10]),ee(ne,"input",s[11]),ee(p,"submit",Ht(s[12]))],we=!0)},p(X,oe){(!W||oe&8)&&o!==(o=X[3].t("Edit Doc")+"")&&Z(i,o),(!W||oe&8)&&x!==(x=X[3].t("Name Tag")+"")&&Z(V,x),oe&4&&P.value!==X[2].name&&ie(P,X[2].name),(!W||oe&8)&&K!==(K=X[3].t("Title")+"")&&Z(re,K),oe&4&&ne.value!==X[2].title&&ie(ne,X[2].title),(!W||oe&8)&&R!==(R=X[3].t("Tags")+"")&&Z(G,R);const q={};oe&2&&(q.tags=X[1]),le.$set(q),(!W||oe&8)&&C!==(C=X[3].t("Save")+"")&&Z(U,C)},i(X){W||(xe(le.$$.fragment,X),W=!0)},o(X){Me(le.$$.fragment,X),W=!1},d(X){X&&u(e),Je(le),we=!1,$e(ce)}}}function Ql(s){let e,t,l;function o(n){s[13](n)}let i={size:"sm",$$slots:{default:[Wl]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Zt({props:i}),vt.push(()=>Vt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&16399&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],Dt(()=>t=!1)),e.$set(c)},i(n){l||(xe(e.$$.fragment,n),l=!0)},o(n){Me(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function Yl(s,e,t){let l;const o=wt("i18n");rt(s,o,V=>t(3,l=V));let{show:i=!1}=e,{selectedDoc:n}=e,d=[],c={name:"",title:"",content:null};const b=async()=>{await Nl(localStorage.token,n.name,{title:c.title,name:c.name}).catch(L=>{Pe.error(L)})&&(t(0,i=!1),lt.set(await it(localStorage.token)))},m=async V=>{!d.find(L=>L.name===V)&&V!==""?(t(1,d=[...d,{name:V}]),await Gt(localStorage.token,c.name,{name:c.name,tags:d}),lt.set(await it(localStorage.token))):console.log("tag already exists")},v=async V=>{t(1,d=d.filter(L=>L.name!==V)),await Gt(localStorage.token,c.name,{name:c.name,tags:d}),lt.set(await it(localStorage.token))};xt(()=>{var V;n&&(t(2,c=JSON.parse(JSON.stringify(n))),t(1,d=((V=c==null?void 0:c.content)==null?void 0:V.tags)??[]))});const p=()=>{t(0,i=!1)};function g(){c.name=this.value,t(2,c)}function w(){c.title=this.value,t(2,c)}const k=()=>{b()};function x(V){i=V,t(0,i)}return s.$$set=V=>{"show"in V&&t(0,i=V.show),"selectedDoc"in V&&t(8,n=V.selectedDoc)},[i,d,c,l,o,b,m,v,n,p,g,w,k,x]}class Xl extends pt{constructor(e){super(),_t(this,e,Yl,Ql,ct,{show:0,selectedDoc:8})}}function Qt(s,e,t){const l=s.slice();return l[39]=e[t],l}function Yt(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1q5d1z1"&&(e.innerHTML=t),this.h()},h(){r(e,"class","ml-3 self-center")},m(l,o){z(l,e,o)},d(l){l&&u(e)}}}function Xt(s){let e,t,l,o,i,n,d,c,b,m=s[12].t("Embedding Batch Size")+"",v,p,g,w,k,x,V,L,D;return{c(){e=f("div"),t=f("input"),o=T(),i=f("input"),d=T(),c=f("div"),b=f("div"),v=O(m),p=T(),g=f("div"),w=f("input"),k=T(),x=f("div"),V=f("input"),this.h()},l(E){e=h(E,"DIV",{class:!0});var M=_(e);t=h(M,"INPUT",{class:!0,placeholder:!0}),o=S(M),i=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),d=S(E),c=h(E,"DIV",{class:!0});var H=_(c);b=h(H,"DIV",{class:!0});var P=_(b);v=N(P,m),P.forEach(u),p=S(H),g=h(H,"DIV",{class:!0});var A=_(g);w=h(A,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),A.forEach(u),k=S(H),x=h(H,"DIV",{class:!0});var $=_(x);V=h($,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),$.forEach(u),H.forEach(u),this.h()},h(){r(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(t,"placeholder",l=s[12].t("API Base URL")),t.required=!0,r(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(i,"placeholder",n=s[12].t("API Key")),i.required=!0,r(e,"class","my-0.5 flex gap-2"),r(b,"class","self-center text-xs font-medium"),r(w,"id","steps-range"),r(w,"type","range"),r(w,"min","1"),r(w,"max","2048"),r(w,"step","1"),r(w,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),r(g,"class","flex-1"),r(V,"type","number"),r(V,"class","bg-transparent text-center w-14"),r(V,"min","-2"),r(V,"max","16000"),r(V,"step","1"),r(x,"class",""),r(c,"class","flex mt-0.5 space-x-2")},m(E,M){z(E,e,M),a(e,t),ie(t,s[9]),a(e,o),a(e,i),ie(i,s[8]),z(E,d,M),z(E,c,M),a(c,b),a(b,v),a(c,p),a(c,g),a(g,w),ie(w,s[10]),a(c,k),a(c,x),a(x,V),ie(V,s[10]),L||(D=[ee(t,"input",s[23]),ee(i,"input",s[24]),ee(w,"change",s[25]),ee(w,"input",s[25]),ee(V,"input",s[26])],L=!0)},p(E,M){M[0]&4096&&l!==(l=E[12].t("API Base URL"))&&r(t,"placeholder",l),M[0]&512&&t.value!==E[9]&&ie(t,E[9]),M[0]&4096&&n!==(n=E[12].t("API Key"))&&r(i,"placeholder",n),M[0]&256&&i.value!==E[8]&&ie(i,E[8]),M[0]&4096&&m!==(m=E[12].t("Embedding Batch Size")+"")&&Z(v,m),M[0]&1024&&ie(w,E[10]),M[0]&1024&&nt(V.value)!==E[10]&&ie(V,E[10])},d(E){E&&(u(e),u(d),u(c)),L=!1,$e(D)}}}function Jl(s){let e,t=s[12].t("Off")+"",l;return{c(){e=f("span"),l=O(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=_(e);l=N(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){z(o,e,i),a(e,l)},p(o,i){i[0]&4096&&t!==(t=o[12].t("Off")+"")&&Z(l,t)},d(o){o&&u(e)}}}function $l(s){let e,t=s[12].t("On")+"",l;return{c(){e=f("span"),l=O(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=_(e);l=N(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){z(o,e,i),a(e,l)},p(o,i){i[0]&4096&&t!==(t=o[12].t("On")+"")&&Z(l,t)},d(o){o&&u(e)}}}function es(s){let e,t,l,o,i,n,d,c=s[5]===""&&Jt(s);return{c(){e=f("div"),t=f("div"),l=f("input"),i=T(),c&&c.c(),this.h()},l(b){e=h(b,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),i=S(m),c&&c.l(m),m.forEach(u),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",o=s[12].t("Set embedding model (e.g. {{model}})",{model:s[6].slice(-40)})),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(b,m){z(b,e,m),a(e,t),a(t,l),ie(l,s[6]),a(e,i),c&&c.m(e,null),n||(d=ee(l,"input",s[29]),n=!0)},p(b,m){m[0]&12352&&o!==(o=b[12].t("Set embedding model (e.g. {{model}})",{model:b[6].slice(-40)}))&&r(l,"placeholder",o),m[0]&8256&&l.value!==b[6]&&ie(l,b[6]),b[5]===""?c?c.p(b,m):(c=Jt(b),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(b){b&&u(e),c&&c.d(),n=!1,d()}}}function ts(s){let e,t,l,o,i,n,d,c=!s[6]&&$t(s),b=bt(s[13].filter(ll)),m=[];for(let v=0;v<b.length;v+=1)m[v]=el(Qt(s,b,v));return{c(){e=f("div"),t=f("div"),l=f("select"),c&&c.c(),o=Ot();for(let v=0;v<m.length;v+=1)m[v].c();this.h()},l(v){e=h(v,"DIV",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var g=_(t);l=h(g,"SELECT",{class:!0,placeholder:!0});var w=_(l);c&&c.l(w),o=Ot();for(let k=0;k<m.length;k+=1)m[k].l(w);w.forEach(u),g.forEach(u),p.forEach(u),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",i=s[12].t("Select a model")),l.required=!0,s[6]===void 0&&qt(()=>s[28].call(l)),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(v,p){z(v,e,p),a(e,t),a(t,l),c&&c.m(l,null),a(l,o);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(l,null);Lt(l,s[6],!0),n||(d=ee(l,"change",s[28]),n=!0)},p(v,p){if(v[6]?c&&(c.d(1),c=null):c?c.p(v,p):(c=$t(v),c.c(),c.m(l,o)),p[0]&8192){b=bt(v[13].filter(ll));let g;for(g=0;g<b.length;g+=1){const w=Qt(v,b,g);m[g]?m[g].p(w,p):(m[g]=el(w),m[g].c(),m[g].m(l,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=b.length}p[0]&4096&&i!==(i=v[12].t("Select a model"))&&r(l,"placeholder",i),p[0]&8256&&Lt(l,v[6])},d(v){v&&u(e),c&&c.d(),Nt(m,v),n=!1,d()}}}function Jt(s){let e,t,l;function o(d,c){return d[2]?ss:ls}let i=o(s),n=i(s);return{c(){e=f("button"),n.c(),this.h()},l(d){e=h(d,"BUTTON",{class:!0});var c=_(e);n.l(c),c.forEach(u),this.h()},h(){r(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[2]},m(d,c){z(d,e,c),n.m(e,null),t||(l=ee(e,"click",s[30]),t=!0)},p(d,c){i!==(i=o(d))&&(n.d(1),n=i(d),n&&(n.c(),n.m(e,null))),c[0]&4&&(e.disabled=d[2])},d(d){d&&u(e),n.d(),t=!1,l()}}}function ls(s){let e,t,l;return{c(){e=ze("svg"),t=ze("path"),l=ze("path"),this.h()},l(o){e=Ke(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=Ke(i,"path",{d:!0}),_(t).forEach(u),l=Ke(i,"path",{d:!0}),_(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(o,i){z(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function ss(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,o){z(l,e,o)},d(l){l&&u(e)}}}function $t(s){let e,t=s[12].t("Select a model")+"",l;return{c(){e=f("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=N(i,t),i.forEach(u),this.h()},h(){e.__value="",ie(e,e.__value),e.disabled=!0,e.selected=!0},m(o,i){z(o,e,i),a(e,l)},p(o,i){i[0]&4096&&t!==(t=o[12].t("Select a model")+"")&&Z(l,t)},d(o){o&&u(e)}}}function el(s){let e,t=s[39].name+" ("+(s[39].size/1073741824).toFixed(1)+" GB)",l,o;return{c(){e=f("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=_(e);l=N(n,t),n.forEach(u),this.h()},h(){e.__value=o=s[39].name,ie(e,e.__value),r(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){z(i,e,n),a(e,l)},p(i,n){n[0]&8192&&t!==(t=i[39].name+" ("+(i[39].size/1024**3).toFixed(1)+" GB)")&&Z(l,t),n[0]&8192&&o!==(o=i[39].name)&&(e.__value=o,ie(e,e.__value))},d(i){i&&u(e)}}}function tl(s){let e,t,l=s[12].t("Reranking Model")+"",o,i,n,d,c,b,m,v,p,g;function w(V,L){return V[3]?rs:as}let k=w(s),x=k(s);return{c(){e=f("div"),t=f("div"),o=O(l),i=T(),n=f("div"),d=f("div"),c=f("input"),m=T(),v=f("button"),x.c(),this.h()},l(V){e=h(V,"DIV",{class:!0});var L=_(e);t=h(L,"DIV",{class:!0});var D=_(t);o=N(D,l),D.forEach(u),i=S(L),n=h(L,"DIV",{class:!0});var E=_(n);d=h(E,"DIV",{class:!0});var M=_(d);c=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),m=S(E),v=h(E,"BUTTON",{class:!0});var H=_(v);x.l(H),H.forEach(u),E.forEach(u),L.forEach(u),this.h()},h(){r(t,"class","mb-2 text-sm font-medium"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"placeholder",b=s[12].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),r(d,"class","flex-1 mr-2"),r(v,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),v.disabled=s[3],r(n,"class","flex w-full"),r(e,"class","")},m(V,L){z(V,e,L),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),ie(c,s[7]),a(n,m),a(n,v),x.m(v,null),p||(g=[ee(c,"input",s[31]),ee(v,"click",s[32])],p=!0)},p(V,L){L[0]&4096&&l!==(l=V[12].t("Reranking Model")+"")&&Z(o,l),L[0]&4096&&b!==(b=V[12].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&r(c,"placeholder",b),L[0]&128&&c.value!==V[7]&&ie(c,V[7]),k!==(k=w(V))&&(x.d(1),x=k(V),x&&(x.c(),x.m(v,null))),L[0]&8&&(v.disabled=V[3])},d(V){V&&u(e),x.d(),p=!1,$e(g)}}}function as(s){let e,t,l;return{c(){e=ze("svg"),t=ze("path"),l=ze("path"),this.h()},l(o){e=Ke(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=Ke(i,"path",{d:!0}),_(t).forEach(u),l=Ke(i,"path",{d:!0}),_(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(o,i){z(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function rs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,o){z(l,e,o)},d(l){l&&u(e)}}}function ns(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',o,i,n=s[12].t("Reset Vector Storage")+"",d,c,b;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,o=T(),i=f("div"),d=O(n),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var v=_(e);t=h(v,"DIV",{class:!0,"data-svelte-h":!0}),Ue(t)!=="svelte-16tyzd9"&&(t.innerHTML=l),o=S(v),i=h(v,"DIV",{class:!0});var p=_(i);d=N(p,n),p.forEach(u),v.forEach(u),this.h()},h(){r(t,"class","self-center mr-3"),r(i,"class","self-center text-sm font-medium"),r(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(m,v){z(m,e,v),a(e,t),a(e,o),a(e,i),a(i,d),c||(b=ee(e,"click",s[35]),c=!0)},p(m,v){v[0]&4096&&n!==(n=m[12].t("Reset Vector Storage")+"")&&Z(d,n)},d(m){m&&u(e),c=!1,b()}}}function os(s){let e,t,l,o,i,n,d,c=s[12].t("Are you sure?")+"",b,m,v,p,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,k,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,L;return{c(){e=f("div"),t=f("div"),l=ze("svg"),o=ze("path"),i=ze("path"),n=T(),d=f("span"),b=O(c),m=T(),v=f("div"),p=f("button"),p.innerHTML=g,w=T(),k=f("button"),k.innerHTML=x,this.h()},l(D){e=h(D,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var M=_(t);l=Ke(M,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var H=_(l);o=Ke(H,"path",{d:!0}),_(o).forEach(u),i=Ke(H,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(i).forEach(u),H.forEach(u),n=S(M),d=h(M,"SPAN",{});var P=_(d);b=N(P,c),P.forEach(u),M.forEach(u),m=S(E),v=h(E,"DIV",{class:!0});var A=_(v);p=h(A,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(p)!=="svelte-utedoe"&&(p.innerHTML=g),w=S(A),k=h(A,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(k)!=="svelte-x16t1b"&&(k.innerHTML=x),A.forEach(u),E.forEach(u),this.h()},h(){r(o,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),r(i,"fill-rule","evenodd"),r(i,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),r(i,"clip-rule","evenodd"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"viewBox","0 0 16 16"),r(l,"fill","currentColor"),r(l,"class","w-4 h-4"),r(t,"class","flex items-center space-x-3"),r(p,"class","hover:text-white transition"),r(k,"class","hover:text-white transition"),r(v,"class","flex space-x-1.5 items-center"),r(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,E){z(D,e,E),a(e,t),a(t,l),a(l,o),a(l,i),a(t,n),a(t,d),a(d,b),a(e,m),a(e,v),a(v,p),a(v,w),a(v,k),V||(L=[ee(p,"click",s[33]),ee(k,"click",s[34])],V=!0)},p(D,E){E[0]&4096&&c!==(c=D[12].t("Are you sure?")+"")&&Z(b,c)},d(D){D&&u(e),V=!1,$e(L)}}}function is(s){let e,t,l,o,i=s[12].t("General Settings")+"",n,d,c,b,m=s[12].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",v,p,g,w,k=s[12].t("Scan")+"",x,V,L,D,E,M,H=s[12].t("Embedding Model Engine")+"",P,A,$,te,K,re=s[12].t("Default (SentenceTransformers)")+"",se,F,ne=s[12].t("Ollama")+"",pe,Q,Y=s[12].t("OpenAI")+"",R,G,ae,le,de,I=s[12].t("Hybrid Search")+"",B,C,U,W,we,ce,X,oe,q,fe,be=s[12].t("Embedding Model")+"",He,Ee,Se,_e,Be=s[12].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",he,me,Oe,Ne,ge,ke,Ie,Re,Ze=s[12].t("Save")+"",Ae,J,ue,De=s[1]&&Yt(),ye=s[5]==="openai"&&Xt(s);function Ve(y,j){return y[11].hybrid===!0?$l:Jl}let qe=Ve(s),Fe=qe(s);function mt(y,j){return y[5]==="ollama"?ts:es}let dt=mt(s),Ge=dt(s),ve=s[11].hybrid===!0&&tl(s);function et(y,j){return y[4]?os:ns}let Te=et(s),We=Te(s);return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=O(i),d=T(),c=f("div"),b=f("div"),v=O(m),p=T(),g=f("button"),w=f("div"),x=O(k),V=T(),De&&De.c(),D=T(),E=f("div"),M=f("div"),P=O(H),A=T(),$=f("div"),te=f("select"),K=f("option"),se=O(re),F=f("option"),pe=O(ne),Q=f("option"),R=O(Y),G=T(),ye&&ye.c(),ae=T(),le=f("div"),de=f("div"),B=O(I),C=T(),U=f("button"),Fe.c(),W=T(),we=f("hr"),ce=T(),X=f("div"),oe=T(),q=f("div"),fe=f("div"),He=O(be),Ee=T(),Ge.c(),Se=T(),_e=f("div"),he=O(Be),me=T(),ve&&ve.c(),Oe=T(),Ne=f("hr"),ge=T(),We.c(),ke=T(),Ie=f("div"),Re=f("button"),Ae=O(Ze),this.h()},l(y){e=h(y,"FORM",{class:!0});var j=_(e);t=h(j,"DIV",{class:!0});var Le=_(t);l=h(Le,"DIV",{class:!0});var je=_(l);o=h(je,"DIV",{class:!0});var Ce=_(o);n=N(Ce,i),Ce.forEach(u),d=S(je),c=h(je,"DIV",{class:!0});var tt=_(c);b=h(tt,"DIV",{class:!0});var ot=_(b);v=N(ot,m),ot.forEach(u),p=S(tt),g=h(tt,"BUTTON",{class:!0,type:!0});var st=_(g);w=h(st,"DIV",{class:!0});var At=_(w);x=N(At,k),At.forEach(u),V=S(st),De&&De.l(st),st.forEach(u),tt.forEach(u),D=S(je),E=h(je,"DIV",{class:!0});var gt=_(E);M=h(gt,"DIV",{class:!0});var kt=_(M);P=N(kt,H),kt.forEach(u),A=S(gt),$=h(gt,"DIV",{class:!0});var yt=_($);te=h(yt,"SELECT",{class:!0,placeholder:!0});var Et=_(te);K=h(Et,"OPTION",{});var Ct=_(K);se=N(Ct,re),Ct.forEach(u),F=h(Et,"OPTION",{});var Pt=_(F);pe=N(Pt,ne),Pt.forEach(u),Q=h(Et,"OPTION",{});var ft=_(Q);R=N(ft,Y),ft.forEach(u),Et.forEach(u),yt.forEach(u),gt.forEach(u),G=S(je),ye&&ye.l(je),ae=S(je),le=h(je,"DIV",{class:!0});var ht=_(le);de=h(ht,"DIV",{class:!0});var Bt=_(de);B=N(Bt,I),Bt.forEach(u),C=S(ht),U=h(ht,"BUTTON",{class:!0,type:!0});var It=_(U);Fe.l(It),It.forEach(u),ht.forEach(u),je.forEach(u),W=S(Le),we=h(Le,"HR",{class:!0}),ce=S(Le),X=h(Le,"DIV",{class:!0}),_(X).forEach(u),oe=S(Le),q=h(Le,"DIV",{});var at=_(q);fe=h(at,"DIV",{class:!0});var Tt=_(fe);He=N(Tt,be),Tt.forEach(u),Ee=S(at),Ge.l(at),Se=S(at),_e=h(at,"DIV",{class:!0});var zt=_(_e);he=N(zt,Be),zt.forEach(u),me=S(at),ve&&ve.l(at),at.forEach(u),Oe=S(Le),Ne=h(Le,"HR",{class:!0}),ge=S(Le),We.l(Le),Le.forEach(u),ke=S(j),Ie=h(j,"DIV",{class:!0});var Kt=_(Ie);Re=h(Kt,"BUTTON",{class:!0,type:!0});var Ft=_(Re);Ae=N(Ft,Ze),Ft.forEach(u),Kt.forEach(u),j.forEach(u),this.h()},h(){r(o,"class","mb-0.5 text-sm font-medium"),r(b,"class","self-center text-xs font-medium"),r(w,"class","self-center font-medium"),r(g,"class",L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),r(g,"type","button"),g.disabled=s[1],r(c,"class","flex w-full justify-between"),r(M,"class","self-center text-xs font-medium"),K.__value="",ie(K,K.__value),F.__value="ollama",ie(F,F.__value),Q.__value="openai",ie(Q,Q.__value),r(te,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r(te,"placeholder","Select an embedding model engine"),s[5]===void 0&&qt(()=>s[21].call(te)),r($,"class","flex items-center relative"),r(E,"class","flex w-full justify-between"),r(de,"class","self-center text-xs font-medium"),r(U,"class","p-1 px-3 text-xs flex rounded transition"),r(U,"type","button"),r(le,"class","flex w-full justify-between"),r(l,"class","flex flex-col gap-0.5"),r(we,"class","dark:border-gray-700 my-1"),r(X,"class","space-y-2"),r(fe,"class","mb-2 text-sm font-medium"),r(_e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(Ne,"class","dark:border-gray-700"),r(t,"class","space-y-2.5 pr-1.5 overflow-y-scroll max-h-[28rem]"),r(Re,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(Re,"type","submit"),r(Ie,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(y,j){z(y,e,j),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,v),a(c,p),a(c,g),a(g,w),a(w,x),a(g,V),De&&De.m(g,null),a(l,D),a(l,E),a(E,M),a(M,P),a(E,A),a(E,$),a($,te),a(te,K),a(K,se),a(te,F),a(F,pe),a(te,Q),a(Q,R),Lt(te,s[5],!0),a(l,G),ye&&ye.m(l,null),a(l,ae),a(l,le),a(le,de),a(de,B),a(le,C),a(le,U),Fe.m(U,null),a(t,W),a(t,we),a(t,ce),a(t,X),a(t,oe),a(t,q),a(q,fe),a(fe,He),a(q,Ee),Ge.m(q,null),a(q,Se),a(q,_e),a(_e,he),a(q,me),ve&&ve.m(q,null),a(t,Oe),a(t,Ne),a(t,ge),We.m(t,null),a(e,ke),a(e,Ie),a(Ie,Re),a(Re,Ae),J||(ue=[ee(g,"click",s[20]),ee(te,"change",s[21]),ee(te,"change",s[22]),ee(U,"click",s[27]),ee(e,"submit",Ht(s[36]))],J=!0)},p(y,j){j[0]&4096&&i!==(i=y[12].t("General Settings")+"")&&Z(n,i),j[0]&4096&&m!==(m=y[12].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&Z(v,m),j[0]&4096&&k!==(k=y[12].t("Scan")+"")&&Z(x,k),y[1]?De||(De=Yt(),De.c(),De.m(g,null)):De&&(De.d(1),De=null),j[0]&2&&L!==(L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(y[1]?" cursor-not-allowed":""))&&r(g,"class",L),j[0]&2&&(g.disabled=y[1]),j[0]&4096&&H!==(H=y[12].t("Embedding Model Engine")+"")&&Z(P,H),j[0]&4096&&re!==(re=y[12].t("Default (SentenceTransformers)")+"")&&Z(se,re),j[0]&4096&&ne!==(ne=y[12].t("Ollama")+"")&&Z(pe,ne),j[0]&4096&&Y!==(Y=y[12].t("OpenAI")+"")&&Z(R,Y),j[0]&32&&Lt(te,y[5]),y[5]==="openai"?ye?ye.p(y,j):(ye=Xt(y),ye.c(),ye.m(l,ae)):ye&&(ye.d(1),ye=null),j[0]&4096&&I!==(I=y[12].t("Hybrid Search")+"")&&Z(B,I),qe===(qe=Ve(y))&&Fe?Fe.p(y,j):(Fe.d(1),Fe=qe(y),Fe&&(Fe.c(),Fe.m(U,null))),j[0]&4096&&be!==(be=y[12].t("Embedding Model")+"")&&Z(He,be),dt===(dt=mt(y))&&Ge?Ge.p(y,j):(Ge.d(1),Ge=dt(y),Ge&&(Ge.c(),Ge.m(q,Se))),j[0]&4096&&Be!==(Be=y[12].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&Z(he,Be),y[11].hybrid===!0?ve?ve.p(y,j):(ve=tl(y),ve.c(),ve.m(q,null)):ve&&(ve.d(1),ve=null),Te===(Te=et(y))&&We?We.p(y,j):(We.d(1),We=Te(y),We&&(We.c(),We.m(t,null))),j[0]&4096&&Ze!==(Ze=y[12].t("Save")+"")&&Z(Ae,Ze)},i:ut,o:ut,d(y){y&&u(e),De&&De.d(),ye&&ye.d(),Fe.d(),Ge.d(),ve&&ve.d(),We.d(),J=!1,$e(ue)}}}const ll=s=>s.id&&!s.external;function us(s,e,t){let l,o;rt(s,Pl,C=>t(13,o=C));const i=wt("i18n");rt(s,i,C=>t(12,l=C));let{saveHandler:n}=e,d=!1,c=!1,b=!1,m=!1,v="",p="",g="",w="",k="",x=1,V={template:"",r:0,k:4,hybrid:!1};const L=async()=>{t(1,d=!0);const C=await Ul(localStorage.token);t(1,d=!1),C&&(await lt.set(await it(localStorage.token)),Pe.success(l.t("Scan complete!")))},D=async()=>{if(v===""&&p.split("/").length-1>1){Pe.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(v==="ollama"&&p===""){Pe.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(v==="openai"&&p===""){Pe.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(v==="openai"&&w===""||k===""){Pe.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",p),t(2,c=!0);const C=await zl(localStorage.token,{embedding_engine:v,embedding_model:p,...v==="openai"?{openai_config:{key:w,url:k,batch_size:x}}:{}}).catch(async U=>(Pe.error(U),await H(),null));t(2,c=!1),C&&(console.log("embeddingModelUpdateHandler:",C),C.status===!0&&Pe.success(l.t('Embedding model set to "{{embedding_model}}"',C),{duration:1e3*10}))},E=async()=>{console.log("Update reranking model attempt:",g),t(3,b=!0);const C=await Rl(localStorage.token,{reranking_model:g}).catch(async U=>(Pe.error(U),await P(),null));t(3,b=!1),C&&(console.log("rerankingModelUpdateHandler:",C),C.status===!0&&(g===""?Pe.success(l.t("Reranking model disabled",C),{duration:1e3*10}):Pe.success(l.t('Reranking model set to "{{reranking_model}}"',C),{duration:1e3*10})))},M=async()=>{D(),V.hybrid&&E()},H=async()=>{const C=await jl(localStorage.token);C&&(t(5,v=C.embedding_engine),t(6,p=C.embedding_model),t(8,w=C.openai_config.key),t(9,k=C.openai_config.url),t(10,x=C.openai_config.batch_size??1))},P=async()=>{const C=await ql(localStorage.token);C&&t(7,g=C.reranking_model)},A=async()=>{t(11,V.hybrid=!V.hybrid,V),t(11,V=await Il(localStorage.token,V))};xt(async()=>{await H(),await P(),t(11,V=await El(localStorage.token))});const $=()=>{L(),console.log("check")};function te(){v=Rt(this),t(5,v)}const K=C=>{C.target.value==="ollama"?t(6,p=""):C.target.value==="openai"?t(6,p="text-embedding-3-small"):C.target.value===""&&t(6,p="sentence-transformers/all-MiniLM-L6-v2")};function re(){k=this.value,t(9,k)}function se(){w=this.value,t(8,w)}function F(){x=nt(this.value),t(10,x)}function ne(){x=nt(this.value),t(10,x)}const pe=()=>{A()};function Q(){p=Rt(this),t(6,p)}function Y(){p=this.value,t(6,p)}const R=()=>{D()};function G(){g=this.value,t(7,g)}const ae=()=>{E()},le=()=>{Zl(localStorage.token).catch(U=>(Pe.error(U),null))&&Pe.success(l.t("Success")),t(4,m=!1)},de=()=>{t(4,m=!1)},I=()=>{t(4,m=!0)},B=()=>{M(),n()};return s.$$set=C=>{"saveHandler"in C&&t(0,n=C.saveHandler)},[n,d,c,b,m,v,p,g,w,k,x,V,l,o,i,L,D,E,M,A,$,te,K,re,se,F,ne,pe,Q,Y,R,G,ae,le,de,I,B]}class cs extends pt{constructor(e){super(),_t(this,e,us,is,ct,{saveHandler:0},null,[-1,-1])}}function ds(s){let e,t,l,o,i=s[4].t("Chunk Params")+"",n,d,c,b,m,v=s[4].t("Chunk Size")+"",p,g,w,k,x,V,L,D,E=s[4].t("Chunk Overlap")+"",M,H,P,A,$,te,K,re,se,F=s[4].t("PDF Extract Images (OCR)")+"",ne,pe,Q,Y=(s[3]?s[4].t("On"):s[4].t("Off"))+"",R,G,ae,le,de=s[4].t("Save")+"",I,B,C;return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=O(i),d=T(),c=f("div"),b=f("div"),m=f("div"),p=O(v),g=T(),w=f("div"),k=f("input"),V=T(),L=f("div"),D=f("div"),M=O(E),H=T(),P=f("div"),A=f("input"),te=T(),K=f("div"),re=f("div"),se=f("div"),ne=O(F),pe=T(),Q=f("button"),R=O(Y),G=T(),ae=f("div"),le=f("button"),I=O(de),this.h()},l(U){e=h(U,"FORM",{class:!0});var W=_(e);t=h(W,"DIV",{class:!0});var we=_(t);l=h(we,"DIV",{class:!0});var ce=_(l);o=h(ce,"DIV",{class:!0});var X=_(o);n=N(X,i),X.forEach(u),d=S(ce),c=h(ce,"DIV",{class:!0});var oe=_(c);b=h(oe,"DIV",{class:!0});var q=_(b);m=h(q,"DIV",{class:!0});var fe=_(m);p=N(fe,v),fe.forEach(u),g=S(q),w=h(q,"DIV",{class:!0});var be=_(w);k=h(be,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),be.forEach(u),q.forEach(u),V=S(oe),L=h(oe,"DIV",{class:!0});var He=_(L);D=h(He,"DIV",{class:!0});var Ee=_(D);M=N(Ee,E),Ee.forEach(u),H=S(He),P=h(He,"DIV",{class:!0});var Se=_(P);A=h(Se,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Se.forEach(u),He.forEach(u),oe.forEach(u),te=S(ce),K=h(ce,"DIV",{class:!0});var _e=_(K);re=h(_e,"DIV",{class:!0});var Be=_(re);se=h(Be,"DIV",{class:!0});var he=_(se);ne=N(he,F),he.forEach(u),pe=S(Be),Q=h(Be,"BUTTON",{class:!0,type:!0});var me=_(Q);R=N(me,Y),me.forEach(u),Be.forEach(u),_e.forEach(u),ce.forEach(u),we.forEach(u),G=S(W),ae=h(W,"DIV",{class:!0});var Oe=_(ae);le=h(Oe,"BUTTON",{class:!0,type:!0});var Ne=_(le);I=N(Ne,de),Ne.forEach(u),Oe.forEach(u),W.forEach(u),this.h()},h(){r(o,"class","text-sm font-medium"),r(m,"class","self-center text-xs font-medium min-w-fit"),r(k,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(k,"type","number"),r(k,"placeholder",x=s[4].t("Enter Chunk Size")),r(k,"autocomplete","off"),r(k,"min","0"),r(w,"class","self-center p-3"),r(b,"class","flex w-full justify-between"),r(D,"class","self-center text-xs font-medium min-w-fit"),r(A,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(A,"type","number"),r(A,"placeholder",$=s[4].t("Enter Chunk Overlap")),r(A,"autocomplete","off"),r(A,"min","0"),r(P,"class","self-center p-3"),r(L,"class","flex w-full"),r(c,"class","flex"),r(se,"class","text-xs font-medium"),r(Q,"class","text-xs font-medium text-gray-500"),r(Q,"type","button"),r(re,"class","flex justify-between items-center text-xs"),r(K,"class","pr-2"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(le,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(le,"type","submit"),r(ae,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(U,W){z(U,e,W),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,m),a(m,p),a(b,g),a(b,w),a(w,k),ie(k,s[1]),a(c,V),a(c,L),a(L,D),a(D,M),a(L,H),a(L,P),a(P,A),ie(A,s[2]),a(l,te),a(l,K),a(K,re),a(re,se),a(se,ne),a(re,pe),a(re,Q),a(Q,R),a(e,G),a(e,ae),a(ae,le),a(le,I),B||(C=[ee(k,"input",s[7]),ee(A,"input",s[8]),ee(Q,"click",s[9]),ee(e,"submit",Ht(s[10]))],B=!0)},p(U,[W]){W&16&&i!==(i=U[4].t("Chunk Params")+"")&&Z(n,i),W&16&&v!==(v=U[4].t("Chunk Size")+"")&&Z(p,v),W&16&&x!==(x=U[4].t("Enter Chunk Size"))&&r(k,"placeholder",x),W&2&&nt(k.value)!==U[1]&&ie(k,U[1]),W&16&&E!==(E=U[4].t("Chunk Overlap")+"")&&Z(M,E),W&16&&$!==($=U[4].t("Enter Chunk Overlap"))&&r(A,"placeholder",$),W&4&&nt(A.value)!==U[2]&&ie(A,U[2]),W&16&&F!==(F=U[4].t("PDF Extract Images (OCR)")+"")&&Z(ne,F),W&24&&Y!==(Y=(U[3]?U[4].t("On"):U[4].t("Off"))+"")&&Z(R,Y),W&16&&de!==(de=U[4].t("Save")+"")&&Z(I,de)},i:ut,o:ut,d(U){U&&u(e),B=!1,$e(C)}}}function fs(s,e,t){let l;const o=wt("i18n");rt(s,o,w=>t(4,l=w));let{saveHandler:i}=e,n=0,d=0,c=!0;const b=async()=>{await Vl(localStorage.token,{pdf_extract_images:c,chunk:{chunk_overlap:d,chunk_size:n}})};xt(async()=>{const w=await Dl(localStorage.token);w&&(t(3,c=w.pdf_extract_images),t(1,n=w.chunk.chunk_size),t(2,d=w.chunk.chunk_overlap))});function m(){n=nt(this.value),t(1,n)}function v(){d=nt(this.value),t(2,d)}const p=()=>{t(3,c=!c)},g=()=>{b(),i()};return s.$$set=w=>{"saveHandler"in w&&t(0,i=w.saveHandler)},[i,n,d,c,l,o,b,m,v,p,g]}class hs extends pt{constructor(e){super(),_t(this,e,fs,ds,ct,{saveHandler:0})}}function sl(s){let e,t,l=s[2].t("Minimum Score")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=O(l),i=T(),n=f("div"),d=f("input"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var w=_(t);o=N(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var k=_(n);d=h(k,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium min-w-fit"),r(d,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(d,"type","number"),r(d,"step","0.01"),r(d,"placeholder",c=s[2].t("Enter Score")),r(d,"autocomplete","off"),r(d,"min","0.0"),r(d,"title",b=s[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),r(n,"class","self-center p-3"),r(e,"class","flex w-full")},m(p,g){z(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),ie(d,s[1].r),m||(v=ee(d,"input",s[6]),m=!0)},p(p,g){g&4&&l!==(l=p[2].t("Minimum Score")+"")&&Z(o,l),g&4&&c!==(c=p[2].t("Enter Score"))&&r(d,"placeholder",c),g&4&&b!==(b=p[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&r(d,"title",b),g&2&&nt(d.value)!==p[1].r&&ie(d,p[1].r)},d(p){p&&u(e),m=!1,v()}}}function al(s){let e,t=s[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,o,i;return{c(){e=f("div"),l=O(t),o=T(),i=f("hr"),this.h()},l(n){e=h(n,"DIV",{class:!0});var d=_(e);l=N(d,t),d.forEach(u),o=S(n),i=h(n,"HR",{class:!0}),this.h()},h(){r(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(i,"class","dark:border-gray-700 my-3")},m(n,d){z(n,e,d),a(e,l),z(n,o,d),z(n,i,d)},p(n,d){d&4&&t!==(t=n[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&Z(l,t)},d(n){n&&(u(e),u(o),u(i))}}}function vs(s){let e,t,l,o,i=s[2].t("Query Params")+"",n,d,c,b,m,v=s[2].t("Top K")+"",p,g,w,k,x,V,L,D,E,M,H=s[2].t("RAG Template")+"",P,A,$,te,K,re,se=s[2].t("Save")+"",F,ne,pe,Q=s[1].hybrid===!0&&sl(s),Y=s[1].hybrid===!0&&al(s);return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=O(i),d=T(),c=f("div"),b=f("div"),m=f("div"),p=O(v),g=T(),w=f("div"),k=f("input"),V=T(),Q&&Q.c(),L=T(),Y&&Y.c(),D=T(),E=f("div"),M=f("div"),P=O(H),A=T(),$=f("textarea"),te=T(),K=f("div"),re=f("button"),F=O(se),this.h()},l(R){e=h(R,"FORM",{class:!0});var G=_(e);t=h(G,"DIV",{class:!0});var ae=_(t);l=h(ae,"DIV",{class:!0});var le=_(l);o=h(le,"DIV",{class:!0});var de=_(o);n=N(de,i),de.forEach(u),d=S(le),c=h(le,"DIV",{class:!0});var I=_(c);b=h(I,"DIV",{class:!0});var B=_(b);m=h(B,"DIV",{class:!0});var C=_(m);p=N(C,v),C.forEach(u),g=S(B),w=h(B,"DIV",{class:!0});var U=_(w);k=h(U,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),U.forEach(u),B.forEach(u),V=S(I),Q&&Q.l(I),I.forEach(u),L=S(le),Y&&Y.l(le),D=S(le),E=h(le,"DIV",{});var W=_(E);M=h(W,"DIV",{class:!0});var we=_(M);P=N(we,H),we.forEach(u),A=S(W),$=h(W,"TEXTAREA",{class:!0,rows:!0}),_($).forEach(u),W.forEach(u),le.forEach(u),ae.forEach(u),te=S(G),K=h(G,"DIV",{class:!0});var ce=_(K);re=h(ce,"BUTTON",{class:!0,type:!0});var X=_(re);F=N(X,se),X.forEach(u),ce.forEach(u),G.forEach(u),this.h()},h(){r(o,"class","text-sm font-medium"),r(m,"class","self-center text-xs font-medium min-w-fit"),r(k,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(k,"type","number"),r(k,"placeholder",x=s[2].t("Enter Top K")),r(k,"autocomplete","off"),r(k,"min","0"),r(w,"class","self-center p-3"),r(b,"class","flex w-full justify-between"),r(c,"class","flex"),r(M,"class","mb-2.5 text-sm font-medium"),r($,"class","w-full rounded-lg px-4 py-3 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),r($,"rows","4"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),r(re,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(re,"type","submit"),r(K,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(R,G){z(R,e,G),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,m),a(m,p),a(b,g),a(b,w),a(w,k),ie(k,s[1].k),a(c,V),Q&&Q.m(c,null),a(l,L),Y&&Y.m(l,null),a(l,D),a(l,E),a(E,M),a(M,P),a(E,A),a(E,$),ie($,s[1].template),a(e,te),a(e,K),a(K,re),a(re,F),ne||(pe=[ee(k,"input",s[5]),ee($,"input",s[7]),ee(e,"submit",Ht(s[8]))],ne=!0)},p(R,[G]){G&4&&i!==(i=R[2].t("Query Params")+"")&&Z(n,i),G&4&&v!==(v=R[2].t("Top K")+"")&&Z(p,v),G&4&&x!==(x=R[2].t("Enter Top K"))&&r(k,"placeholder",x),G&2&&nt(k.value)!==R[1].k&&ie(k,R[1].k),R[1].hybrid===!0?Q?Q.p(R,G):(Q=sl(R),Q.c(),Q.m(c,null)):Q&&(Q.d(1),Q=null),R[1].hybrid===!0?Y?Y.p(R,G):(Y=al(R),Y.c(),Y.m(l,D)):Y&&(Y.d(1),Y=null),G&4&&H!==(H=R[2].t("RAG Template")+"")&&Z(P,H),G&2&&ie($,R[1].template),G&4&&se!==(se=R[2].t("Save")+"")&&Z(F,se)},i:ut,o:ut,d(R){R&&u(e),Q&&Q.d(),Y&&Y.d(),ne=!1,$e(pe)}}}function ps(s,e,t){let l;const o=wt("i18n");rt(s,o,p=>t(2,l=p));let{saveHandler:i}=e,n={template:"",r:0,k:4,hybrid:!1};const d=async()=>{t(1,n=await Il(localStorage.token,n))};xt(async()=>{t(1,n=await El(localStorage.token))});function c(){n.k=nt(this.value),t(1,n)}function b(){n.r=nt(this.value),t(1,n)}function m(){n.template=this.value,t(1,n)}const v=()=>{d(),i()};return s.$$set=p=>{"saveHandler"in p&&t(0,i=p.saveHandler)},[i,n,l,o,d,c,b,m,v]}class _s extends pt{constructor(e){super(),_t(this,e,ps,vs,ct,{saveHandler:0})}}function rl(s,e,t){const l=s.slice();return l[21]=e[t],l}function nl(s){let e,t,l=s[3].t("Web Search")+"",o,i,n,d,c,b=s[3].t("Enable Web Search")+"",m,v,p,g,w,k,x,V=s[3].t("Web Search Engine")+"",L,D,E,M,H,P="Select a engine",A,$,te,K,re,se,F,ne=s[3].t("Web Loader Settings")+"",pe,Q,Y,R,G,ae=s[3].t("Bypass SSL verification for Websites")+"",le,de,I,B,C,U=s[3].t("Youtube Loader Settings")+"",W,we,ce,X,oe,q=s[3].t("Language")+"",fe,be,He,Ee,Se,_e,Be,he;function me(J){s[7](J)}let Oe={};s[1].search.enabled!==void 0&&(Oe.state=s[1].search.enabled),p=new Fl({props:Oe}),vt.push(()=>Vt(p,"state",me));let Ne=bt(s[5]),ge=[];for(let J=0;J<Ne.length;J+=1)ge[J]=ol(rl(s,Ne,J));let ke=s[1].search.engine!==""&&il(s),Ie=s[1].search.enabled&&ul(s);function Re(J,ue){return J[1].ssl_verification===!0?Es:ys}let Ze=Re(s),Ae=Ze(s);return{c(){e=f("div"),t=f("div"),o=O(l),i=T(),n=f("div"),d=f("div"),c=f("div"),m=O(b),v=T(),Qe(p.$$.fragment),w=T(),k=f("div"),x=f("div"),L=O(V),D=T(),E=f("div"),M=f("select"),H=f("option"),H.textContent=P;for(let J=0;J<ge.length;J+=1)ge[J].c();A=T(),ke&&ke.c(),$=T(),Ie&&Ie.c(),te=T(),K=f("hr"),re=T(),se=f("div"),F=f("div"),pe=O(ne),Q=T(),Y=f("div"),R=f("div"),G=f("div"),le=O(ae),de=T(),I=f("button"),Ae.c(),B=T(),C=f("div"),W=O(U),we=T(),ce=f("div"),X=f("div"),oe=f("div"),fe=O(q),be=T(),He=f("div"),Ee=f("input"),this.h()},l(J){e=h(J,"DIV",{});var ue=_(e);t=h(ue,"DIV",{class:!0});var De=_(t);o=N(De,l),De.forEach(u),i=S(ue),n=h(ue,"DIV",{});var ye=_(n);d=h(ye,"DIV",{class:!0});var Ve=_(d);c=h(Ve,"DIV",{class:!0});var qe=_(c);m=N(qe,b),qe.forEach(u),v=S(Ve),Ye(p.$$.fragment,Ve),Ve.forEach(u),ye.forEach(u),w=S(ue),k=h(ue,"DIV",{class:!0});var Fe=_(k);x=h(Fe,"DIV",{class:!0});var mt=_(x);L=N(mt,V),mt.forEach(u),D=S(Fe),E=h(Fe,"DIV",{class:!0});var dt=_(E);M=h(dt,"SELECT",{class:!0,placeholder:!0});var Ge=_(M);H=h(Ge,"OPTION",{"data-svelte-h":!0}),Ue(H)!=="svelte-d4rru0"&&(H.textContent=P);for(let st=0;st<ge.length;st+=1)ge[st].l(Ge);Ge.forEach(u),dt.forEach(u),Fe.forEach(u),A=S(ue),ke&&ke.l(ue),$=S(ue),Ie&&Ie.l(ue),ue.forEach(u),te=S(J),K=h(J,"HR",{class:!0}),re=S(J),se=h(J,"DIV",{});var ve=_(se);F=h(ve,"DIV",{class:!0});var et=_(F);pe=N(et,ne),et.forEach(u),Q=S(ve),Y=h(ve,"DIV",{});var Te=_(Y);R=h(Te,"DIV",{class:!0});var We=_(R);G=h(We,"DIV",{class:!0});var y=_(G);le=N(y,ae),y.forEach(u),de=S(We),I=h(We,"BUTTON",{class:!0,type:!0});var j=_(I);Ae.l(j),j.forEach(u),We.forEach(u),Te.forEach(u),B=S(ve),C=h(ve,"DIV",{class:!0});var Le=_(C);W=N(Le,U),Le.forEach(u),we=S(ve),ce=h(ve,"DIV",{});var je=_(ce);X=h(je,"DIV",{class:!0});var Ce=_(X);oe=h(Ce,"DIV",{class:!0});var tt=_(oe);fe=N(tt,q),tt.forEach(u),be=S(Ce),He=h(Ce,"DIV",{class:!0});var ot=_(He);Ee=h(ot,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),ot.forEach(u),Ce.forEach(u),je.forEach(u),ve.forEach(u),this.h()},h(){r(t,"class","mb-1 text-sm font-medium"),r(c,"class","self-center text-xs font-medium"),r(d,"class","py-0.5 flex w-full justify-between"),r(x,"class","self-center text-xs font-medium"),H.disabled=!0,H.selected=!0,H.__value="",ie(H,H.__value),r(M,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r(M,"placeholder","Select a engine"),M.required=!0,s[1].search.engine===void 0&&qt(()=>s[8].call(M)),r(E,"class","flex items-center relative"),r(k,"class","py-0.5 flex w-full justify-between"),r(K,"class","dark:border-gray-850 my-2"),r(F,"class","mb-1 text-sm font-medium"),r(G,"class","self-center text-xs font-medium"),r(I,"class","p-1 px-3 text-xs flex rounded transition"),r(I,"type","button"),r(R,"class","py-0.5 flex w-full justify-between"),r(C,"class","mt-2 mb-1 text-sm font-medium"),r(oe,"class","w-20 text-xs font-medium self-center"),r(Ee,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(Ee,"type","text"),r(Ee,"placeholder",Se=s[3].t("Enter language codes")),r(Ee,"autocomplete","off"),r(He,"class","flex-1 self-center"),r(X,"class","py-0.5 flex w-full justify-between")},m(J,ue){z(J,e,ue),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),a(c,m),a(d,v),Xe(p,d,null),a(e,w),a(e,k),a(k,x),a(x,L),a(k,D),a(k,E),a(E,M),a(M,H);for(let De=0;De<ge.length;De+=1)ge[De]&&ge[De].m(M,null);Lt(M,s[1].search.engine,!0),a(e,A),ke&&ke.m(e,null),a(e,$),Ie&&Ie.m(e,null),z(J,te,ue),z(J,K,ue),z(J,re,ue),z(J,se,ue),a(se,F),a(F,pe),a(se,Q),a(se,Y),a(Y,R),a(R,G),a(G,le),a(R,de),a(R,I),Ae.m(I,null),a(se,B),a(se,C),a(C,W),a(se,we),a(se,ce),a(ce,X),a(X,oe),a(oe,fe),a(X,be),a(X,He),a(He,Ee),ie(Ee,s[2]),_e=!0,Be||(he=[ee(M,"change",s[8]),ee(I,"click",s[17]),ee(Ee,"input",s[18])],Be=!0)},p(J,ue){(!_e||ue&8)&&l!==(l=J[3].t("Web Search")+"")&&Z(o,l),(!_e||ue&8)&&b!==(b=J[3].t("Enable Web Search")+"")&&Z(m,b);const De={};if(!g&&ue&2&&(g=!0,De.state=J[1].search.enabled,Dt(()=>g=!1)),p.$set(De),(!_e||ue&8)&&V!==(V=J[3].t("Web Search Engine")+"")&&Z(L,V),ue&32){Ne=bt(J[5]);let ye;for(ye=0;ye<Ne.length;ye+=1){const Ve=rl(J,Ne,ye);ge[ye]?ge[ye].p(Ve,ue):(ge[ye]=ol(Ve),ge[ye].c(),ge[ye].m(M,null))}for(;ye<ge.length;ye+=1)ge[ye].d(1);ge.length=Ne.length}ue&34&&Lt(M,J[1].search.engine),J[1].search.engine!==""?ke?ke.p(J,ue):(ke=il(J),ke.c(),ke.m(e,$)):ke&&(ke.d(1),ke=null),J[1].search.enabled?Ie?Ie.p(J,ue):(Ie=ul(J),Ie.c(),Ie.m(e,null)):Ie&&(Ie.d(1),Ie=null),(!_e||ue&8)&&ne!==(ne=J[3].t("Web Loader Settings")+"")&&Z(pe,ne),(!_e||ue&8)&&ae!==(ae=J[3].t("Bypass SSL verification for Websites")+"")&&Z(le,ae),Ze===(Ze=Re(J))&&Ae?Ae.p(J,ue):(Ae.d(1),Ae=Ze(J),Ae&&(Ae.c(),Ae.m(I,null))),(!_e||ue&8)&&U!==(U=J[3].t("Youtube Loader Settings")+"")&&Z(W,U),(!_e||ue&8)&&q!==(q=J[3].t("Language")+"")&&Z(fe,q),(!_e||ue&8&&Se!==(Se=J[3].t("Enter language codes")))&&r(Ee,"placeholder",Se),ue&4&&Ee.value!==J[2]&&ie(Ee,J[2])},i(J){_e||(xe(p.$$.fragment,J),_e=!0)},o(J){Me(p.$$.fragment,J),_e=!1},d(J){J&&(u(e),u(te),u(K),u(re),u(se)),Je(p),Nt(ge,J),ke&&ke.d(),Ie&&Ie.d(),Ae.d(),Be=!1,$e(he)}}}function ol(s){let e,t=s[21]+"",l;return{c(){e=f("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=N(i,t),i.forEach(u),this.h()},h(){e.__value=s[21],ie(e,e.__value)},m(o,i){z(o,e,i),a(e,l)},p:ut,d(o){o&&u(e)}}}function il(s){let e;function t(i,n){if(i[1].search.engine==="searxng")return ks;if(i[1].search.engine==="google_pse")return ws;if(i[1].search.engine==="brave")return bs;if(i[1].search.engine==="serpstack")return gs;if(i[1].search.engine==="serper")return ms}let l=t(s),o=l&&l(s);return{c(){e=f("div"),o&&o.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=_(e);o&&o.l(n),n.forEach(u),this.h()},h(){r(e,"class","mt-1.5")},m(i,n){z(i,e,n),o&&o.m(e,null)},p(i,n){l===(l=t(i))&&o?o.p(i,n):(o&&o.d(1),o=l&&l(i),o&&(o.c(),o.m(e,null)))},d(i){i&&u(e),o&&o.d()}}}function ms(s){let e,t,l=s[3].t("Serper API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=O(l),i=T(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var w=_(t);o=N(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var k=_(n);d=h(k,"DIV",{class:!0});var x=_(d);c=h(x,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),x.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Serper API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(p,g){z(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),ie(c,s[1].search.serper_api_key),m||(v=ee(c,"input",s[14]),m=!0)},p(p,g){g&8&&l!==(l=p[3].t("Serper API Key")+"")&&Z(o,l),g&8&&b!==(b=p[3].t("Enter Serper API Key"))&&r(c,"placeholder",b),g&34&&c.value!==p[1].search.serper_api_key&&ie(c,p[1].search.serper_api_key)},d(p){p&&u(e),m=!1,v()}}}function gs(s){let e,t,l=s[3].t("Serpstack API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=O(l),i=T(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var w=_(t);o=N(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var k=_(n);d=h(k,"DIV",{class:!0});var x=_(d);c=h(x,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),x.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Serpstack API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(p,g){z(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),ie(c,s[1].search.serpstack_api_key),m||(v=ee(c,"input",s[13]),m=!0)},p(p,g){g&8&&l!==(l=p[3].t("Serpstack API Key")+"")&&Z(o,l),g&8&&b!==(b=p[3].t("Enter Serpstack API Key"))&&r(c,"placeholder",b),g&34&&c.value!==p[1].search.serpstack_api_key&&ie(c,p[1].search.serpstack_api_key)},d(p){p&&u(e),m=!1,v()}}}function bs(s){let e,t,l=s[3].t("Brave Search API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=O(l),i=T(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var w=_(t);o=N(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var k=_(n);d=h(k,"DIV",{class:!0});var x=_(d);c=h(x,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),x.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Brave Search API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(p,g){z(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),ie(c,s[1].search.brave_search_api_key),m||(v=ee(c,"input",s[12]),m=!0)},p(p,g){g&8&&l!==(l=p[3].t("Brave Search API Key")+"")&&Z(o,l),g&8&&b!==(b=p[3].t("Enter Brave Search API Key"))&&r(c,"placeholder",b),g&34&&c.value!==p[1].search.brave_search_api_key&&ie(c,p[1].search.brave_search_api_key)},d(p){p&&u(e),m=!1,v()}}}function ws(s){let e,t,l=s[3].t("Google PSE API Key")+"",o,i,n,d,c,b,m,v,p,g=s[3].t("Google PSE Engine Id")+"",w,k,x,V,L,D,E,M;return{c(){e=f("div"),t=f("div"),o=O(l),i=T(),n=f("div"),d=f("div"),c=f("input"),m=T(),v=f("div"),p=f("div"),w=O(g),k=T(),x=f("div"),V=f("div"),L=f("input"),this.h()},l(H){e=h(H,"DIV",{});var P=_(e);t=h(P,"DIV",{class:!0});var A=_(t);o=N(A,l),A.forEach(u),i=S(P),n=h(P,"DIV",{class:!0});var $=_(n);d=h($,"DIV",{class:!0});var te=_(d);c=h(te,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),te.forEach(u),$.forEach(u),P.forEach(u),m=S(H),v=h(H,"DIV",{class:!0});var K=_(v);p=h(K,"DIV",{class:!0});var re=_(p);w=N(re,g),re.forEach(u),k=S(K),x=h(K,"DIV",{class:!0});var se=_(x);V=h(se,"DIV",{class:!0});var F=_(V);L=h(F,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),F.forEach(u),se.forEach(u),K.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Google PSE API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full"),r(p,"class","self-center text-xs font-medium mb-1"),r(L,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(L,"type","text"),r(L,"placeholder",D=s[3].t("Enter Google PSE Engine Id")),r(L,"autocomplete","off"),r(V,"class","flex-1"),r(x,"class","flex w-full"),r(v,"class","mt-1.5")},m(H,P){z(H,e,P),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),ie(c,s[1].search.google_pse_api_key),z(H,m,P),z(H,v,P),a(v,p),a(p,w),a(v,k),a(v,x),a(x,V),a(V,L),ie(L,s[1].search.google_pse_engine_id),E||(M=[ee(c,"input",s[10]),ee(L,"input",s[11])],E=!0)},p(H,P){P&8&&l!==(l=H[3].t("Google PSE API Key")+"")&&Z(o,l),P&8&&b!==(b=H[3].t("Enter Google PSE API Key"))&&r(c,"placeholder",b),P&34&&c.value!==H[1].search.google_pse_api_key&&ie(c,H[1].search.google_pse_api_key),P&8&&g!==(g=H[3].t("Google PSE Engine Id")+"")&&Z(w,g),P&8&&D!==(D=H[3].t("Enter Google PSE Engine Id"))&&r(L,"placeholder",D),P&34&&L.value!==H[1].search.google_pse_engine_id&&ie(L,H[1].search.google_pse_engine_id)},d(H){H&&(u(e),u(m),u(v)),E=!1,$e(M)}}}function ks(s){let e,t,l=s[3].t("Searxng Query URL")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=O(l),i=T(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var w=_(t);o=N(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var k=_(n);d=h(k,"DIV",{class:!0});var x=_(d);c=h(x,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),x.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Searxng Query URL")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(p,g){z(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),ie(c,s[1].search.searxng_query_url),m||(v=ee(c,"input",s[9]),m=!0)},p(p,g){g&8&&l!==(l=p[3].t("Searxng Query URL")+"")&&Z(o,l),g&8&&b!==(b=p[3].t("Enter Searxng Query URL"))&&r(c,"placeholder",b),g&34&&c.value!==p[1].search.searxng_query_url&&ie(c,p[1].search.searxng_query_url)},d(p){p&&u(e),m=!1,v()}}}function ul(s){let e,t,l,o=s[3].t("Search Result Count")+"",i,n,d,c,b,m,v,p=s[3].t("Concurrent Requests")+"",g,w,k,x,V,L;return{c(){e=f("div"),t=f("div"),l=f("div"),i=O(o),n=T(),d=f("input"),b=T(),m=f("div"),v=f("div"),g=O(p),w=T(),k=f("input"),this.h()},l(D){e=h(D,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var M=_(t);l=h(M,"DIV",{class:!0});var H=_(l);i=N(H,o),H.forEach(u),n=S(M),d=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),b=S(E),m=h(E,"DIV",{class:!0});var P=_(m);v=h(P,"DIV",{class:!0});var A=_(v);g=N(A,p),A.forEach(u),w=S(P),k=h(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(u),E.forEach(u),this.h()},h(){r(l,"class","self-center text-xs font-medium mb-1"),r(d,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(d,"placeholder",c=s[3].t("Search Result Count")),d.required=!0,r(t,"class","w-full"),r(v,"class","self-center text-xs font-medium mb-1"),r(k,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(k,"placeholder",x=s[3].t("Concurrent Requests")),k.required=!0,r(m,"class","w-full"),r(e,"class","mt-2 flex gap-2 mb-1")},m(D,E){z(D,e,E),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),ie(d,s[1].search.result_count),a(e,b),a(e,m),a(m,v),a(v,g),a(m,w),a(m,k),ie(k,s[1].search.concurrent_requests),V||(L=[ee(d,"input",s[15]),ee(k,"input",s[16])],V=!0)},p(D,E){E&8&&o!==(o=D[3].t("Search Result Count")+"")&&Z(i,o),E&8&&c!==(c=D[3].t("Search Result Count"))&&r(d,"placeholder",c),E&34&&d.value!==D[1].search.result_count&&ie(d,D[1].search.result_count),E&8&&p!==(p=D[3].t("Concurrent Requests")+"")&&Z(g,p),E&8&&x!==(x=D[3].t("Concurrent Requests"))&&r(k,"placeholder",x),E&34&&k.value!==D[1].search.concurrent_requests&&ie(k,D[1].search.concurrent_requests)},d(D){D&&u(e),V=!1,$e(L)}}}function ys(s){let e,t=s[3].t("Off")+"",l;return{c(){e=f("span"),l=O(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=_(e);l=N(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){z(o,e,i),a(e,l)},p(o,i){i&8&&t!==(t=o[3].t("Off")+"")&&Z(l,t)},d(o){o&&u(e)}}}function Es(s){let e,t=s[3].t("On")+"",l;return{c(){e=f("span"),l=O(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=_(e);l=N(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){z(o,e,i),a(e,l)},p(o,i){i&8&&t!==(t=o[3].t("On")+"")&&Z(l,t)},d(o){o&&u(e)}}}function Is(s){let e,t,l,o,i,n=s[3].t("Save")+"",d,c,b,m,v=s[1]&&nl(s);return{c(){e=f("form"),t=f("div"),v&&v.c(),l=T(),o=f("div"),i=f("button"),d=O(n),this.h()},l(p){e=h(p,"FORM",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var w=_(t);v&&v.l(w),w.forEach(u),l=S(g),o=h(g,"DIV",{class:!0});var k=_(o);i=h(k,"BUTTON",{class:!0,type:!0});var x=_(i);d=N(x,n),x.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(i,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(i,"type","submit"),r(o,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(p,g){z(p,e,g),a(e,t),v&&v.m(t,null),a(e,l),a(e,o),a(o,i),a(i,d),c=!0,b||(m=ee(e,"submit",Ht(s[19])),b=!0)},p(p,[g]){p[1]?v?(v.p(p,g),g&2&&xe(v,1)):(v=nl(p),v.c(),xe(v,1),v.m(t,null)):v&&(St(),Me(v,1,1,()=>{v=null}),Mt()),(!c||g&8)&&n!==(n=p[3].t("Save")+"")&&Z(d,n)},i(p){c||(xe(v),c=!0)},o(p){Me(v),c=!1},d(p){p&&u(e),v&&v.d(),b=!1,m()}}}function Ds(s,e,t){let l;const o=wt("i18n");rt(s,o,A=>t(3,l=A));let{saveHandler:i}=e,n=null,d=["searxng","google_pse","brave","serpstack","serper"],c="en",b=null;const m=async()=>{await Vl(localStorage.token,{web:n,youtube:{language:c.split(",").map(A=>A.trim()),translation:b}})};xt(async()=>{const A=await Dl(localStorage.token);A&&(t(1,n=A.web),t(2,c=A.youtube.language.join(",")),b=A.youtube.translation)});function v(A){s.$$.not_equal(n.search.enabled,A)&&(n.search.enabled=A,t(1,n))}function p(){n.search.engine=Rt(this),t(1,n),t(5,d)}function g(){n.search.searxng_query_url=this.value,t(1,n),t(5,d)}function w(){n.search.google_pse_api_key=this.value,t(1,n),t(5,d)}function k(){n.search.google_pse_engine_id=this.value,t(1,n),t(5,d)}function x(){n.search.brave_search_api_key=this.value,t(1,n),t(5,d)}function V(){n.search.serpstack_api_key=this.value,t(1,n),t(5,d)}function L(){n.search.serper_api_key=this.value,t(1,n),t(5,d)}function D(){n.search.result_count=this.value,t(1,n),t(5,d)}function E(){n.search.concurrent_requests=this.value,t(1,n),t(5,d)}const M=()=>{t(1,n.ssl_verification=!n.ssl_verification,n),m()};function H(){c=this.value,t(2,c)}const P=async()=>{await m(),i()};return s.$$set=A=>{"saveHandler"in A&&t(0,i=A.saveHandler)},[i,n,c,l,o,d,m,v,p,g,w,k,x,V,L,D,E,M,H,P]}class Vs extends pt{constructor(e){super(),_t(this,e,Ds,Is,ct,{saveHandler:0})}}function xs(s){let e,t;return e=new Vs({props:{saveHandler:s[12]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[12]),e.$set(i)},i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ts(s){let e,t;return e=new _s({props:{saveHandler:s[11]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[11]),e.$set(i)},i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ss(s){let e,t;return e=new hs({props:{saveHandler:s[10]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[10]),e.$set(i)},i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ms(s){let e,t;return e=new cs({props:{saveHandler:s[9]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[9]),e.$set(i)},i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ls(s){let e,t,l,o=s[2].t("Document Settings")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,p,g,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',k,x,V=s[2].t("General")+"",L,D,E,M,H,P='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',A,$,te=s[2].t("Chunk Params")+"",K,re,se,F,ne,pe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Q,Y,R=s[2].t("Query Params")+"",G,ae,le,de,I,B='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',C,U,W=s[2].t("Web Params")+"",we,ce,X,oe,q,fe,be,He,Ee;const Se=[Ms,Ss,Ts,xs],_e=[];function Be(he,me){return he[1]==="general"?0:he[1]==="chunk"?1:he[1]==="query"?2:he[1]==="web"?3:-1}return~(q=Be(s))&&(fe=_e[q]=Se[q](s)),{c(){e=f("div"),t=f("div"),l=f("div"),i=O(o),n=T(),d=f("button"),d.innerHTML=c,b=T(),m=f("div"),v=f("div"),p=f("button"),g=f("div"),g.innerHTML=w,k=T(),x=f("div"),L=O(V),E=T(),M=f("button"),H=f("div"),H.innerHTML=P,A=T(),$=f("div"),K=O(te),se=T(),F=f("button"),ne=f("div"),ne.innerHTML=pe,Q=T(),Y=f("div"),G=O(R),le=T(),de=f("button"),I=f("div"),I.innerHTML=B,C=T(),U=f("div"),we=O(W),X=T(),oe=f("div"),fe&&fe.c(),this.h()},l(he){e=h(he,"DIV",{});var me=_(e);t=h(me,"DIV",{class:!0});var Oe=_(t);l=h(Oe,"DIV",{class:!0});var Ne=_(l);i=N(Ne,o),Ne.forEach(u),n=S(Oe),d=h(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(d)!=="svelte-745w2y"&&(d.innerHTML=c),Oe.forEach(u),b=S(me),m=h(me,"DIV",{class:!0});var ge=_(m);v=h(ge,"DIV",{class:!0});var ke=_(v);p=h(ke,"BUTTON",{class:!0});var Ie=_(p);g=h(Ie,"DIV",{class:!0,"data-svelte-h":!0}),Ue(g)!=="svelte-1k1ieum"&&(g.innerHTML=w),k=S(Ie),x=h(Ie,"DIV",{class:!0});var Re=_(x);L=N(Re,V),Re.forEach(u),Ie.forEach(u),E=S(ke),M=h(ke,"BUTTON",{class:!0});var Ze=_(M);H=h(Ze,"DIV",{class:!0,"data-svelte-h":!0}),Ue(H)!=="svelte-sarula"&&(H.innerHTML=P),A=S(Ze),$=h(Ze,"DIV",{class:!0});var Ae=_($);K=N(Ae,te),Ae.forEach(u),Ze.forEach(u),se=S(ke),F=h(ke,"BUTTON",{class:!0});var J=_(F);ne=h(J,"DIV",{class:!0,"data-svelte-h":!0}),Ue(ne)!=="svelte-1ray9mb"&&(ne.innerHTML=pe),Q=S(J),Y=h(J,"DIV",{class:!0});var ue=_(Y);G=N(ue,R),ue.forEach(u),J.forEach(u),le=S(ke),de=h(ke,"BUTTON",{class:!0});var De=_(de);I=h(De,"DIV",{class:!0,"data-svelte-h":!0}),Ue(I)!=="svelte-17j0plg"&&(I.innerHTML=B),C=S(De),U=h(De,"DIV",{class:!0});var ye=_(U);we=N(ye,W),ye.forEach(u),De.forEach(u),ke.forEach(u),X=S(ge),oe=h(ge,"DIV",{class:!0});var Ve=_(oe);fe&&fe.l(Ve),Ve.forEach(u),ge.forEach(u),me.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(g,"class","self-center mr-2"),r(x,"class","self-center"),r(p,"class",D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(H,"class","self-center mr-2"),r($,"class","self-center"),r(M,"class",re="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(ne,"class","self-center mr-2"),r(Y,"class","self-center"),r(F,"class",ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(I,"class","self-center mr-2"),r(U,"class","self-center"),r(de,"class",ce="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(v,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),r(oe,"class","flex-1 md:min-h-[380px]"),r(m,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(he,me){z(he,e,me),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,p),a(p,g),a(p,k),a(p,x),a(x,L),a(v,E),a(v,M),a(M,H),a(M,A),a(M,$),a($,K),a(v,se),a(v,F),a(F,ne),a(F,Q),a(F,Y),a(Y,G),a(v,le),a(v,de),a(de,I),a(de,C),a(de,U),a(U,we),a(m,X),a(m,oe),~q&&_e[q].m(oe,null),be=!0,He||(Ee=[ee(d,"click",s[4]),ee(p,"click",s[5]),ee(M,"click",s[6]),ee(F,"click",s[7]),ee(de,"click",s[8])],He=!0)},p(he,me){(!be||me&4)&&o!==(o=he[2].t("Document Settings")+"")&&Z(i,o),(!be||me&4)&&V!==(V=he[2].t("General")+"")&&Z(L,V),(!be||me&2&&D!==(D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(he[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(p,"class",D),(!be||me&4)&&te!==(te=he[2].t("Chunk Params")+"")&&Z(K,te),(!be||me&2&&re!==(re="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(he[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(M,"class",re),(!be||me&4)&&R!==(R=he[2].t("Query Params")+"")&&Z(G,R),(!be||me&2&&ae!==(ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(he[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(F,"class",ae),(!be||me&4)&&W!==(W=he[2].t("Web Params")+"")&&Z(we,W),(!be||me&2&&ce!==(ce="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(he[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(de,"class",ce);let Oe=q;q=Be(he),q===Oe?~q&&_e[q].p(he,me):(fe&&(St(),Me(_e[Oe],1,1,()=>{_e[Oe]=null}),Mt()),~q?(fe=_e[q],fe?fe.p(he,me):(fe=_e[q]=Se[q](he),fe.c()),xe(fe,1),fe.m(oe,null)):fe=null)},i(he){be||(xe(fe),be=!0)},o(he){Me(fe),be=!1},d(he){he&&u(e),~q&&_e[q].d(),He=!1,$e(Ee)}}}function Hs(s){let e,t,l;function o(n){s[13](n)}let i={$$slots:{default:[Ls]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Zt({props:i}),vt.push(()=>Vt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&16391&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],Dt(()=>t=!1)),e.$set(c)},i(n){l||(xe(e.$$.fragment,n),l=!0)},o(n){Me(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function As(s,e,t){let l;const o=wt("i18n");rt(s,o,V=>t(2,l=V));let{show:i=!1}=e,n="general";const d=()=>{t(0,i=!1)},c=()=>{t(1,n="general")},b=()=>{t(1,n="chunk")},m=()=>{t(1,n="query")},v=()=>{t(1,n="web")},p=()=>{Pe.success(l.t("Settings saved successfully!"))},g=()=>{Pe.success(l.t("Settings saved successfully!"))},w=()=>{Pe.success(l.t("Settings saved successfully!"))},k=async()=>{Pe.success(l.t("Settings saved successfully!")),await Ll(),await Bl.set(await Gl())};function x(V){i=V,t(0,i)}return s.$$set=V=>{"show"in V&&t(0,i=V.show)},[i,n,l,o,d,c,b,m,v,p,g,w,k,x]}class Cs extends pt{constructor(e){super(),_t(this,e,As,Hs,ct,{show:0})}}function Ps(s){let e=s[4].t("Click here to select documents.")+"",t;return{c(){t=O(e)},l(l){t=N(l,e)},m(l,o){z(l,t,o)},p(l,o){o&16&&e!==(e=l[4].t("Click here to select documents.")+"")&&Z(t,e)},d(l){l&&u(t)}}}function Bs(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=O(e),l=O(" document(s) selected.")},l(o){t=N(o,e),l=N(o," document(s) selected.")},m(o,i){z(o,t,i),z(o,l,i)},p(o,i){i&4&&e!==(e=o[2].length>0?`${o[2].length}`:"")&&Z(t,e)},d(o){o&&(u(t),u(l))}}}function Os(s){let e,t,l,o=s[4].t("Add Docs")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,p,g,w,k,x,V,L,D,E,M=s[4].t("Tags")+"",H,P,A,$,te,K,re=s[4].t("Save")+"",se,F,ne,pe;function Q(G,ae){return G[2]?Bs:Ps}let Y=Q(s),R=Y(s);return A=new Ml({props:{tags:s[3],addTag:s[7],deleteTag:s[8]}}),{c(){e=f("div"),t=f("div"),l=f("div"),i=O(o),n=T(),d=f("button"),d.innerHTML=c,b=T(),m=f("div"),v=f("div"),p=f("form"),g=f("div"),w=f("input"),k=T(),x=f("button"),R.c(),V=T(),L=f("div"),D=f("div"),E=f("div"),H=O(M),P=T(),Qe(A.$$.fragment),$=T(),te=f("div"),K=f("button"),se=O(re),this.h()},l(G){e=h(G,"DIV",{});var ae=_(e);t=h(ae,"DIV",{class:!0});var le=_(t);l=h(le,"DIV",{class:!0});var de=_(l);i=N(de,o),de.forEach(u),n=S(le),d=h(le,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(d)!=="svelte-745w2y"&&(d.innerHTML=c),le.forEach(u),b=S(ae),m=h(ae,"DIV",{class:!0});var I=_(m);v=h(I,"DIV",{class:!0});var B=_(v);p=h(B,"FORM",{class:!0});var C=_(p);g=h(C,"DIV",{class:!0});var U=_(g);w=h(U,"INPUT",{id:!0,type:!0,class:!0}),k=S(U),x=h(U,"BUTTON",{class:!0,type:!0});var W=_(x);R.l(W),W.forEach(u),U.forEach(u),V=S(C),L=h(C,"DIV",{class:!0});var we=_(L);D=h(we,"DIV",{class:!0});var ce=_(D);E=h(ce,"DIV",{class:!0});var X=_(E);H=N(X,M),X.forEach(u),P=S(ce),Ye(A.$$.fragment,ce),ce.forEach(u),we.forEach(u),$=S(C),te=h(C,"DIV",{class:!0});var oe=_(te);K=h(oe,"BUTTON",{class:!0,type:!0});var q=_(K);se=N(q,re),q.forEach(u),oe.forEach(u),C.forEach(u),B.forEach(u),I.forEach(u),ae.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(w,"id","upload-doc-input"),w.hidden=!0,r(w,"type","file"),w.multiple=!0,r(w,"class","svelte-1vx7r9s"),r(x,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),r(x,"type","button"),r(g,"class","mb-3 w-full"),r(E,"class","mb-1.5 text-xs text-gray-500"),r(D,"class","flex flex-col w-full"),r(L,"class","flex flex-col space-y-1.5"),r(K,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(K,"type","submit"),r(te,"class","flex justify-end pt-5 text-sm font-medium"),r(p,"class","flex flex-col w-full"),r(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(G,ae){z(G,e,ae),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,p),a(p,g),a(g,w),s[10](w),a(g,k),a(g,x),R.m(x,null),a(p,V),a(p,L),a(L,D),a(D,E),a(E,H),a(D,P),Xe(A,D,null),a(p,$),a(p,te),a(te,K),a(K,se),F=!0,ne||(pe=[ee(d,"click",s[9]),ee(w,"change",s[11]),ee(x,"click",s[12]),ee(p,"submit",Ht(s[13]))],ne=!0)},p(G,ae){(!F||ae&16)&&o!==(o=G[4].t("Add Docs")+"")&&Z(i,o),Y===(Y=Q(G))&&R?R.p(G,ae):(R.d(1),R=Y(G),R&&(R.c(),R.m(x,null))),(!F||ae&16)&&M!==(M=G[4].t("Tags")+"")&&Z(H,M);const le={};ae&8&&(le.tags=G[3]),A.$set(le),(!F||ae&16)&&re!==(re=G[4].t("Save")+"")&&Z(se,re)},i(G){F||(xe(A.$$.fragment,G),F=!0)},o(G){Me(A.$$.fragment,G),F=!1},d(G){G&&u(e),s[10](null),R.d(),Je(A),ne=!1,$e(pe)}}}function Ns(s){let e,t,l;function o(n){s[14](n)}let i={size:"sm",$$slots:{default:[Os]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Zt({props:i}),vt.push(()=>Vt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&131103&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],Dt(()=>t=!1)),e.$set(c)},i(n){l||(xe(e.$$.fragment,n),l=!0)},o(n){Me(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function Us(s,e,t){let l;const o=wt("i18n");rt(s,o,D=>t(4,l=D));let{show:i=!1}=e,n,d,c=[];const b=async D=>{const E=await xl(localStorage.token,"",D).catch(M=>(Pe.error(M),null));E&&(await jt(localStorage.token,E.collection_name,E.filename,Tl(E.filename),E.filename,c.length>0?{tags:c}:null).catch(M=>(Pe.error(M),null)),await lt.set(await it(localStorage.token)))},m=async()=>{if(d&&d.length>0){for(const D of d)console.log(D,D.name.split(".").at(-1)),kl.includes(D.type)||yl.includes(D.name.split(".").at(-1))||Pe.error(`Unknown File Type '${D.type}', but accepting and treating as plain text`),b(D);t(2,d=null),t(1,n.value="",n)}else Pe.error(l.t("File not found."));t(0,i=!1),lt.set(await it(localStorage.token))},v=async D=>{!c.find(E=>E.name===D)&&D!==""?t(3,c=[...c,{name:D}]):console.log("tag already exists")},p=async D=>{t(3,c=c.filter(E=>E.name!==D))};xt(()=>{});const g=()=>{t(0,i=!1)};function w(D){vt[D?"unshift":"push"](()=>{n=D,t(1,n)})}function k(){d=this.files,t(2,d)}const x=()=>{n.click()},V=()=>{m()};function L(D){i=D,t(0,i)}return s.$$set=D=>{"show"in D&&t(0,i=D.show)},[i,n,d,c,l,o,m,v,p,g,w,k,x,V,L]}class Rs extends pt{constructor(e){super(),_t(this,e,Us,Ns,ct,{show:0})}}const{document:Ut}=Al;function cl(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function dl(s,e,t){const l=s.slice();return l[40]=e[t],l}function fl(s){let e,t,l,o,i,n;return i=new Kl({props:{$$slots:{default:[js]},$$scope:{ctx:s}}}),{c(){e=f("div"),t=f("div"),l=f("div"),o=f("div"),Qe(i.$$.fragment),this.h()},l(d){e=h(d,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var c=_(e);t=h(c,"DIV",{class:!0});var b=_(t);l=h(b,"DIV",{class:!0});var m=_(l);o=h(m,"DIV",{class:!0});var v=_(o);Ye(i.$$.fragment,v),v.forEach(u),m.forEach(u),b.forEach(u),c.forEach(u),this.h()},h(){r(o,"class","max-w-md"),r(l,"class","m-auto pt-64 flex flex-col justify-center"),r(t,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),r(e,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),r(e,"id","dropzone"),r(e,"role","region"),r(e,"aria-label","Drag and Drop Container")},m(d,c){z(d,e,c),a(e,t),a(t,l),a(l,o),Xe(i,o,null),n=!0},i(d){n||(xe(i.$$.fragment,d),n=!0)},o(d){Me(i.$$.fragment,d),n=!1},d(d){d&&u(e),Je(i)}}}function js(s){let e,t="Drop any files here to add to my documents";return{c(){e=f("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-19eg75t"&&(e.textContent=t),this.h()},h(){r(e,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(l,o){z(l,e,o)},p:ut,d(l){l&&u(e)}}}function hl(s){let e,t,l;function o(n){s[18](n)}let i={selectedDoc:s[9]};return s[8]!==void 0&&(i.show=s[8]),e=new Xl({props:i}),vt.push(()=>Vt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,d){const c={};d[0]&512&&(c.selectedDoc=n[9]),!t&&d[0]&256&&(t=!0,c.show=n[8],Dt(()=>t=!1)),e.$set(c)},i(n){l||(xe(e.$$.fragment,n),l=!0)},o(n){Me(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function vl(s){let e,t,l,o,i,n;l=new Sl({props:{state:s[11].filter(ml).length===s[11].length?"checked":"unchecked",indeterminate:s[11].filter(gl).length>0&&s[11].filter(bl).length!==s[11].length}}),l.$on("change",s[24]);function d(m,v){return v[0]&2048&&(i=null),i==null&&(i=m[11].filter(Gs).length===0),i?Zs:qs}let c=d(s,[-1,-1]),b=c(s);return{c(){e=f("div"),t=f("div"),Qe(l.$$.fragment),o=T(),b.c(),this.h()},l(m){e=h(m,"DIV",{class:!0});var v=_(e);t=h(v,"DIV",{class:!0});var p=_(t);Ye(l.$$.fragment,p),p.forEach(u),o=S(v),b.l(v),v.forEach(u),this.h()},h(){r(t,"class","ml-0.5 pr-3 my-auto flex items-center"),r(e,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(m,v){z(m,e,v),a(e,t),Xe(l,t,null),a(e,o),b.m(e,null),n=!0},p(m,v){const p={};v[0]&2048&&(p.state=m[11].filter(ml).length===m[11].length?"checked":"unchecked"),v[0]&2048&&(p.indeterminate=m[11].filter(gl).length>0&&m[11].filter(bl).length!==m[11].length),l.$set(p),c===(c=d(m,v))&&b?b.p(m,v):(b.d(1),b=c(m),b&&(b.c(),b.m(e,null)))},i(m){n||(xe(l.$$.fragment,m),n=!0)},o(m){Me(l.$$.fragment,m),n=!1},d(m){m&&u(e),Je(l),b.d()}}}function qs(s){let e,t,l=s[11].filter(wl).length+"",o,i,n,d,c,b,m=s[12].t("delete")+"",v,p,g;return{c(){e=f("div"),t=f("div"),o=O(l),i=O(" Selected"),n=T(),d=f("div"),c=f("button"),b=f("div"),v=O(m),this.h()},l(w){e=h(w,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var x=_(t);o=N(x,l),i=N(x," Selected"),x.forEach(u),n=S(k),d=h(k,"DIV",{class:!0});var V=_(d);c=h(V,"BUTTON",{class:!0});var L=_(c);b=h(L,"DIV",{class:!0});var D=_(b);v=N(D,m),D.forEach(u),L.forEach(u),V.forEach(u),k.forEach(u),this.h()},h(){r(t,"class","text-xs font-medium py-0.5 self-center mr-1"),r(b,"class","text-xs font-medium self-center line-clamp-1"),r(c,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),r(d,"class","flex gap-1"),r(e,"class","flex-1 flex w-full justify-between items-center")},m(w,k){z(w,e,k),a(e,t),a(t,o),a(t,i),a(e,n),a(e,d),a(d,c),a(c,b),a(b,v),p||(g=ee(c,"click",s[27]),p=!0)},p(w,k){k[0]&2048&&l!==(l=w[11].filter(wl).length+"")&&Z(o,l),k[0]&4096&&m!==(m=w[12].t("delete")+"")&&Z(v,m)},d(w){w&&u(e),p=!1,g()}}}function Zs(s){let e,t,l=s[12].t("all")+"",o,i,n,d,c,b=bt(s[5]),m=[];for(let v=0;v<b.length;v+=1)m[v]=pl(dl(s,b,v));return{c(){e=f("button"),t=f("div"),o=O(l),i=T();for(let v=0;v<m.length;v+=1)m[v].c();n=Ot(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var g=_(t);o=N(g,l),g.forEach(u),p.forEach(u),i=S(v);for(let w=0;w<m.length;w+=1)m[w].l(v);n=Ot(),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,p){z(v,e,p),a(e,t),a(t,o),z(v,i,p);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(v,p);z(v,n,p),d||(c=ee(e,"click",s[25]),d=!0)},p(v,p){if(p[0]&4096&&l!==(l=v[12].t("all")+"")&&Z(o,l),p[0]&34){b=bt(v[5]);let g;for(g=0;g<b.length;g+=1){const w=dl(v,b,g);m[g]?m[g].p(w,p):(m[g]=pl(w),m[g].c(),m[g].m(n.parentNode,n))}for(;g<m.length;g+=1)m[g].d(1);m.length=b.length}},d(v){v&&(u(e),u(i),u(n)),Nt(m,v),d=!1,c()}}}function pl(s){let e,t,l,o=s[40]+"",i,n,d,c;function b(){return s[26](s[40])}return{c(){e=f("button"),t=f("div"),l=O("#"),i=O(o),n=T(),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var v=_(e);t=h(v,"DIV",{class:!0});var p=_(t);l=N(p,"#"),i=N(p,o),p.forEach(u),n=S(v),v.forEach(u),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(m,v){z(m,e,v),a(e,t),a(t,l),a(t,i),a(e,n),d||(c=ee(e,"click",b),d=!0)},p(m,v){s=m,v[0]&32&&o!==(o=s[40]+"")&&Z(i,o)},d(m){m&&u(e),d=!1,c()}}}function zs(s){let e,t,l,o,i,n;return{c(){e=ze("svg"),t=ze("style"),l=O(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),o=ze("circle"),i=ze("circle"),n=ze("circle"),this.h()},l(d){e=Ke(d,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var c=_(e);t=Ke(c,"style",{});var b=_(t);l=N(b,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),b.forEach(u),o=Ke(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(o).forEach(u),i=Ke(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(i).forEach(u),n=Ke(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(n).forEach(u),c.forEach(u),this.h()},h(){r(o,"class","spinner_qM83"),r(o,"cx","4"),r(o,"cy","12"),r(o,"r","2.5"),r(i,"class","spinner_qM83 spinner_oXPr"),r(i,"cx","12"),r(i,"cy","12"),r(i,"r","2.5"),r(n,"class","spinner_qM83 spinner_ZTLf"),r(n,"cx","20"),r(n,"cy","12"),r(n,"r","2.5"),r(e,"class","w-6 h-6 translate-y-[0.5px]"),r(e,"fill","currentColor"),r(e,"viewBox","0 0 24 24"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(d,c){z(d,e,c),a(e,t),a(t,l),a(e,o),a(e,i),a(e,n)},d(d){d&&u(e)}}}function Ks(s){let e,t,l;return{c(){e=ze("svg"),t=ze("path"),l=ze("path"),this.h()},l(o){e=Ke(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=Ke(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),l=Ke(i,"path",{d:!0}),_(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"fill-rule","evenodd"),r(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),r(t,"clip-rule","evenodd"),r(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 24 24"),r(e,"fill","currentColor"),r(e,"class","w-6 h-6")},m(o,i){z(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function _l(s){var de;let e,t,l,o,i,n,d,c,b,m,v,p=s[37].name+"",g,w,k=s[37].filename+"",x,V,L,D,E=s[37].title+"",M,H,P,A,$='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',te,K,re='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',se,F,ne,pe;l=new Sl({props:{state:((de=s[37])==null?void 0:de.selected)??"unchecked"}});function Q(I,B){return I[37]?Ks:zs}let Y=Q(s),R=Y(s);function G(...I){return s[28](s[37],...I)}function ae(...I){return s[29](s[37],...I)}function le(){return s[30](s[37],s[38],s[39])}return{c(){e=f("button"),t=f("div"),Qe(l.$$.fragment),o=T(),i=f("div"),n=f("div"),d=f("div"),R.c(),c=T(),b=f("div"),m=f("div"),v=O("#"),g=O(p),w=O(" ("),x=O(k),V=O(")"),L=T(),D=f("div"),M=O(E),H=T(),P=f("div"),A=f("button"),A.innerHTML=$,te=T(),K=f("button"),K.innerHTML=re,se=T(),this.h()},l(I){e=h(I,"BUTTON",{class:!0});var B=_(e);t=h(B,"DIV",{class:!0});var C=_(t);Ye(l.$$.fragment,C),C.forEach(u),o=S(B),i=h(B,"DIV",{class:!0});var U=_(i);n=h(U,"DIV",{class:!0});var W=_(n);d=h(W,"DIV",{class:!0});var we=_(d);R.l(we),we.forEach(u),c=S(W),b=h(W,"DIV",{class:!0});var ce=_(b);m=h(ce,"DIV",{class:!0});var X=_(m);v=N(X,"#"),g=N(X,p),w=N(X," ("),x=N(X,k),V=N(X,")"),X.forEach(u),L=S(ce),D=h(ce,"DIV",{class:!0});var oe=_(D);M=N(oe,E),oe.forEach(u),ce.forEach(u),W.forEach(u),U.forEach(u),H=S(B),P=h(B,"DIV",{class:!0});var q=_(P);A=h(q,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ue(A)!=="svelte-105zedk"&&(A.innerHTML=$),te=S(q),K=h(q,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ue(K)!=="svelte-13wl5iz"&&(K.innerHTML=re),q.forEach(u),se=S(B),B.forEach(u),this.h()},h(){r(t,"class","my-auto flex items-center"),r(d,"class","p-2.5 bg-red-400 text-white rounded-lg"),r(m,"class","font-bold line-clamp-1"),r(D,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),r(b,"class","self-center flex-1"),r(n,"class","flex items-center space-x-3"),r(i,"class","flex flex-1 space-x-4 cursor-pointer w-full"),r(A,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(A,"type","button"),r(K,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(K,"type","button"),r(P,"class","flex flex-row space-x-1 self-center"),r(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(I,B){z(I,e,B),a(e,t),Xe(l,t,null),a(e,o),a(e,i),a(i,n),a(n,d),R.m(d,null),a(n,c),a(n,b),a(b,m),a(m,v),a(m,g),a(m,w),a(m,x),a(m,V),a(b,L),a(b,D),a(D,M),a(e,H),a(e,P),a(P,A),a(P,te),a(P,K),a(e,se),F=!0,ne||(pe=[ee(A,"click",G),ee(K,"click",ae),ee(e,"click",le)],ne=!0)},p(I,B){var U;s=I;const C={};B[0]&2048&&(C.state=((U=s[37])==null?void 0:U.selected)??"unchecked"),l.$set(C),Y!==(Y=Q(s))&&(R.d(1),R=Y(s),R&&(R.c(),R.m(d,null))),(!F||B[0]&2048)&&p!==(p=s[37].name+"")&&Z(g,p),(!F||B[0]&2048)&&k!==(k=s[37].filename+"")&&Z(x,k),(!F||B[0]&2048)&&E!==(E=s[37].title+"")&&Z(M,E)},i(I){F||(xe(l.$$.fragment,I),F=!0)},o(I){Me(l.$$.fragment,I),F=!1},d(I){I&&u(e),Je(l),R.d(),ne=!1,$e(pe)}}}function Fs(s){let e,t,l,o=s[9],i,n,d,c,b,m,v,p,g,w,k=s[12].t("Documents")+"",x,V,L,D,E,M,H,P,A=s[12].t("Document Settings")+"",$,te,K,re,se=s[12].t("Use '#' in the prompt input to load and select your documents.")+"",F,ne,pe,Q,Y,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',G,ae,le,de,I,B,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',U,W,we,ce,X,oe,q,fe,be,He,Ee,Se,_e=s[12].t("Import Documents Mapping")+"",Be,he,me,Oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',Ne,ge,ke,Ie=s[12].t("Export Documents Mapping")+"",Re,Ze,Ae,J='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',ue,De,ye;Ut.title=e=`
		`+s[12].t("Documents")+" | "+s[13]+`
	`;let Ve=s[10]&&fl(s),qe=hl(s);function Fe(y){s[19](y)}let mt={};s[7]!==void 0&&(mt.show=s[7]),n=new Rs({props:mt}),vt.push(()=>Vt(n,"show",Fe));function dt(y){s[20](y)}let Ge={};s[6]!==void 0&&(Ge.show=s[6]),b=new Cs({props:Ge}),vt.push(()=>Vt(b,"show",dt));let ve=s[5].length>0&&vl(s),et=bt(s[11]),Te=[];for(let y=0;y<et.length;y+=1)Te[y]=_l(cl(s,et,y));const We=y=>Me(Te[y],1,1,()=>{Te[y]=null});return{c(){t=T(),Ve&&Ve.c(),l=T(),qe.c(),i=T(),Qe(n.$$.fragment),c=T(),Qe(b.$$.fragment),v=T(),p=f("div"),g=f("div"),w=f("div"),x=O(k),V=T(),L=f("div"),D=f("button"),E=ze("svg"),M=ze("path"),H=T(),P=f("div"),$=O(A),te=T(),K=f("div"),re=O("ⓘ "),F=O(se),ne=T(),pe=f("div"),Q=f("div"),Y=f("div"),Y.innerHTML=R,G=T(),ae=f("input"),de=T(),I=f("div"),B=f("button"),B.innerHTML=C,U=T(),W=f("hr"),we=T(),ve&&ve.c(),ce=T(),X=f("div");for(let y=0;y<Te.length;y+=1)Te[y].c();oe=T(),q=f("div"),fe=f("div"),be=f("input"),He=T(),Ee=f("button"),Se=f("div"),Be=O(_e),he=T(),me=f("div"),me.innerHTML=Oe,Ne=T(),ge=f("button"),ke=f("div"),Re=O(Ie),Ze=T(),Ae=f("div"),Ae.innerHTML=J,this.h()},l(y){Hl("svelte-vxyf60",Ut.head).forEach(u),t=S(y),Ve&&Ve.l(y),l=S(y),qe.l(y),i=S(y),Ye(n.$$.fragment,y),c=S(y),Ye(b.$$.fragment,y),v=S(y),p=h(y,"DIV",{class:!0});var Le=_(p);g=h(Le,"DIV",{class:!0});var je=_(g);w=h(je,"DIV",{class:!0});var Ce=_(w);x=N(Ce,k),Ce.forEach(u),V=S(je),L=h(je,"DIV",{});var tt=_(L);D=h(tt,"BUTTON",{class:!0,type:!0});var ot=_(D);E=Ke(ot,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var st=_(E);M=Ke(st,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(M).forEach(u),st.forEach(u),H=S(ot),P=h(ot,"DIV",{class:!0});var At=_(P);$=N(At,A),At.forEach(u),ot.forEach(u),tt.forEach(u),je.forEach(u),te=S(Le),K=h(Le,"DIV",{class:!0});var gt=_(K);re=N(gt,"ⓘ "),F=N(gt,se),gt.forEach(u),Le.forEach(u),ne=S(y),pe=h(y,"DIV",{class:!0});var kt=_(pe);Q=h(kt,"DIV",{class:!0});var yt=_(Q);Y=h(yt,"DIV",{class:!0,"data-svelte-h":!0}),Ue(Y)!=="svelte-v38fm1"&&(Y.innerHTML=R),G=S(yt),ae=h(yt,"INPUT",{class:!0,placeholder:!0}),yt.forEach(u),de=S(kt),I=h(kt,"DIV",{});var Et=_(I);B=h(Et,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(B)!=="svelte-1rxkyow"&&(B.innerHTML=C),Et.forEach(u),kt.forEach(u),U=S(y),W=h(y,"HR",{class:!0}),we=S(y),ve&&ve.l(y),ce=S(y),X=h(y,"DIV",{class:!0});var Ct=_(X);for(let Tt=0;Tt<Te.length;Tt+=1)Te[Tt].l(Ct);Ct.forEach(u),oe=S(y),q=h(y,"DIV",{class:!0});var Pt=_(q);fe=h(Pt,"DIV",{class:!0});var ft=_(fe);be=h(ft,"INPUT",{id:!0,type:!0,accept:!0}),He=S(ft),Ee=h(ft,"BUTTON",{class:!0});var ht=_(Ee);Se=h(ht,"DIV",{class:!0});var Bt=_(Se);Be=N(Bt,_e),Bt.forEach(u),he=S(ht),me=h(ht,"DIV",{class:!0,"data-svelte-h":!0}),Ue(me)!=="svelte-aqr4dt"&&(me.innerHTML=Oe),ht.forEach(u),Ne=S(ft),ge=h(ft,"BUTTON",{class:!0});var It=_(ge);ke=h(It,"DIV",{class:!0});var at=_(ke);Re=N(at,Ie),at.forEach(u),Ze=S(It),Ae=h(It,"DIV",{class:!0,"data-svelte-h":!0}),Ue(Ae)!=="svelte-1n7zye"&&(Ae.innerHTML=J),It.forEach(u),ft.forEach(u),Pt.forEach(u),this.h()},h(){r(w,"class","text-lg font-semibold self-center"),r(M,"fill-rule","evenodd"),r(M,"d","M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z"),r(M,"clip-rule","evenodd"),r(E,"xmlns","http://www.w3.org/2000/svg"),r(E,"viewBox","0 0 16 16"),r(E,"fill","currentColor"),r(E,"class","w-4 h-4"),r(P,"class","text-xs"),r(D,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),r(D,"type","button"),r(g,"class","flex justify-between items-center"),r(K,"class","text-gray-500 text-xs mt-1"),r(p,"class","mb-3"),r(Y,"class","self-center ml-1 mr-3"),r(ae,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),r(ae,"placeholder",le=s[12].t("Search Documents")),r(Q,"class","flex flex-1"),r(B,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),r(pe,"class","flex w-full space-x-2"),r(W,"class","dark:border-gray-850 my-2.5"),r(X,"class","my-3 mb-5"),r(be,"id","documents-import-input"),r(be,"type","file"),r(be,"accept",".json"),be.hidden=!0,r(Se,"class","self-center mr-2 font-medium"),r(me,"class","self-center"),r(Ee,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(ke,"class","self-center mr-2 font-medium"),r(Ae,"class","self-center"),r(ge,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(fe,"class","flex space-x-2"),r(q,"class","flex justify-end w-full mb-2")},m(y,j){z(y,t,j),Ve&&Ve.m(y,j),z(y,l,j),qe.m(y,j),z(y,i,j),Xe(n,y,j),z(y,c,j),Xe(b,y,j),z(y,v,j),z(y,p,j),a(p,g),a(g,w),a(w,x),a(g,V),a(g,L),a(L,D),a(D,E),a(E,M),a(D,H),a(D,P),a(P,$),a(p,te),a(p,K),a(K,re),a(K,F),z(y,ne,j),z(y,pe,j),a(pe,Q),a(Q,Y),a(Q,G),a(Q,ae),ie(ae,s[0]),a(pe,de),a(pe,I),a(I,B),z(y,U,j),z(y,W,j),z(y,we,j),ve&&ve.m(y,j),z(y,ce,j),z(y,X,j);for(let Le=0;Le<Te.length;Le+=1)Te[Le]&&Te[Le].m(X,null);z(y,oe,j),z(y,q,j),a(q,fe),a(fe,be),s[31](be),a(fe,He),a(fe,Ee),a(Ee,Se),a(Se,Be),a(Ee,he),a(Ee,me),a(fe,Ne),a(fe,ge),a(ge,ke),a(ke,Re),a(ge,Ze),a(ge,Ae),ue=!0,De||(ye=[ee(D,"click",s[21]),ee(ae,"input",s[22]),ee(B,"click",s[23]),ee(be,"change",s[32]),ee(be,"change",s[33]),ee(Ee,"click",s[34]),ee(ge,"click",s[35])],De=!0)},p(y,j){(!ue||j[0]&12288)&&e!==(e=`
		`+y[12].t("Documents")+" | "+y[13]+`
	`)&&(Ut.title=e),y[10]?Ve?j[0]&1024&&xe(Ve,1):(Ve=fl(y),Ve.c(),xe(Ve,1),Ve.m(l.parentNode,l)):Ve&&(St(),Me(Ve,1,1,()=>{Ve=null}),Mt()),j[0]&512&&ct(o,o=y[9])?(St(),Me(qe,1,1,ut),Mt(),qe=hl(y),qe.c(),xe(qe,1),qe.m(i.parentNode,i)):qe.p(y,j);const Le={};!d&&j[0]&128&&(d=!0,Le.show=y[7],Dt(()=>d=!1)),n.$set(Le);const je={};if(!m&&j[0]&64&&(m=!0,je.show=y[6],Dt(()=>m=!1)),b.$set(je),(!ue||j[0]&4096)&&k!==(k=y[12].t("Documents")+"")&&Z(x,k),(!ue||j[0]&4096)&&A!==(A=y[12].t("Document Settings")+"")&&Z($,A),(!ue||j[0]&4096)&&se!==(se=y[12].t("Use '#' in the prompt input to load and select your documents.")+"")&&Z(F,se),(!ue||j[0]&4096&&le!==(le=y[12].t("Search Documents")))&&r(ae,"placeholder",le),j[0]&1&&ae.value!==y[0]&&ie(ae,y[0]),y[5].length>0?ve?(ve.p(y,j),j[0]&32&&xe(ve,1)):(ve=vl(y),ve.c(),xe(ve,1),ve.m(ce.parentNode,ce)):ve&&(St(),Me(ve,1,1,()=>{ve=null}),Mt()),j[0]&68352){et=bt(y[11]);let Ce;for(Ce=0;Ce<et.length;Ce+=1){const tt=cl(y,et,Ce);Te[Ce]?(Te[Ce].p(tt,j),xe(Te[Ce],1)):(Te[Ce]=_l(tt),Te[Ce].c(),xe(Te[Ce],1),Te[Ce].m(X,null))}for(St(),Ce=et.length;Ce<Te.length;Ce+=1)We(Ce);Mt()}(!ue||j[0]&4096)&&_e!==(_e=y[12].t("Import Documents Mapping")+"")&&Z(Be,_e),(!ue||j[0]&4096)&&Ie!==(Ie=y[12].t("Export Documents Mapping")+"")&&Z(Re,Ie)},i(y){if(!ue){xe(Ve),xe(qe),xe(n.$$.fragment,y),xe(b.$$.fragment,y),xe(ve);for(let j=0;j<et.length;j+=1)xe(Te[j]);ue=!0}},o(y){Me(Ve),Me(qe),Me(n.$$.fragment,y),Me(b.$$.fragment,y),Me(ve),Te=Te.filter(Boolean);for(let j=0;j<Te.length;j+=1)Me(Te[j]);ue=!1},d(y){y&&(u(t),u(l),u(i),u(c),u(v),u(p),u(ne),u(pe),u(U),u(W),u(we),u(ce),u(X),u(oe),u(q)),Ve&&Ve.d(y),qe.d(y),Je(n,y),Je(b,y),ve&&ve.d(y),Nt(Te,y),s[31](null),De=!1,$e(ye)}}}const Gs=s=>(s==null?void 0:s.selected)==="checked",ml=s=>(s==null?void 0:s.selected)==="checked",gl=s=>(s==null?void 0:s.selected)==="checked",bl=s=>(s==null?void 0:s.selected)==="checked",wl=s=>(s==null?void 0:s.selected)==="checked";function Ws(s,e,t){let l,o,i;rt(s,lt,I=>t(2,l=I)),rt(s,Ol,I=>t(13,i=I));const{saveAs:n}=Cl,d=wt("i18n");rt(s,d,I=>t(12,o=I));let c="",b="",m,v=[],p=!1,g=!1,w=!1,k,x="",V=!1;const L=async I=>{await Wt(localStorage.token,I),await lt.set(await it(localStorage.token))},D=async I=>{await Promise.all(I.map(async B=>await Wt(localStorage.token,B.name))),await lt.set(await it(localStorage.token))},E=async I=>{const B=await xl(localStorage.token,"",I).catch(C=>(Pe.error(C),null));B&&(await jt(localStorage.token,B.collection_name,B.filename,Tl(B.filename),B.filename).catch(C=>(Pe.error(C),null)),await lt.set(await it(localStorage.token)))};xt(()=>{lt.subscribe(W=>{t(5,v=W.reduce((we,ce,X,oe)=>{var q;return[...new Set([...we,...(((q=ce==null?void 0:ce.content)==null?void 0:q.tags)??[]).map(fe=>fe.name)])]},[]))});const I=document.querySelector("body"),B=W=>{W.preventDefault(),t(10,V=!0)},C=()=>{t(10,V=!1)},U=async W=>{var we,ce;if(W.preventDefault(),(we=W.dataTransfer)!=null&&we.files){let X=new FileReader;X.onload=q=>{files=[...files,{type:"image",url:`${q.target.result}`}]};const oe=(ce=W.dataTransfer)==null?void 0:ce.files;if(oe&&oe.length>0)for(const q of oe)console.log(q,q.name.split(".").at(-1)),kl.includes(q.type)||yl.includes(q.name.split(".").at(-1))||Pe.error(`Unknown File Type '${q.type}', but accepting and treating as plain text`),E(q);else Pe.error(o.t("File not found."))}t(10,V=!1)};return I==null||I.addEventListener("dragover",B),I==null||I.addEventListener("drop",U),I==null||I.addEventListener("dragleave",C),()=>{I==null||I.removeEventListener("dragover",B),I==null||I.removeEventListener("drop",U),I==null||I.removeEventListener("dragleave",C)}});let M;function H(I){w=I,t(8,w)}function P(I){g=I,t(7,g)}function A(I){p=I,t(6,p)}const $=()=>{t(6,p=!p)};function te(){b=this.value,t(0,b)}const K=()=>{t(7,g=!0)},re=I=>{I.detail==="checked"?t(11,M=M.map(B=>({...B,selected:"checked"}))):I.detail==="unchecked"&&t(11,M=M.map(B=>({...B,selected:"unchecked"})))},se=async()=>{t(1,x="")},F=async I=>{t(1,x=I)},ne=async()=>{D(M.filter(I=>I.selected==="checked"))},pe=async(I,B)=>{B.stopPropagation(),t(8,w=!w),t(9,k=I)},Q=(I,B)=>{B.stopPropagation(),L(I.name)},Y=(I,B,C)=>{(I==null?void 0:I.selected)==="checked"?t(11,B[C].selected="unchecked",M):t(11,B[C].selected="checked",M)};function R(I){vt[I?"unshift":"push"](()=>{m=I,t(4,m)})}function G(){c=this.files,t(3,c)}const ae=()=>{console.log(c);const I=new FileReader;I.onload=async B=>{const C=JSON.parse(B.target.result);console.log(C);for(const U of C)await jt(localStorage.token,U.collection_name,U.filename,U.name,U.title).catch(W=>(Pe.error(W),null));await lt.set(await it(localStorage.token))},I.readAsText(c[0])},le=()=>{m.click()},de=async()=>{let I=new Blob([JSON.stringify(l)],{type:"application/json"});n(I,`documents-mapping-export-${Date.now()}.json`)};return s.$$.update=()=>{s.$$.dirty[0]&7&&t(11,M=l.filter(I=>{var B;return(x===""||(((B=I==null?void 0:I.content)==null?void 0:B.tags)??[]).map(C=>C.name).includes(x))&&(b===""||I.name.includes(b))}))},[b,x,l,c,m,v,p,g,w,k,V,M,o,i,n,d,L,D,H,P,A,$,te,K,re,se,F,ne,pe,Q,Y,R,G,ae,le,de]}class Qs extends pt{constructor(e){super(),_t(this,e,Ws,Fs,ct,{},null,[-1,-1])}}function Ys(s){let e,t;return e=new Qs({}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p:ut,i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}class ha extends pt{constructor(e){super(),_t(this,e,null,Ys,ct,{})}}export{ha as component};
//# sourceMappingURL=9.5177a32b.js.map
