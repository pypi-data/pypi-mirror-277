import{s as ut,p as pt,X as xt,P as wt,w as at,o as St,f,l as P,a as x,g as h,h as p,m as O,d as u,c as T,R as Oe,j as r,i as Z,r as a,Q as de,u as J,O as Bt,n as j,v as tt,U as Kt,V as Ct,C as it,_ as rt,T as Zt,e as Rt,K as jt,z as Ze,A as ze,t as Ol,M as Nl}from"../chunks/scheduler.e3781972.js";import{S as _t,i as mt,f as Tt,b as Qe,d as Ye,m as Xe,a as Se,t as Ae,e as Je,g as Lt,c as At}from"../chunks/index.2a4758a9.js";import{g as Ul}from"../chunks/globals.7f7f1b26.js";import{e as bt}from"../chunks/each.9b39a839.js";import{a as Ce}from"../chunks/Toaster.svelte_svelte_type_style_lang.143b8570.js";import{f as Rl}from"../chunks/FileSaver.min.898eb36f.js";import{q as st,g as jl,c as ql,S as xl,w as Tl,W as Zl}from"../chunks/index.db87f833.js";import{u as zl,g as ot,t as $t,c as zt,d as el}from"../chunks/index.6f0e948d.js";import{g as Sl,s as Kl,c as Fl,d as Gl,e as Wl,f as Ml,h as Ql,i as Yl,j as Xl,k as Hl,l as Ll,u as Al,A as Jl}from"../chunks/AddFilesPlaceholder.30bc836e.js";import{t as Cl}from"../chunks/index.b3b584e7.js";import{C as Bl}from"../chunks/Checkbox.61519300.js";import{M as Ft}from"../chunks/dayjs.min.a430b708.js";import{T as Pl}from"../chunks/Tags.75528ebd.js";import"../chunks/sha256.8dba905a.js";import{S as $l}from"../chunks/Switch.31f8d339.js";import{g as es}from"../chunks/index.b1f28629.js";function ts(s){let e,t,l,o=s[3].t("Edit Doc")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,_,g,w,k,V=s[3].t("Name Tag")+"",D,M,E,y,S="#",L,A,C,$,ee,K=s[3].t("Title")+"",ne,se,G,oe,ge,Q,Y,U=s[3].t("Tags")+"",W,ae,te,fe,I,N,re=s[3].t("Save")+"",q,F,we,B;return te=new Pl({props:{tags:s[1],addTag:s[6],deleteTag:s[7]}}),{c(){e=f("div"),t=f("div"),l=f("div"),i=P(o),n=x(),d=f("button"),d.innerHTML=c,b=x(),m=f("div"),v=f("div"),_=f("form"),g=f("div"),w=f("div"),k=f("div"),D=P(V),M=x(),E=f("div"),y=f("div"),y.textContent=S,L=x(),A=f("input"),C=x(),$=f("div"),ee=f("div"),ne=P(K),se=x(),G=f("div"),oe=f("input"),ge=x(),Q=f("div"),Y=f("div"),W=P(U),ae=x(),Qe(te.$$.fragment),fe=x(),I=f("div"),N=f("button"),q=P(re),this.h()},l(z){e=h(z,"DIV",{});var ue=p(e);t=h(ue,"DIV",{class:!0});var R=p(t);l=h(R,"DIV",{class:!0});var he=p(l);i=O(he,o),he.forEach(u),n=T(R),d=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=c),R.forEach(u),b=T(ue),m=h(ue,"DIV",{class:!0});var Ee=p(m);v=h(Ee,"DIV",{class:!0});var Be=p(v);_=h(Be,"FORM",{class:!0});var De=p(_);g=h(De,"DIV",{class:!0});var Le=p(g);w=h(Le,"DIV",{class:!0});var be=p(w);k=h(be,"DIV",{class:!0});var Pe=p(k);D=O(Pe,V),Pe.forEach(u),M=T(be),E=h(be,"DIV",{class:!0});var ve=p(E);y=h(ve,"DIV",{class:!0,"data-svelte-h":!0}),Oe(y)!=="svelte-113b805"&&(y.textContent=S),L=T(ve),A=h(ve,"INPUT",{class:!0,type:!0,autocomplete:!0}),ve.forEach(u),be.forEach(u),C=T(Le),$=h(Le,"DIV",{class:!0});var ke=p($);ee=h(ke,"DIV",{class:!0});var Ne=p(ee);ne=O(Ne,K),Ne.forEach(u),se=T(ke),G=h(ke,"DIV",{class:!0});var Ue=p(G);oe=h(Ue,"INPUT",{class:!0,type:!0,autocomplete:!0}),Ue.forEach(u),ke.forEach(u),ge=T(Le),Q=h(Le,"DIV",{class:!0});var ye=p(Q);Y=h(ye,"DIV",{class:!0});var _e=p(Y);W=O(_e,U),_e.forEach(u),ae=T(ye),Ye(te.$$.fragment,ye),ye.forEach(u),Le.forEach(u),fe=T(De),I=h(De,"DIV",{class:!0});var Ve=p(I);N=h(Ve,"BUTTON",{class:!0,type:!0});var We=p(N);q=O(We,re),We.forEach(u),Ve.forEach(u),De.forEach(u),Be.forEach(u),Ee.forEach(u),ue.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(k,"class","mb-1 text-xs text-gray-500"),r(y,"class","bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),r(A,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),r(A,"type","text"),r(A,"autocomplete","off"),A.required=!0,r(E,"class","flex flex-1"),r(w,"class","flex flex-col w-full"),r(ee,"class","mb-1 text-xs text-gray-500"),r(oe,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),r(oe,"type","text"),r(oe,"autocomplete","off"),oe.required=!0,r(G,"class","flex-1"),r($,"class","flex flex-col w-full"),r(Y,"class","mb-2 text-xs text-gray-500"),r(Q,"class","flex flex-col w-full"),r(g,"class","flex flex-col space-y-1.5"),r(N,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(N,"type","submit"),r(I,"class","flex justify-end pt-5 text-sm font-medium"),r(_,"class","flex flex-col w-full"),r(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(z,ue){Z(z,e,ue),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,_),a(_,g),a(g,w),a(w,k),a(k,D),a(w,M),a(w,E),a(E,y),a(E,L),a(E,A),de(A,s[2].name),a(g,C),a(g,$),a($,ee),a(ee,ne),a($,se),a($,G),a(G,oe),de(oe,s[2].title),a(g,ge),a(g,Q),a(Q,Y),a(Y,W),a(Q,ae),Xe(te,Q,null),a(_,fe),a(_,I),a(I,N),a(N,q),F=!0,we||(B=[J(d,"click",s[9]),J(A,"input",s[10]),J(oe,"input",s[11]),J(_,"submit",Bt(s[12]))],we=!0)},p(z,ue){(!F||ue&8)&&o!==(o=z[3].t("Edit Doc")+"")&&j(i,o),(!F||ue&8)&&V!==(V=z[3].t("Name Tag")+"")&&j(D,V),ue&4&&A.value!==z[2].name&&de(A,z[2].name),(!F||ue&8)&&K!==(K=z[3].t("Title")+"")&&j(ne,K),ue&4&&oe.value!==z[2].title&&de(oe,z[2].title),(!F||ue&8)&&U!==(U=z[3].t("Tags")+"")&&j(W,U);const R={};ue&2&&(R.tags=z[1]),te.$set(R),(!F||ue&8)&&re!==(re=z[3].t("Save")+"")&&j(q,re)},i(z){F||(Se(te.$$.fragment,z),F=!0)},o(z){Ae(te.$$.fragment,z),F=!1},d(z){z&&u(e),Je(te),we=!1,tt(B)}}}function ls(s){let e,t,l;function o(n){s[13](n)}let i={size:"sm",$$slots:{default:[ts]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ft({props:i}),pt.push(()=>Tt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&16399&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],xt(()=>t=!1)),e.$set(c)},i(n){l||(Se(e.$$.fragment,n),l=!0)},o(n){Ae(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function ss(s,e,t){let l;const o=wt("i18n");at(s,o,D=>t(3,l=D));let{show:i=!1}=e,{selectedDoc:n}=e,d=[],c={name:"",title:"",content:null};const b=async()=>{await zl(localStorage.token,n.name,{title:c.title,name:c.name}).catch(M=>{Ce.error(M)})&&(t(0,i=!1),st.set(await ot(localStorage.token)))},m=async D=>{!d.find(M=>M.name===D)&&D!==""?(t(1,d=[...d,{name:D}]),await $t(localStorage.token,c.name,{name:c.name,tags:d}),st.set(await ot(localStorage.token))):console.log("tag already exists")},v=async D=>{t(1,d=d.filter(M=>M.name!==D)),await $t(localStorage.token,c.name,{name:c.name,tags:d}),st.set(await ot(localStorage.token))};St(()=>{var D;n&&(t(2,c=JSON.parse(JSON.stringify(n))),t(1,d=((D=c==null?void 0:c.content)==null?void 0:D.tags)??[]))});const _=()=>{t(0,i=!1)};function g(){c.name=this.value,t(2,c)}function w(){c.title=this.value,t(2,c)}const k=()=>{b()};function V(D){i=D,t(0,i)}return s.$$set=D=>{"show"in D&&t(0,i=D.show),"selectedDoc"in D&&t(8,n=D.selectedDoc)},[i,d,c,l,o,b,m,v,n,_,g,w,k,V]}class as extends _t{constructor(e){super(),mt(this,e,ss,ls,ut,{show:0,selectedDoc:8})}}function tl(s,e,t){const l=s.slice();return l[43]=e[t],l}function ll(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-1q5d1z1"&&(e.innerHTML=t),this.h()},h(){r(e,"class","ml-3 self-center")},m(l,o){Z(l,e,o)},d(l){l&&u(e)}}}function sl(s){let e,t,l,o,i,n,d,c,b,m=s[13].t("Embedding Batch Size")+"",v,_,g,w,k,V,D,M,E;return{c(){e=f("div"),t=f("input"),o=x(),i=f("input"),d=x(),c=f("div"),b=f("div"),v=P(m),_=x(),g=f("div"),w=f("input"),k=x(),V=f("div"),D=f("input"),this.h()},l(y){e=h(y,"DIV",{class:!0});var S=p(e);t=h(S,"INPUT",{class:!0,placeholder:!0}),o=T(S),i=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),d=T(y),c=h(y,"DIV",{class:!0});var L=p(c);b=h(L,"DIV",{class:!0});var A=p(b);v=O(A,m),A.forEach(u),_=T(L),g=h(L,"DIV",{class:!0});var C=p(g);w=h(C,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),C.forEach(u),k=T(L),V=h(L,"DIV",{class:!0});var $=p(V);D=h($,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),$.forEach(u),L.forEach(u),this.h()},h(){r(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(t,"placeholder",l=s[13].t("API Base URL")),t.required=!0,r(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(i,"placeholder",n=s[13].t("API Key")),i.required=!0,r(e,"class","my-0.5 flex gap-2"),r(b,"class","self-center text-xs font-medium"),r(w,"id","steps-range"),r(w,"type","range"),r(w,"min","1"),r(w,"max","2048"),r(w,"step","1"),r(w,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),r(g,"class","flex-1"),r(D,"type","number"),r(D,"class","bg-transparent text-center w-14"),r(D,"min","-2"),r(D,"max","16000"),r(D,"step","1"),r(V,"class",""),r(c,"class","flex mt-0.5 space-x-2")},m(y,S){Z(y,e,S),a(e,t),de(t,s[10]),a(e,o),a(e,i),de(i,s[9]),Z(y,d,S),Z(y,c,S),a(c,b),a(b,v),a(c,_),a(c,g),a(g,w),de(w,s[11]),a(c,k),a(c,V),a(V,D),de(D,s[11]),M||(E=[J(t,"input",s[24]),J(i,"input",s[25]),J(w,"change",s[26]),J(w,"input",s[26]),J(D,"input",s[27])],M=!0)},p(y,S){S[0]&8192&&l!==(l=y[13].t("API Base URL"))&&r(t,"placeholder",l),S[0]&1024&&t.value!==y[10]&&de(t,y[10]),S[0]&8192&&n!==(n=y[13].t("API Key"))&&r(i,"placeholder",n),S[0]&512&&i.value!==y[9]&&de(i,y[9]),S[0]&8192&&m!==(m=y[13].t("Embedding Batch Size")+"")&&j(v,m),S[0]&2048&&de(w,y[11]),S[0]&2048&&rt(D.value)!==y[11]&&de(D,y[11])},d(y){y&&(u(e),u(d),u(c)),M=!1,tt(E)}}}function rs(s){let e,t=s[13].t("Off")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=p(e);l=O(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){Z(o,e,i),a(e,l)},p(o,i){i[0]&8192&&t!==(t=o[13].t("Off")+"")&&j(l,t)},d(o){o&&u(e)}}}function ns(s){let e,t=s[13].t("On")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=p(e);l=O(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){Z(o,e,i),a(e,l)},p(o,i){i[0]&8192&&t!==(t=o[13].t("On")+"")&&j(l,t)},d(o){o&&u(e)}}}function os(s){let e,t,l,o,i,n,d,c=s[6]===""&&al(s);return{c(){e=f("div"),t=f("div"),l=f("input"),i=x(),c&&c.c(),this.h()},l(b){e=h(b,"DIV",{class:!0});var m=p(e);t=h(m,"DIV",{class:!0});var v=p(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),i=T(m),c&&c.l(m),m.forEach(u),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",o=s[13].t("Set embedding model (e.g. {{model}})",{model:s[7].slice(-40)})),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(b,m){Z(b,e,m),a(e,t),a(t,l),de(l,s[7]),a(e,i),c&&c.m(e,null),n||(d=J(l,"input",s[30]),n=!0)},p(b,m){m[0]&24704&&o!==(o=b[13].t("Set embedding model (e.g. {{model}})",{model:b[7].slice(-40)}))&&r(l,"placeholder",o),m[0]&16512&&l.value!==b[7]&&de(l,b[7]),b[6]===""?c?c.p(b,m):(c=al(b),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(b){b&&u(e),c&&c.d(),n=!1,d()}}}function is(s){let e,t,l,o,i,n,d,c=!s[7]&&rl(s),b=bt(s[14].filter(il)),m=[];for(let v=0;v<b.length;v+=1)m[v]=nl(tl(s,b,v));return{c(){e=f("div"),t=f("div"),l=f("select"),c&&c.c(),o=Rt();for(let v=0;v<m.length;v+=1)m[v].c();this.h()},l(v){e=h(v,"DIV",{class:!0});var _=p(e);t=h(_,"DIV",{class:!0});var g=p(t);l=h(g,"SELECT",{class:!0,placeholder:!0});var w=p(l);c&&c.l(w),o=Rt();for(let k=0;k<m.length;k+=1)m[k].l(w);w.forEach(u),g.forEach(u),_.forEach(u),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",i=s[13].t("Select a model")),l.required=!0,s[7]===void 0&&Kt(()=>s[29].call(l)),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(v,_){Z(v,e,_),a(e,t),a(t,l),c&&c.m(l,null),a(l,o);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(l,null);Ct(l,s[7],!0),n||(d=J(l,"change",s[29]),n=!0)},p(v,_){if(v[7]?c&&(c.d(1),c=null):c?c.p(v,_):(c=rl(v),c.c(),c.m(l,o)),_[0]&16384){b=bt(v[14].filter(il));let g;for(g=0;g<b.length;g+=1){const w=tl(v,b,g);m[g]?m[g].p(w,_):(m[g]=nl(w),m[g].c(),m[g].m(l,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=b.length}_[0]&8192&&i!==(i=v[13].t("Select a model"))&&r(l,"placeholder",i),_[0]&16512&&Ct(l,v[7])},d(v){v&&u(e),c&&c.d(),jt(m,v),n=!1,d()}}}function al(s){let e,t,l;function o(d,c){return d[2]?cs:us}let i=o(s),n=i(s);return{c(){e=f("button"),n.c(),this.h()},l(d){e=h(d,"BUTTON",{class:!0});var c=p(e);n.l(c),c.forEach(u),this.h()},h(){r(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[2]},m(d,c){Z(d,e,c),n.m(e,null),t||(l=J(e,"click",s[31]),t=!0)},p(d,c){i!==(i=o(d))&&(n.d(1),n=i(d),n&&(n.c(),n.m(e,null))),c[0]&4&&(e.disabled=d[2])},d(d){d&&u(e),n.d(),t=!1,l()}}}function us(s){let e,t,l;return{c(){e=Ze("svg"),t=Ze("path"),l=Ze("path"),this.h()},l(o){e=ze(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ze(i,"path",{d:!0}),p(t).forEach(u),l=ze(i,"path",{d:!0}),p(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(o,i){Z(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function cs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,o){Z(l,e,o)},d(l){l&&u(e)}}}function rl(s){let e,t=s[13].t("Select a model")+"",l;return{c(){e=f("option"),l=P(t),this.h()},l(o){e=h(o,"OPTION",{});var i=p(e);l=O(i,t),i.forEach(u),this.h()},h(){e.__value="",de(e,e.__value),e.disabled=!0,e.selected=!0},m(o,i){Z(o,e,i),a(e,l)},p(o,i){i[0]&8192&&t!==(t=o[13].t("Select a model")+"")&&j(l,t)},d(o){o&&u(e)}}}function nl(s){let e,t=s[43].name+" ("+(s[43].size/1073741824).toFixed(1)+" GB)",l,o;return{c(){e=f("option"),l=P(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=p(e);l=O(n,t),n.forEach(u),this.h()},h(){e.__value=o=s[43].name,de(e,e.__value),r(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){Z(i,e,n),a(e,l)},p(i,n){n[0]&16384&&t!==(t=i[43].name+" ("+(i[43].size/1024**3).toFixed(1)+" GB)")&&j(l,t),n[0]&16384&&o!==(o=i[43].name)&&(e.__value=o,de(e,e.__value))},d(i){i&&u(e)}}}function ol(s){let e,t,l=s[13].t("Reranking Model")+"",o,i,n,d,c,b,m,v,_,g;function w(D,M){return D[3]?fs:ds}let k=w(s),V=k(s);return{c(){e=f("div"),t=f("div"),o=P(l),i=x(),n=f("div"),d=f("div"),c=f("input"),m=x(),v=f("button"),V.c(),this.h()},l(D){e=h(D,"DIV",{class:!0});var M=p(e);t=h(M,"DIV",{class:!0});var E=p(t);o=O(E,l),E.forEach(u),i=T(M),n=h(M,"DIV",{class:!0});var y=p(n);d=h(y,"DIV",{class:!0});var S=p(d);c=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),m=T(y),v=h(y,"BUTTON",{class:!0});var L=p(v);V.l(L),L.forEach(u),y.forEach(u),M.forEach(u),this.h()},h(){r(t,"class","mb-2 text-sm font-medium"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"placeholder",b=s[13].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),r(d,"class","flex-1 mr-2"),r(v,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),v.disabled=s[3],r(n,"class","flex w-full"),r(e,"class","")},m(D,M){Z(D,e,M),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[8]),a(n,m),a(n,v),V.m(v,null),_||(g=[J(c,"input",s[32]),J(v,"click",s[33])],_=!0)},p(D,M){M[0]&8192&&l!==(l=D[13].t("Reranking Model")+"")&&j(o,l),M[0]&8192&&b!==(b=D[13].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&r(c,"placeholder",b),M[0]&256&&c.value!==D[8]&&de(c,D[8]),k!==(k=w(D))&&(V.d(1),V=k(D),V&&(V.c(),V.m(v,null))),M[0]&8&&(v.disabled=D[3])},d(D){D&&u(e),V.d(),_=!1,tt(g)}}}function ds(s){let e,t,l;return{c(){e=Ze("svg"),t=Ze("path"),l=Ze("path"),this.h()},l(o){e=ze(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ze(i,"path",{d:!0}),p(t).forEach(u),l=ze(i,"path",{d:!0}),p(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(o,i){Z(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function fs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,o){Z(l,e,o)},d(l){l&&u(e)}}}function hs(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',o,i,n=s[13].t("Reset Upload Directory")+"",d,c,b;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,o=x(),i=f("div"),d=P(n),this.h()},l(m){e=h(m,"BUTTON",{class:!0,type:!0});var v=p(e);t=h(v,"DIV",{class:!0,"data-svelte-h":!0}),Oe(t)!=="svelte-1xas26m"&&(t.innerHTML=l),o=T(v),i=h(v,"DIV",{class:!0});var _=p(i);d=O(_,n),_.forEach(u),v.forEach(u),this.h()},h(){r(t,"class","self-center mr-3"),r(i,"class","self-center text-sm font-medium"),r(e,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),r(e,"type","button")},m(m,v){Z(m,e,v),a(e,t),a(e,o),a(e,i),a(i,d),c||(b=J(e,"click",s[36]),c=!0)},p(m,v){v[0]&8192&&n!==(n=m[13].t("Reset Upload Directory")+"")&&j(d,n)},d(m){m&&u(e),c=!1,b()}}}function vs(s){let e,t,l,o,i,n,d,c=s[13].t("Are you sure?")+"",b,m,v,_,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,k,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',D,M;return{c(){e=f("div"),t=f("div"),l=Ze("svg"),o=Ze("path"),i=Ze("path"),n=x(),d=f("span"),b=P(c),m=x(),v=f("div"),_=f("button"),_.innerHTML=g,w=x(),k=f("button"),k.innerHTML=V,this.h()},l(E){e=h(E,"DIV",{class:!0});var y=p(e);t=h(y,"DIV",{class:!0});var S=p(t);l=ze(S,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var L=p(l);o=ze(L,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(o).forEach(u),i=ze(L,"path",{d:!0}),p(i).forEach(u),L.forEach(u),n=T(S),d=h(S,"SPAN",{});var A=p(d);b=O(A,c),A.forEach(u),S.forEach(u),m=T(y),v=h(y,"DIV",{class:!0});var C=p(v);_=h(C,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(_)!=="svelte-idku6k"&&(_.innerHTML=g),w=T(C),k=h(C,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(k)!=="svelte-1npylob"&&(k.innerHTML=V),C.forEach(u),y.forEach(u),this.h()},h(){r(o,"fill-rule","evenodd"),r(o,"d","M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z"),r(o,"clip-rule","evenodd"),r(i,"d","M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"viewBox","0 0 24 24"),r(l,"fill","currentColor"),r(l,"class","size-4"),r(t,"class","flex items-center space-x-3"),r(_,"class","hover:text-white transition"),r(_,"type","button"),r(k,"class","hover:text-white transition"),r(k,"type","button"),r(v,"class","flex space-x-1.5 items-center"),r(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(E,y){Z(E,e,y),a(e,t),a(t,l),a(l,o),a(l,i),a(t,n),a(t,d),a(d,b),a(e,m),a(e,v),a(v,_),a(v,w),a(v,k),D||(M=[J(_,"click",s[34]),J(k,"click",s[35])],D=!0)},p(E,y){y[0]&8192&&c!==(c=E[13].t("Are you sure?")+"")&&j(b,c)},d(E){E&&u(e),D=!1,tt(M)}}}function ps(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',o,i,n=s[13].t("Reset Vector Storage")+"",d,c,b;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,o=x(),i=f("div"),d=P(n),this.h()},l(m){e=h(m,"BUTTON",{class:!0,type:!0});var v=p(e);t=h(v,"DIV",{class:!0,"data-svelte-h":!0}),Oe(t)!=="svelte-2sumrc"&&(t.innerHTML=l),o=T(v),i=h(v,"DIV",{class:!0});var _=p(i);d=O(_,n),_.forEach(u),v.forEach(u),this.h()},h(){r(t,"class","self-center mr-3"),r(i,"class","self-center text-sm font-medium"),r(e,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),r(e,"type","button")},m(m,v){Z(m,e,v),a(e,t),a(e,o),a(e,i),a(i,d),c||(b=J(e,"click",s[39]),c=!0)},p(m,v){v[0]&8192&&n!==(n=m[13].t("Reset Vector Storage")+"")&&j(d,n)},d(m){m&&u(e),c=!1,b()}}}function _s(s){let e,t,l,o,i,n,d=s[13].t("Are you sure?")+"",c,b,m,v,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',g,w,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,D;return{c(){e=f("div"),t=f("div"),l=Ze("svg"),o=Ze("path"),i=x(),n=f("span"),c=P(d),b=x(),m=f("div"),v=f("button"),v.innerHTML=_,g=x(),w=f("button"),w.innerHTML=k,this.h()},l(M){e=h(M,"DIV",{class:!0});var E=p(e);t=h(E,"DIV",{class:!0});var y=p(t);l=ze(y,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var S=p(l);o=ze(S,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(o).forEach(u),S.forEach(u),i=T(y),n=h(y,"SPAN",{});var L=p(n);c=O(L,d),L.forEach(u),y.forEach(u),b=T(E),m=h(E,"DIV",{class:!0});var A=p(m);v=h(A,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(v)!=="svelte-1s57585"&&(v.innerHTML=_),g=T(A),w=h(A,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(w)!=="svelte-16qx3hx"&&(w.innerHTML=k),A.forEach(u),E.forEach(u),this.h()},h(){r(o,"fill-rule","evenodd"),r(o,"d","M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z"),r(o,"clip-rule","evenodd"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"viewBox","0 0 16 16"),r(l,"fill","currentColor"),r(l,"class","w-4 h-4"),r(t,"class","flex items-center space-x-3"),r(v,"class","hover:text-white transition"),r(v,"type","button"),r(w,"class","hover:text-white transition"),r(w,"type","button"),r(m,"class","flex space-x-1.5 items-center"),r(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(M,E){Z(M,e,E),a(e,t),a(t,l),a(l,o),a(t,i),a(t,n),a(n,c),a(e,b),a(e,m),a(m,v),a(m,g),a(m,w),V||(D=[J(v,"click",s[37]),J(w,"click",s[38])],V=!0)},p(M,E){E[0]&8192&&d!==(d=M[13].t("Are you sure?")+"")&&j(c,d)},d(M){M&&u(e),V=!1,tt(D)}}}function ms(s){let e,t,l,o,i=s[13].t("General Settings")+"",n,d,c,b,m=s[13].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",v,_,g,w,k=s[13].t("Scan")+"",V,D,M,E,y,S,L=s[13].t("Embedding Model Engine")+"",A,C,$,ee,K,ne=s[13].t("Default (SentenceTransformers)")+"",se,G,oe=s[13].t("Ollama")+"",ge,Q,Y=s[13].t("OpenAI")+"",U,W,ae,te,fe,I=s[13].t("Hybrid Search")+"",N,re,q,F,we,B,z,ue,R,he,Ee=s[13].t("Embedding Model")+"",Be,De,Le,be,Pe=s[13].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",ve,ke,Ne,Ue,ye,_e,Ve,We,Ke,He,X=s[13].t("Save")+"",ce,je,Re,pe=s[1]&&ll(),Me=s[6]==="openai"&&sl(s);function ct(ie,Ie){return ie[12].hybrid===!0?ns:rs}let nt=ct(s),$e=nt(s);function dt(ie,Ie){return ie[6]==="ollama"?is:os}let Te=dt(s),qe=Te(s),me=s[12].hybrid===!0&&ol(s);function ft(ie,Ie){return ie[5]?vs:hs}let H=ft(s),le=H(s);function Ge(ie,Ie){return ie[4]?_s:ps}let et=Ge(s),xe=et(s);return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=P(i),d=x(),c=f("div"),b=f("div"),v=P(m),_=x(),g=f("button"),w=f("div"),V=P(k),D=x(),pe&&pe.c(),E=x(),y=f("div"),S=f("div"),A=P(L),C=x(),$=f("div"),ee=f("select"),K=f("option"),se=P(ne),G=f("option"),ge=P(oe),Q=f("option"),U=P(Y),W=x(),Me&&Me.c(),ae=x(),te=f("div"),fe=f("div"),N=P(I),re=x(),q=f("button"),$e.c(),F=x(),we=f("hr"),B=x(),z=f("div"),ue=x(),R=f("div"),he=f("div"),Be=P(Ee),De=x(),qe.c(),Le=x(),be=f("div"),ve=P(Pe),ke=x(),me&&me.c(),Ne=x(),Ue=f("hr"),ye=x(),_e=f("div"),le.c(),Ve=x(),xe.c(),We=x(),Ke=f("div"),He=f("button"),ce=P(X),this.h()},l(ie){e=h(ie,"FORM",{class:!0});var Ie=p(e);t=h(Ie,"DIV",{class:!0});var Fe=p(t);l=h(Fe,"DIV",{class:!0});var lt=p(l);o=h(lt,"DIV",{class:!0});var Mt=p(o);n=O(Mt,i),Mt.forEach(u),d=T(lt),c=h(lt,"DIV",{class:!0});var ht=p(c);b=h(ht,"DIV",{class:!0});var kt=p(b);v=O(kt,m),kt.forEach(u),_=T(ht),g=h(ht,"BUTTON",{class:!0,type:!0});var yt=p(g);w=h(yt,"DIV",{class:!0});var Pt=p(w);V=O(Pt,k),Pt.forEach(u),D=T(yt),pe&&pe.l(yt),yt.forEach(u),ht.forEach(u),E=T(lt),y=h(lt,"DIV",{class:!0});var Et=p(y);S=h(Et,"DIV",{class:!0});var vt=p(S);A=O(vt,L),vt.forEach(u),C=T(Et),$=h(Et,"DIV",{class:!0});var It=p($);ee=h(It,"SELECT",{class:!0,placeholder:!0});var Dt=p(ee);K=h(Dt,"OPTION",{});var Vt=p(K);se=O(Vt,ne),Vt.forEach(u),G=h(Dt,"OPTION",{});var Ot=p(G);ge=O(Ot,oe),Ot.forEach(u),Q=h(Dt,"OPTION",{});var Ht=p(Q);U=O(Ht,Y),Ht.forEach(u),Dt.forEach(u),It.forEach(u),Et.forEach(u),W=T(lt),Me&&Me.l(lt),ae=T(lt),te=h(lt,"DIV",{class:!0});var Nt=p(te);fe=h(Nt,"DIV",{class:!0});var Gt=p(fe);N=O(Gt,I),Gt.forEach(u),re=T(Nt),q=h(Nt,"BUTTON",{class:!0,type:!0});var Wt=p(q);$e.l(Wt),Wt.forEach(u),Nt.forEach(u),lt.forEach(u),F=T(Fe),we=h(Fe,"HR",{class:!0}),B=T(Fe),z=h(Fe,"DIV",{class:!0}),p(z).forEach(u),ue=T(Fe),R=h(Fe,"DIV",{});var gt=p(R);he=h(gt,"DIV",{class:!0});var Qt=p(he);Be=O(Qt,Ee),Qt.forEach(u),De=T(gt),qe.l(gt),Le=T(gt),be=h(gt,"DIV",{class:!0});var Yt=p(be);ve=O(Yt,Pe),Yt.forEach(u),ke=T(gt),me&&me.l(gt),gt.forEach(u),Ne=T(Fe),Ue=h(Fe,"HR",{class:!0}),ye=T(Fe),_e=h(Fe,"DIV",{});var Ut=p(_e);le.l(Ut),Ve=T(Ut),xe.l(Ut),Ut.forEach(u),Fe.forEach(u),We=T(Ie),Ke=h(Ie,"DIV",{class:!0});var Xt=p(Ke);He=h(Xt,"BUTTON",{class:!0,type:!0});var Jt=p(He);ce=O(Jt,X),Jt.forEach(u),Xt.forEach(u),Ie.forEach(u),this.h()},h(){r(o,"class","mb-0.5 text-sm font-medium"),r(b,"class","self-center text-xs font-medium"),r(w,"class","self-center font-medium"),r(g,"class",M="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),r(g,"type","button"),g.disabled=s[1],r(c,"class","flex w-full justify-between"),r(S,"class","self-center text-xs font-medium"),K.__value="",de(K,K.__value),G.__value="ollama",de(G,G.__value),Q.__value="openai",de(Q,Q.__value),r(ee,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r(ee,"placeholder","Select an embedding model engine"),s[6]===void 0&&Kt(()=>s[22].call(ee)),r($,"class","flex items-center relative"),r(y,"class","flex w-full justify-between"),r(fe,"class","self-center text-xs font-medium"),r(q,"class","p-1 px-3 text-xs flex rounded transition"),r(q,"type","button"),r(te,"class","flex w-full justify-between"),r(l,"class","flex flex-col gap-0.5"),r(we,"class","dark:border-gray-700 my-1"),r(z,"class","space-y-2"),r(he,"class","mb-2 text-sm font-medium"),r(be,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(Ue,"class","dark:border-gray-850"),r(t,"class","space-y-2.5 pr-1.5 overflow-y-scroll max-h-[28rem]"),r(He,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(He,"type","submit"),r(Ke,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ie,Ie){Z(ie,e,Ie),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,v),a(c,_),a(c,g),a(g,w),a(w,V),a(g,D),pe&&pe.m(g,null),a(l,E),a(l,y),a(y,S),a(S,A),a(y,C),a(y,$),a($,ee),a(ee,K),a(K,se),a(ee,G),a(G,ge),a(ee,Q),a(Q,U),Ct(ee,s[6],!0),a(l,W),Me&&Me.m(l,null),a(l,ae),a(l,te),a(te,fe),a(fe,N),a(te,re),a(te,q),$e.m(q,null),a(t,F),a(t,we),a(t,B),a(t,z),a(t,ue),a(t,R),a(R,he),a(he,Be),a(R,De),qe.m(R,null),a(R,Le),a(R,be),a(be,ve),a(R,ke),me&&me.m(R,null),a(t,Ne),a(t,Ue),a(t,ye),a(t,_e),le.m(_e,null),a(_e,Ve),xe.m(_e,null),a(e,We),a(e,Ke),a(Ke,He),a(He,ce),je||(Re=[J(g,"click",s[21]),J(ee,"change",s[22]),J(ee,"change",s[23]),J(q,"click",s[28]),J(e,"submit",Bt(s[40]))],je=!0)},p(ie,Ie){Ie[0]&8192&&i!==(i=ie[13].t("General Settings")+"")&&j(n,i),Ie[0]&8192&&m!==(m=ie[13].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&j(v,m),Ie[0]&8192&&k!==(k=ie[13].t("Scan")+"")&&j(V,k),ie[1]?pe||(pe=ll(),pe.c(),pe.m(g,null)):pe&&(pe.d(1),pe=null),Ie[0]&2&&M!==(M="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(ie[1]?" cursor-not-allowed":""))&&r(g,"class",M),Ie[0]&2&&(g.disabled=ie[1]),Ie[0]&8192&&L!==(L=ie[13].t("Embedding Model Engine")+"")&&j(A,L),Ie[0]&8192&&ne!==(ne=ie[13].t("Default (SentenceTransformers)")+"")&&j(se,ne),Ie[0]&8192&&oe!==(oe=ie[13].t("Ollama")+"")&&j(ge,oe),Ie[0]&8192&&Y!==(Y=ie[13].t("OpenAI")+"")&&j(U,Y),Ie[0]&64&&Ct(ee,ie[6]),ie[6]==="openai"?Me?Me.p(ie,Ie):(Me=sl(ie),Me.c(),Me.m(l,ae)):Me&&(Me.d(1),Me=null),Ie[0]&8192&&I!==(I=ie[13].t("Hybrid Search")+"")&&j(N,I),nt===(nt=ct(ie))&&$e?$e.p(ie,Ie):($e.d(1),$e=nt(ie),$e&&($e.c(),$e.m(q,null))),Ie[0]&8192&&Ee!==(Ee=ie[13].t("Embedding Model")+"")&&j(Be,Ee),Te===(Te=dt(ie))&&qe?qe.p(ie,Ie):(qe.d(1),qe=Te(ie),qe&&(qe.c(),qe.m(R,Le))),Ie[0]&8192&&Pe!==(Pe=ie[13].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&j(ve,Pe),ie[12].hybrid===!0?me?me.p(ie,Ie):(me=ol(ie),me.c(),me.m(R,null)):me&&(me.d(1),me=null),H===(H=ft(ie))&&le?le.p(ie,Ie):(le.d(1),le=H(ie),le&&(le.c(),le.m(_e,Ve))),et===(et=Ge(ie))&&xe?xe.p(ie,Ie):(xe.d(1),xe=et(ie),xe&&(xe.c(),xe.m(_e,null))),Ie[0]&8192&&X!==(X=ie[13].t("Save")+"")&&j(ce,X)},i:it,o:it,d(ie){ie&&u(e),pe&&pe.d(),Me&&Me.d(),$e.d(),qe.d(),me&&me.d(),le.d(),xe.d(),je=!1,tt(Re)}}}const il=s=>s.id&&!s.external;function gs(s,e,t){let l,o;at(s,jl,B=>t(14,o=B));const i=wt("i18n");at(s,i,B=>t(13,l=B));let{saveHandler:n}=e,d=!1,c=!1,b=!1,m=!1,v=!1,_="",g="",w="",k="",V="",D=1,M={template:"",r:0,k:4,hybrid:!1};const E=async()=>{t(1,d=!0);const B=await Kl(localStorage.token);t(1,d=!1),B&&(await st.set(await ot(localStorage.token)),Ce.success(l.t("Scan complete!")))},y=async()=>{if(_===""&&g.split("/").length-1>1){Ce.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(_==="ollama"&&g===""){Ce.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(_==="openai"&&g===""){Ce.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(_==="openai"&&k===""||V===""){Ce.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",g),t(2,c=!0);const B=await Xl(localStorage.token,{embedding_engine:_,embedding_model:g,..._==="openai"?{openai_config:{key:k,url:V,batch_size:D}}:{}}).catch(async z=>(Ce.error(z),await A(),null));t(2,c=!1),B&&(console.log("embeddingModelUpdateHandler:",B),B.status===!0&&Ce.success(l.t('Embedding model set to "{{embedding_model}}"',B),{duration:1e3*10}))},S=async()=>{console.log("Update reranking model attempt:",w),t(3,b=!0);const B=await Fl(localStorage.token,{reranking_model:w}).catch(async z=>(Ce.error(z),await C(),null));t(3,b=!1),B&&(console.log("rerankingModelUpdateHandler:",B),B.status===!0&&(w===""?Ce.success(l.t("Reranking model disabled",B),{duration:1e3*10}):Ce.success(l.t('Reranking model set to "{{reranking_model}}"',B),{duration:1e3*10})))},L=async()=>{y(),M.hybrid&&S()},A=async()=>{const B=await Gl(localStorage.token);B&&(t(6,_=B.embedding_engine),t(7,g=B.embedding_model),t(9,k=B.openai_config.key),t(10,V=B.openai_config.url),t(11,D=B.openai_config.batch_size??1))},C=async()=>{const B=await Wl(localStorage.token);B&&t(8,w=B.reranking_model)},$=async()=>{t(12,M.hybrid=!M.hybrid,M),t(12,M=await Ml(localStorage.token,M))};St(async()=>{await A(),await C(),t(12,M=await Sl(localStorage.token))});const ee=()=>{E(),console.log("check")};function K(){_=Zt(this),t(6,_)}const ne=B=>{B.target.value==="ollama"?t(7,g=""):B.target.value==="openai"?t(7,g="text-embedding-3-small"):B.target.value===""&&t(7,g="sentence-transformers/all-MiniLM-L6-v2")};function se(){V=this.value,t(10,V)}function G(){k=this.value,t(9,k)}function oe(){D=rt(this.value),t(11,D)}function ge(){D=rt(this.value),t(11,D)}const Q=()=>{$()};function Y(){g=Zt(this),t(7,g)}function U(){g=this.value,t(7,g)}const W=()=>{y()};function ae(){w=this.value,t(8,w)}const te=()=>{S()},fe=()=>{Ql(localStorage.token).catch(z=>(Ce.error(z),null))&&Ce.success(l.t("Success")),t(5,v=!1)},I=()=>{t(5,v=!1)},N=()=>{t(5,v=!0)},re=()=>{Yl(localStorage.token).catch(z=>(Ce.error(z),null))&&Ce.success(l.t("Success")),t(4,m=!1)},q=()=>{t(4,m=!1)},F=()=>{t(4,m=!0)},we=()=>{L(),n()};return s.$$set=B=>{"saveHandler"in B&&t(0,n=B.saveHandler)},[n,d,c,b,m,v,_,g,w,k,V,D,M,l,o,i,E,y,S,L,$,ee,K,ne,se,G,oe,ge,Q,Y,U,W,ae,te,fe,I,N,re,q,F,we]}class bs extends _t{constructor(e){super(),mt(this,e,gs,ms,ut,{saveHandler:0},null,[-1,-1])}}function ws(s){let e,t,l,o,i=s[4].t("Chunk Params")+"",n,d,c,b,m,v=s[4].t("Chunk Size")+"",_,g,w,k,V,D,M,E,y=s[4].t("Chunk Overlap")+"",S,L,A,C,$,ee,K,ne,se,G=s[4].t("PDF Extract Images (OCR)")+"",oe,ge,Q,Y=(s[3]?s[4].t("On"):s[4].t("Off"))+"",U,W,ae,te,fe=s[4].t("Save")+"",I,N,re;return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=P(i),d=x(),c=f("div"),b=f("div"),m=f("div"),_=P(v),g=x(),w=f("div"),k=f("input"),D=x(),M=f("div"),E=f("div"),S=P(y),L=x(),A=f("div"),C=f("input"),ee=x(),K=f("div"),ne=f("div"),se=f("div"),oe=P(G),ge=x(),Q=f("button"),U=P(Y),W=x(),ae=f("div"),te=f("button"),I=P(fe),this.h()},l(q){e=h(q,"FORM",{class:!0});var F=p(e);t=h(F,"DIV",{class:!0});var we=p(t);l=h(we,"DIV",{class:!0});var B=p(l);o=h(B,"DIV",{class:!0});var z=p(o);n=O(z,i),z.forEach(u),d=T(B),c=h(B,"DIV",{class:!0});var ue=p(c);b=h(ue,"DIV",{class:!0});var R=p(b);m=h(R,"DIV",{class:!0});var he=p(m);_=O(he,v),he.forEach(u),g=T(R),w=h(R,"DIV",{class:!0});var Ee=p(w);k=h(Ee,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Ee.forEach(u),R.forEach(u),D=T(ue),M=h(ue,"DIV",{class:!0});var Be=p(M);E=h(Be,"DIV",{class:!0});var De=p(E);S=O(De,y),De.forEach(u),L=T(Be),A=h(Be,"DIV",{class:!0});var Le=p(A);C=h(Le,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Le.forEach(u),Be.forEach(u),ue.forEach(u),ee=T(B),K=h(B,"DIV",{class:!0});var be=p(K);ne=h(be,"DIV",{class:!0});var Pe=p(ne);se=h(Pe,"DIV",{class:!0});var ve=p(se);oe=O(ve,G),ve.forEach(u),ge=T(Pe),Q=h(Pe,"BUTTON",{class:!0,type:!0});var ke=p(Q);U=O(ke,Y),ke.forEach(u),Pe.forEach(u),be.forEach(u),B.forEach(u),we.forEach(u),W=T(F),ae=h(F,"DIV",{class:!0});var Ne=p(ae);te=h(Ne,"BUTTON",{class:!0,type:!0});var Ue=p(te);I=O(Ue,fe),Ue.forEach(u),Ne.forEach(u),F.forEach(u),this.h()},h(){r(o,"class","text-sm font-medium"),r(m,"class","self-center text-xs font-medium min-w-fit"),r(k,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(k,"type","number"),r(k,"placeholder",V=s[4].t("Enter Chunk Size")),r(k,"autocomplete","off"),r(k,"min","0"),r(w,"class","self-center p-3"),r(b,"class","flex w-full justify-between"),r(E,"class","self-center text-xs font-medium min-w-fit"),r(C,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(C,"type","number"),r(C,"placeholder",$=s[4].t("Enter Chunk Overlap")),r(C,"autocomplete","off"),r(C,"min","0"),r(A,"class","self-center p-3"),r(M,"class","flex w-full"),r(c,"class","flex"),r(se,"class","text-xs font-medium"),r(Q,"class","text-xs font-medium text-gray-500"),r(Q,"type","button"),r(ne,"class","flex justify-between items-center text-xs"),r(K,"class","pr-2"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(te,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(te,"type","submit"),r(ae,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(q,F){Z(q,e,F),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,m),a(m,_),a(b,g),a(b,w),a(w,k),de(k,s[1]),a(c,D),a(c,M),a(M,E),a(E,S),a(M,L),a(M,A),a(A,C),de(C,s[2]),a(l,ee),a(l,K),a(K,ne),a(ne,se),a(se,oe),a(ne,ge),a(ne,Q),a(Q,U),a(e,W),a(e,ae),a(ae,te),a(te,I),N||(re=[J(k,"input",s[7]),J(C,"input",s[8]),J(Q,"click",s[9]),J(e,"submit",Bt(s[10]))],N=!0)},p(q,[F]){F&16&&i!==(i=q[4].t("Chunk Params")+"")&&j(n,i),F&16&&v!==(v=q[4].t("Chunk Size")+"")&&j(_,v),F&16&&V!==(V=q[4].t("Enter Chunk Size"))&&r(k,"placeholder",V),F&2&&rt(k.value)!==q[1]&&de(k,q[1]),F&16&&y!==(y=q[4].t("Chunk Overlap")+"")&&j(S,y),F&16&&$!==($=q[4].t("Enter Chunk Overlap"))&&r(C,"placeholder",$),F&4&&rt(C.value)!==q[2]&&de(C,q[2]),F&16&&G!==(G=q[4].t("PDF Extract Images (OCR)")+"")&&j(oe,G),F&24&&Y!==(Y=(q[3]?q[4].t("On"):q[4].t("Off"))+"")&&j(U,Y),F&16&&fe!==(fe=q[4].t("Save")+"")&&j(I,fe)},i:it,o:it,d(q){q&&u(e),N=!1,tt(re)}}}function ks(s,e,t){let l;const o=wt("i18n");at(s,o,w=>t(4,l=w));let{saveHandler:i}=e,n=0,d=0,c=!0;const b=async()=>{await Ll(localStorage.token,{pdf_extract_images:c,chunk:{chunk_overlap:d,chunk_size:n}})};St(async()=>{const w=await Hl(localStorage.token);w&&(t(3,c=w.pdf_extract_images),t(1,n=w.chunk.chunk_size),t(2,d=w.chunk.chunk_overlap))});function m(){n=rt(this.value),t(1,n)}function v(){d=rt(this.value),t(2,d)}const _=()=>{t(3,c=!c)},g=()=>{b(),i()};return s.$$set=w=>{"saveHandler"in w&&t(0,i=w.saveHandler)},[i,n,d,c,l,o,b,m,v,_,g]}class ys extends _t{constructor(e){super(),mt(this,e,ks,ws,ut,{saveHandler:0})}}function ul(s){let e,t,l=s[2].t("Minimum Score")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=x(),n=f("div"),d=f("input"),this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);t=h(g,"DIV",{class:!0});var w=p(t);o=O(w,l),w.forEach(u),i=T(g),n=h(g,"DIV",{class:!0});var k=p(n);d=h(k,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium min-w-fit"),r(d,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(d,"type","number"),r(d,"step","0.01"),r(d,"placeholder",c=s[2].t("Enter Score")),r(d,"autocomplete","off"),r(d,"min","0.0"),r(d,"title",b=s[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),r(n,"class","self-center p-3"),r(e,"class","flex w-full")},m(_,g){Z(_,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),de(d,s[1].r),m||(v=J(d,"input",s[6]),m=!0)},p(_,g){g&4&&l!==(l=_[2].t("Minimum Score")+"")&&j(o,l),g&4&&c!==(c=_[2].t("Enter Score"))&&r(d,"placeholder",c),g&4&&b!==(b=_[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&r(d,"title",b),g&2&&rt(d.value)!==_[1].r&&de(d,_[1].r)},d(_){_&&u(e),m=!1,v()}}}function cl(s){let e,t=s[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,o,i;return{c(){e=f("div"),l=P(t),o=x(),i=f("hr"),this.h()},l(n){e=h(n,"DIV",{class:!0});var d=p(e);l=O(d,t),d.forEach(u),o=T(n),i=h(n,"HR",{class:!0}),this.h()},h(){r(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(i,"class","dark:border-gray-700 my-3")},m(n,d){Z(n,e,d),a(e,l),Z(n,o,d),Z(n,i,d)},p(n,d){d&4&&t!==(t=n[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&j(l,t)},d(n){n&&(u(e),u(o),u(i))}}}function Es(s){let e,t,l,o,i=s[2].t("Query Params")+"",n,d,c,b,m,v=s[2].t("Top K")+"",_,g,w,k,V,D,M,E,y,S,L=s[2].t("RAG Template")+"",A,C,$,ee,K,ne,se=s[2].t("Save")+"",G,oe,ge,Q=s[1].hybrid===!0&&ul(s),Y=s[1].hybrid===!0&&cl(s);return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=P(i),d=x(),c=f("div"),b=f("div"),m=f("div"),_=P(v),g=x(),w=f("div"),k=f("input"),D=x(),Q&&Q.c(),M=x(),Y&&Y.c(),E=x(),y=f("div"),S=f("div"),A=P(L),C=x(),$=f("textarea"),ee=x(),K=f("div"),ne=f("button"),G=P(se),this.h()},l(U){e=h(U,"FORM",{class:!0});var W=p(e);t=h(W,"DIV",{class:!0});var ae=p(t);l=h(ae,"DIV",{class:!0});var te=p(l);o=h(te,"DIV",{class:!0});var fe=p(o);n=O(fe,i),fe.forEach(u),d=T(te),c=h(te,"DIV",{class:!0});var I=p(c);b=h(I,"DIV",{class:!0});var N=p(b);m=h(N,"DIV",{class:!0});var re=p(m);_=O(re,v),re.forEach(u),g=T(N),w=h(N,"DIV",{class:!0});var q=p(w);k=h(q,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),q.forEach(u),N.forEach(u),D=T(I),Q&&Q.l(I),I.forEach(u),M=T(te),Y&&Y.l(te),E=T(te),y=h(te,"DIV",{});var F=p(y);S=h(F,"DIV",{class:!0});var we=p(S);A=O(we,L),we.forEach(u),C=T(F),$=h(F,"TEXTAREA",{class:!0,rows:!0}),p($).forEach(u),F.forEach(u),te.forEach(u),ae.forEach(u),ee=T(W),K=h(W,"DIV",{class:!0});var B=p(K);ne=h(B,"BUTTON",{class:!0,type:!0});var z=p(ne);G=O(z,se),z.forEach(u),B.forEach(u),W.forEach(u),this.h()},h(){r(o,"class","text-sm font-medium"),r(m,"class","self-center text-xs font-medium min-w-fit"),r(k,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(k,"type","number"),r(k,"placeholder",V=s[2].t("Enter Top K")),r(k,"autocomplete","off"),r(k,"min","0"),r(w,"class","self-center p-3"),r(b,"class","flex w-full justify-between"),r(c,"class","flex"),r(S,"class","mb-2.5 text-sm font-medium"),r($,"class","w-full rounded-lg px-4 py-3 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),r($,"rows","4"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),r(ne,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(ne,"type","submit"),r(K,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(U,W){Z(U,e,W),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,m),a(m,_),a(b,g),a(b,w),a(w,k),de(k,s[1].k),a(c,D),Q&&Q.m(c,null),a(l,M),Y&&Y.m(l,null),a(l,E),a(l,y),a(y,S),a(S,A),a(y,C),a(y,$),de($,s[1].template),a(e,ee),a(e,K),a(K,ne),a(ne,G),oe||(ge=[J(k,"input",s[5]),J($,"input",s[7]),J(e,"submit",Bt(s[8]))],oe=!0)},p(U,[W]){W&4&&i!==(i=U[2].t("Query Params")+"")&&j(n,i),W&4&&v!==(v=U[2].t("Top K")+"")&&j(_,v),W&4&&V!==(V=U[2].t("Enter Top K"))&&r(k,"placeholder",V),W&2&&rt(k.value)!==U[1].k&&de(k,U[1].k),U[1].hybrid===!0?Q?Q.p(U,W):(Q=ul(U),Q.c(),Q.m(c,null)):Q&&(Q.d(1),Q=null),U[1].hybrid===!0?Y?Y.p(U,W):(Y=cl(U),Y.c(),Y.m(l,E)):Y&&(Y.d(1),Y=null),W&4&&L!==(L=U[2].t("RAG Template")+"")&&j(A,L),W&2&&de($,U[1].template),W&4&&se!==(se=U[2].t("Save")+"")&&j(G,se)},i:it,o:it,d(U){U&&u(e),Q&&Q.d(),Y&&Y.d(),oe=!1,tt(ge)}}}function Is(s,e,t){let l;const o=wt("i18n");at(s,o,_=>t(2,l=_));let{saveHandler:i}=e,n={template:"",r:0,k:4,hybrid:!1};const d=async()=>{t(1,n=await Ml(localStorage.token,n))};St(async()=>{t(1,n=await Sl(localStorage.token))});function c(){n.k=rt(this.value),t(1,n)}function b(){n.r=rt(this.value),t(1,n)}function m(){n.template=this.value,t(1,n)}const v=()=>{d(),i()};return s.$$set=_=>{"saveHandler"in _&&t(0,i=_.saveHandler)},[i,n,l,o,d,c,b,m,v]}class Ds extends _t{constructor(e){super(),mt(this,e,Is,Es,ut,{saveHandler:0})}}function dl(s,e,t){const l=s.slice();return l[21]=e[t],l}function fl(s){let e,t,l=s[3].t("Web Search")+"",o,i,n,d,c,b=s[3].t("Enable Web Search")+"",m,v,_,g,w,k,V,D=s[3].t("Web Search Engine")+"",M,E,y,S,L,A="Select a engine",C,$,ee,K,ne,se,G,oe=s[3].t("Web Loader Settings")+"",ge,Q,Y,U,W,ae=s[3].t("Bypass SSL verification for Websites")+"",te,fe,I,N,re,q=s[3].t("Youtube Loader Settings")+"",F,we,B,z,ue,R=s[3].t("Language")+"",he,Ee,Be,De,Le,be,Pe,ve;function ke(X){s[7](X)}let Ne={};s[1].search.enabled!==void 0&&(Ne.state=s[1].search.enabled),_=new $l({props:Ne}),pt.push(()=>Tt(_,"state",ke));let Ue=bt(s[5]),ye=[];for(let X=0;X<Ue.length;X+=1)ye[X]=hl(dl(s,Ue,X));let _e=s[1].search.engine!==""&&vl(s),Ve=s[1].search.enabled&&pl(s);function We(X,ce){return X[1].ssl_verification===!0?Ls:Hs}let Ke=We(s),He=Ke(s);return{c(){e=f("div"),t=f("div"),o=P(l),i=x(),n=f("div"),d=f("div"),c=f("div"),m=P(b),v=x(),Qe(_.$$.fragment),w=x(),k=f("div"),V=f("div"),M=P(D),E=x(),y=f("div"),S=f("select"),L=f("option"),L.textContent=A;for(let X=0;X<ye.length;X+=1)ye[X].c();C=x(),_e&&_e.c(),$=x(),Ve&&Ve.c(),ee=x(),K=f("hr"),ne=x(),se=f("div"),G=f("div"),ge=P(oe),Q=x(),Y=f("div"),U=f("div"),W=f("div"),te=P(ae),fe=x(),I=f("button"),He.c(),N=x(),re=f("div"),F=P(q),we=x(),B=f("div"),z=f("div"),ue=f("div"),he=P(R),Ee=x(),Be=f("div"),De=f("input"),this.h()},l(X){e=h(X,"DIV",{});var ce=p(e);t=h(ce,"DIV",{class:!0});var je=p(t);o=O(je,l),je.forEach(u),i=T(ce),n=h(ce,"DIV",{});var Re=p(n);d=h(Re,"DIV",{class:!0});var pe=p(d);c=h(pe,"DIV",{class:!0});var Me=p(c);m=O(Me,b),Me.forEach(u),v=T(pe),Ye(_.$$.fragment,pe),pe.forEach(u),Re.forEach(u),w=T(ce),k=h(ce,"DIV",{class:!0});var ct=p(k);V=h(ct,"DIV",{class:!0});var nt=p(V);M=O(nt,D),nt.forEach(u),E=T(ct),y=h(ct,"DIV",{class:!0});var $e=p(y);S=h($e,"SELECT",{class:!0,placeholder:!0});var dt=p(S);L=h(dt,"OPTION",{"data-svelte-h":!0}),Oe(L)!=="svelte-d4rru0"&&(L.textContent=A);for(let Fe=0;Fe<ye.length;Fe+=1)ye[Fe].l(dt);dt.forEach(u),$e.forEach(u),ct.forEach(u),C=T(ce),_e&&_e.l(ce),$=T(ce),Ve&&Ve.l(ce),ce.forEach(u),ee=T(X),K=h(X,"HR",{class:!0}),ne=T(X),se=h(X,"DIV",{});var Te=p(se);G=h(Te,"DIV",{class:!0});var qe=p(G);ge=O(qe,oe),qe.forEach(u),Q=T(Te),Y=h(Te,"DIV",{});var me=p(Y);U=h(me,"DIV",{class:!0});var ft=p(U);W=h(ft,"DIV",{class:!0});var H=p(W);te=O(H,ae),H.forEach(u),fe=T(ft),I=h(ft,"BUTTON",{class:!0,type:!0});var le=p(I);He.l(le),le.forEach(u),ft.forEach(u),me.forEach(u),N=T(Te),re=h(Te,"DIV",{class:!0});var Ge=p(re);F=O(Ge,q),Ge.forEach(u),we=T(Te),B=h(Te,"DIV",{});var et=p(B);z=h(et,"DIV",{class:!0});var xe=p(z);ue=h(xe,"DIV",{class:!0});var ie=p(ue);he=O(ie,R),ie.forEach(u),Ee=T(xe),Be=h(xe,"DIV",{class:!0});var Ie=p(Be);De=h(Ie,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ie.forEach(u),xe.forEach(u),et.forEach(u),Te.forEach(u),this.h()},h(){r(t,"class","mb-1 text-sm font-medium"),r(c,"class","self-center text-xs font-medium"),r(d,"class","py-0.5 flex w-full justify-between"),r(V,"class","self-center text-xs font-medium"),L.disabled=!0,L.selected=!0,L.__value="",de(L,L.__value),r(S,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r(S,"placeholder","Select a engine"),S.required=!0,s[1].search.engine===void 0&&Kt(()=>s[8].call(S)),r(y,"class","flex items-center relative"),r(k,"class","py-0.5 flex w-full justify-between"),r(K,"class","dark:border-gray-850 my-2"),r(G,"class","mb-1 text-sm font-medium"),r(W,"class","self-center text-xs font-medium"),r(I,"class","p-1 px-3 text-xs flex rounded transition"),r(I,"type","button"),r(U,"class","py-0.5 flex w-full justify-between"),r(re,"class","mt-2 mb-1 text-sm font-medium"),r(ue,"class","w-20 text-xs font-medium self-center"),r(De,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(De,"type","text"),r(De,"placeholder",Le=s[3].t("Enter language codes")),r(De,"autocomplete","off"),r(Be,"class","flex-1 self-center"),r(z,"class","py-0.5 flex w-full justify-between")},m(X,ce){Z(X,e,ce),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),a(c,m),a(d,v),Xe(_,d,null),a(e,w),a(e,k),a(k,V),a(V,M),a(k,E),a(k,y),a(y,S),a(S,L);for(let je=0;je<ye.length;je+=1)ye[je]&&ye[je].m(S,null);Ct(S,s[1].search.engine,!0),a(e,C),_e&&_e.m(e,null),a(e,$),Ve&&Ve.m(e,null),Z(X,ee,ce),Z(X,K,ce),Z(X,ne,ce),Z(X,se,ce),a(se,G),a(G,ge),a(se,Q),a(se,Y),a(Y,U),a(U,W),a(W,te),a(U,fe),a(U,I),He.m(I,null),a(se,N),a(se,re),a(re,F),a(se,we),a(se,B),a(B,z),a(z,ue),a(ue,he),a(z,Ee),a(z,Be),a(Be,De),de(De,s[2]),be=!0,Pe||(ve=[J(S,"change",s[8]),J(I,"click",s[17]),J(De,"input",s[18])],Pe=!0)},p(X,ce){(!be||ce&8)&&l!==(l=X[3].t("Web Search")+"")&&j(o,l),(!be||ce&8)&&b!==(b=X[3].t("Enable Web Search")+"")&&j(m,b);const je={};if(!g&&ce&2&&(g=!0,je.state=X[1].search.enabled,xt(()=>g=!1)),_.$set(je),(!be||ce&8)&&D!==(D=X[3].t("Web Search Engine")+"")&&j(M,D),ce&32){Ue=bt(X[5]);let Re;for(Re=0;Re<Ue.length;Re+=1){const pe=dl(X,Ue,Re);ye[Re]?ye[Re].p(pe,ce):(ye[Re]=hl(pe),ye[Re].c(),ye[Re].m(S,null))}for(;Re<ye.length;Re+=1)ye[Re].d(1);ye.length=Ue.length}ce&34&&Ct(S,X[1].search.engine),X[1].search.engine!==""?_e?_e.p(X,ce):(_e=vl(X),_e.c(),_e.m(e,$)):_e&&(_e.d(1),_e=null),X[1].search.enabled?Ve?Ve.p(X,ce):(Ve=pl(X),Ve.c(),Ve.m(e,null)):Ve&&(Ve.d(1),Ve=null),(!be||ce&8)&&oe!==(oe=X[3].t("Web Loader Settings")+"")&&j(ge,oe),(!be||ce&8)&&ae!==(ae=X[3].t("Bypass SSL verification for Websites")+"")&&j(te,ae),Ke===(Ke=We(X))&&He?He.p(X,ce):(He.d(1),He=Ke(X),He&&(He.c(),He.m(I,null))),(!be||ce&8)&&q!==(q=X[3].t("Youtube Loader Settings")+"")&&j(F,q),(!be||ce&8)&&R!==(R=X[3].t("Language")+"")&&j(he,R),(!be||ce&8&&Le!==(Le=X[3].t("Enter language codes")))&&r(De,"placeholder",Le),ce&4&&De.value!==X[2]&&de(De,X[2])},i(X){be||(Se(_.$$.fragment,X),be=!0)},o(X){Ae(_.$$.fragment,X),be=!1},d(X){X&&(u(e),u(ee),u(K),u(ne),u(se)),Je(_),jt(ye,X),_e&&_e.d(),Ve&&Ve.d(),He.d(),Pe=!1,tt(ve)}}}function hl(s){let e,t=s[21]+"",l;return{c(){e=f("option"),l=P(t),this.h()},l(o){e=h(o,"OPTION",{});var i=p(e);l=O(i,t),i.forEach(u),this.h()},h(){e.__value=s[21],de(e,e.__value)},m(o,i){Z(o,e,i),a(e,l)},p:it,d(o){o&&u(e)}}}function vl(s){let e;function t(i,n){if(i[1].search.engine==="searxng")return Ms;if(i[1].search.engine==="google_pse")return Ss;if(i[1].search.engine==="brave")return Ts;if(i[1].search.engine==="serpstack")return xs;if(i[1].search.engine==="serper")return Vs}let l=t(s),o=l&&l(s);return{c(){e=f("div"),o&&o.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=p(e);o&&o.l(n),n.forEach(u),this.h()},h(){r(e,"class","mt-1.5")},m(i,n){Z(i,e,n),o&&o.m(e,null)},p(i,n){l===(l=t(i))&&o?o.p(i,n):(o&&o.d(1),o=l&&l(i),o&&(o.c(),o.m(e,null)))},d(i){i&&u(e),o&&o.d()}}}function Vs(s){let e,t,l=s[3].t("Serper API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=x(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(_){e=h(_,"DIV",{});var g=p(e);t=h(g,"DIV",{class:!0});var w=p(t);o=O(w,l),w.forEach(u),i=T(g),n=h(g,"DIV",{class:!0});var k=p(n);d=h(k,"DIV",{class:!0});var V=p(d);c=h(V,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),V.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Serper API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(_,g){Z(_,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.serper_api_key),m||(v=J(c,"input",s[14]),m=!0)},p(_,g){g&8&&l!==(l=_[3].t("Serper API Key")+"")&&j(o,l),g&8&&b!==(b=_[3].t("Enter Serper API Key"))&&r(c,"placeholder",b),g&34&&c.value!==_[1].search.serper_api_key&&de(c,_[1].search.serper_api_key)},d(_){_&&u(e),m=!1,v()}}}function xs(s){let e,t,l=s[3].t("Serpstack API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=x(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(_){e=h(_,"DIV",{});var g=p(e);t=h(g,"DIV",{class:!0});var w=p(t);o=O(w,l),w.forEach(u),i=T(g),n=h(g,"DIV",{class:!0});var k=p(n);d=h(k,"DIV",{class:!0});var V=p(d);c=h(V,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),V.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Serpstack API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(_,g){Z(_,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.serpstack_api_key),m||(v=J(c,"input",s[13]),m=!0)},p(_,g){g&8&&l!==(l=_[3].t("Serpstack API Key")+"")&&j(o,l),g&8&&b!==(b=_[3].t("Enter Serpstack API Key"))&&r(c,"placeholder",b),g&34&&c.value!==_[1].search.serpstack_api_key&&de(c,_[1].search.serpstack_api_key)},d(_){_&&u(e),m=!1,v()}}}function Ts(s){let e,t,l=s[3].t("Brave Search API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=x(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(_){e=h(_,"DIV",{});var g=p(e);t=h(g,"DIV",{class:!0});var w=p(t);o=O(w,l),w.forEach(u),i=T(g),n=h(g,"DIV",{class:!0});var k=p(n);d=h(k,"DIV",{class:!0});var V=p(d);c=h(V,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),V.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Brave Search API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(_,g){Z(_,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.brave_search_api_key),m||(v=J(c,"input",s[12]),m=!0)},p(_,g){g&8&&l!==(l=_[3].t("Brave Search API Key")+"")&&j(o,l),g&8&&b!==(b=_[3].t("Enter Brave Search API Key"))&&r(c,"placeholder",b),g&34&&c.value!==_[1].search.brave_search_api_key&&de(c,_[1].search.brave_search_api_key)},d(_){_&&u(e),m=!1,v()}}}function Ss(s){let e,t,l=s[3].t("Google PSE API Key")+"",o,i,n,d,c,b,m,v,_,g=s[3].t("Google PSE Engine Id")+"",w,k,V,D,M,E,y,S;return{c(){e=f("div"),t=f("div"),o=P(l),i=x(),n=f("div"),d=f("div"),c=f("input"),m=x(),v=f("div"),_=f("div"),w=P(g),k=x(),V=f("div"),D=f("div"),M=f("input"),this.h()},l(L){e=h(L,"DIV",{});var A=p(e);t=h(A,"DIV",{class:!0});var C=p(t);o=O(C,l),C.forEach(u),i=T(A),n=h(A,"DIV",{class:!0});var $=p(n);d=h($,"DIV",{class:!0});var ee=p(d);c=h(ee,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),ee.forEach(u),$.forEach(u),A.forEach(u),m=T(L),v=h(L,"DIV",{class:!0});var K=p(v);_=h(K,"DIV",{class:!0});var ne=p(_);w=O(ne,g),ne.forEach(u),k=T(K),V=h(K,"DIV",{class:!0});var se=p(V);D=h(se,"DIV",{class:!0});var G=p(D);M=h(G,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),G.forEach(u),se.forEach(u),K.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Google PSE API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full"),r(_,"class","self-center text-xs font-medium mb-1"),r(M,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(M,"type","text"),r(M,"placeholder",E=s[3].t("Enter Google PSE Engine Id")),r(M,"autocomplete","off"),r(D,"class","flex-1"),r(V,"class","flex w-full"),r(v,"class","mt-1.5")},m(L,A){Z(L,e,A),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.google_pse_api_key),Z(L,m,A),Z(L,v,A),a(v,_),a(_,w),a(v,k),a(v,V),a(V,D),a(D,M),de(M,s[1].search.google_pse_engine_id),y||(S=[J(c,"input",s[10]),J(M,"input",s[11])],y=!0)},p(L,A){A&8&&l!==(l=L[3].t("Google PSE API Key")+"")&&j(o,l),A&8&&b!==(b=L[3].t("Enter Google PSE API Key"))&&r(c,"placeholder",b),A&34&&c.value!==L[1].search.google_pse_api_key&&de(c,L[1].search.google_pse_api_key),A&8&&g!==(g=L[3].t("Google PSE Engine Id")+"")&&j(w,g),A&8&&E!==(E=L[3].t("Enter Google PSE Engine Id"))&&r(M,"placeholder",E),A&34&&M.value!==L[1].search.google_pse_engine_id&&de(M,L[1].search.google_pse_engine_id)},d(L){L&&(u(e),u(m),u(v)),y=!1,tt(S)}}}function Ms(s){let e,t,l=s[3].t("Searxng Query URL")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=x(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(_){e=h(_,"DIV",{});var g=p(e);t=h(g,"DIV",{class:!0});var w=p(t);o=O(w,l),w.forEach(u),i=T(g),n=h(g,"DIV",{class:!0});var k=p(n);d=h(k,"DIV",{class:!0});var V=p(d);c=h(V,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),V.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Searxng Query URL")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(_,g){Z(_,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.searxng_query_url),m||(v=J(c,"input",s[9]),m=!0)},p(_,g){g&8&&l!==(l=_[3].t("Searxng Query URL")+"")&&j(o,l),g&8&&b!==(b=_[3].t("Enter Searxng Query URL"))&&r(c,"placeholder",b),g&34&&c.value!==_[1].search.searxng_query_url&&de(c,_[1].search.searxng_query_url)},d(_){_&&u(e),m=!1,v()}}}function pl(s){let e,t,l,o=s[3].t("Search Result Count")+"",i,n,d,c,b,m,v,_=s[3].t("Concurrent Requests")+"",g,w,k,V,D,M;return{c(){e=f("div"),t=f("div"),l=f("div"),i=P(o),n=x(),d=f("input"),b=x(),m=f("div"),v=f("div"),g=P(_),w=x(),k=f("input"),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=p(e);t=h(y,"DIV",{class:!0});var S=p(t);l=h(S,"DIV",{class:!0});var L=p(l);i=O(L,o),L.forEach(u),n=T(S),d=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),b=T(y),m=h(y,"DIV",{class:!0});var A=p(m);v=h(A,"DIV",{class:!0});var C=p(v);g=O(C,_),C.forEach(u),w=T(A),k=h(A,"INPUT",{class:!0,placeholder:!0}),A.forEach(u),y.forEach(u),this.h()},h(){r(l,"class","self-center text-xs font-medium mb-1"),r(d,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(d,"placeholder",c=s[3].t("Search Result Count")),d.required=!0,r(t,"class","w-full"),r(v,"class","self-center text-xs font-medium mb-1"),r(k,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(k,"placeholder",V=s[3].t("Concurrent Requests")),k.required=!0,r(m,"class","w-full"),r(e,"class","mt-2 flex gap-2 mb-1")},m(E,y){Z(E,e,y),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),de(d,s[1].search.result_count),a(e,b),a(e,m),a(m,v),a(v,g),a(m,w),a(m,k),de(k,s[1].search.concurrent_requests),D||(M=[J(d,"input",s[15]),J(k,"input",s[16])],D=!0)},p(E,y){y&8&&o!==(o=E[3].t("Search Result Count")+"")&&j(i,o),y&8&&c!==(c=E[3].t("Search Result Count"))&&r(d,"placeholder",c),y&34&&d.value!==E[1].search.result_count&&de(d,E[1].search.result_count),y&8&&_!==(_=E[3].t("Concurrent Requests")+"")&&j(g,_),y&8&&V!==(V=E[3].t("Concurrent Requests"))&&r(k,"placeholder",V),y&34&&k.value!==E[1].search.concurrent_requests&&de(k,E[1].search.concurrent_requests)},d(E){E&&u(e),D=!1,tt(M)}}}function Hs(s){let e,t=s[3].t("Off")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=p(e);l=O(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){Z(o,e,i),a(e,l)},p(o,i){i&8&&t!==(t=o[3].t("Off")+"")&&j(l,t)},d(o){o&&u(e)}}}function Ls(s){let e,t=s[3].t("On")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=p(e);l=O(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){Z(o,e,i),a(e,l)},p(o,i){i&8&&t!==(t=o[3].t("On")+"")&&j(l,t)},d(o){o&&u(e)}}}function As(s){let e,t,l,o,i,n=s[3].t("Save")+"",d,c,b,m,v=s[1]&&fl(s);return{c(){e=f("form"),t=f("div"),v&&v.c(),l=x(),o=f("div"),i=f("button"),d=P(n),this.h()},l(_){e=h(_,"FORM",{class:!0});var g=p(e);t=h(g,"DIV",{class:!0});var w=p(t);v&&v.l(w),w.forEach(u),l=T(g),o=h(g,"DIV",{class:!0});var k=p(o);i=h(k,"BUTTON",{class:!0,type:!0});var V=p(i);d=O(V,n),V.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(i,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(i,"type","submit"),r(o,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(_,g){Z(_,e,g),a(e,t),v&&v.m(t,null),a(e,l),a(e,o),a(o,i),a(i,d),c=!0,b||(m=J(e,"submit",Bt(s[19])),b=!0)},p(_,[g]){_[1]?v?(v.p(_,g),g&2&&Se(v,1)):(v=fl(_),v.c(),Se(v,1),v.m(t,null)):v&&(Lt(),Ae(v,1,1,()=>{v=null}),At()),(!c||g&8)&&n!==(n=_[3].t("Save")+"")&&j(d,n)},i(_){c||(Se(v),c=!0)},o(_){Ae(v),c=!1},d(_){_&&u(e),v&&v.d(),b=!1,m()}}}function Cs(s,e,t){let l;const o=wt("i18n");at(s,o,C=>t(3,l=C));let{saveHandler:i}=e,n=null,d=["searxng","google_pse","brave","serpstack","serper"],c="en",b=null;const m=async()=>{await Ll(localStorage.token,{web:n,youtube:{language:c.split(",").map(C=>C.trim()),translation:b}})};St(async()=>{const C=await Hl(localStorage.token);C&&(t(1,n=C.web),t(2,c=C.youtube.language.join(",")),b=C.youtube.translation)});function v(C){s.$$.not_equal(n.search.enabled,C)&&(n.search.enabled=C,t(1,n))}function _(){n.search.engine=Zt(this),t(1,n),t(5,d)}function g(){n.search.searxng_query_url=this.value,t(1,n),t(5,d)}function w(){n.search.google_pse_api_key=this.value,t(1,n),t(5,d)}function k(){n.search.google_pse_engine_id=this.value,t(1,n),t(5,d)}function V(){n.search.brave_search_api_key=this.value,t(1,n),t(5,d)}function D(){n.search.serpstack_api_key=this.value,t(1,n),t(5,d)}function M(){n.search.serper_api_key=this.value,t(1,n),t(5,d)}function E(){n.search.result_count=this.value,t(1,n),t(5,d)}function y(){n.search.concurrent_requests=this.value,t(1,n),t(5,d)}const S=()=>{t(1,n.ssl_verification=!n.ssl_verification,n),m()};function L(){c=this.value,t(2,c)}const A=async()=>{await m(),i()};return s.$$set=C=>{"saveHandler"in C&&t(0,i=C.saveHandler)},[i,n,c,l,o,d,m,v,_,g,w,k,V,D,M,E,y,S,L,A]}class Bs extends _t{constructor(e){super(),mt(this,e,Cs,As,ut,{saveHandler:0})}}function Ps(s){let e,t;return e=new Bs({props:{saveHandler:s[12]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[12]),e.$set(i)},i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Ae(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Os(s){let e,t;return e=new Ds({props:{saveHandler:s[11]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[11]),e.$set(i)},i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Ae(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ns(s){let e,t;return e=new ys({props:{saveHandler:s[10]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[10]),e.$set(i)},i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Ae(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Us(s){let e,t;return e=new bs({props:{saveHandler:s[9]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[9]),e.$set(i)},i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Ae(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Rs(s){let e,t,l,o=s[2].t("Document Settings")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,_,g,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',k,V,D=s[2].t("General")+"",M,E,y,S,L,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',C,$,ee=s[2].t("Chunk Params")+"",K,ne,se,G,oe,ge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Q,Y,U=s[2].t("Query Params")+"",W,ae,te,fe,I,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',re,q,F=s[2].t("Web Params")+"",we,B,z,ue,R,he,Ee,Be,De;const Le=[Us,Ns,Os,Ps],be=[];function Pe(ve,ke){return ve[1]==="general"?0:ve[1]==="chunk"?1:ve[1]==="query"?2:ve[1]==="web"?3:-1}return~(R=Pe(s))&&(he=be[R]=Le[R](s)),{c(){e=f("div"),t=f("div"),l=f("div"),i=P(o),n=x(),d=f("button"),d.innerHTML=c,b=x(),m=f("div"),v=f("div"),_=f("button"),g=f("div"),g.innerHTML=w,k=x(),V=f("div"),M=P(D),y=x(),S=f("button"),L=f("div"),L.innerHTML=A,C=x(),$=f("div"),K=P(ee),se=x(),G=f("button"),oe=f("div"),oe.innerHTML=ge,Q=x(),Y=f("div"),W=P(U),te=x(),fe=f("button"),I=f("div"),I.innerHTML=N,re=x(),q=f("div"),we=P(F),z=x(),ue=f("div"),he&&he.c(),this.h()},l(ve){e=h(ve,"DIV",{});var ke=p(e);t=h(ke,"DIV",{class:!0});var Ne=p(t);l=h(Ne,"DIV",{class:!0});var Ue=p(l);i=O(Ue,o),Ue.forEach(u),n=T(Ne),d=h(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=c),Ne.forEach(u),b=T(ke),m=h(ke,"DIV",{class:!0});var ye=p(m);v=h(ye,"DIV",{class:!0});var _e=p(v);_=h(_e,"BUTTON",{class:!0});var Ve=p(_);g=h(Ve,"DIV",{class:!0,"data-svelte-h":!0}),Oe(g)!=="svelte-1k1ieum"&&(g.innerHTML=w),k=T(Ve),V=h(Ve,"DIV",{class:!0});var We=p(V);M=O(We,D),We.forEach(u),Ve.forEach(u),y=T(_e),S=h(_e,"BUTTON",{class:!0});var Ke=p(S);L=h(Ke,"DIV",{class:!0,"data-svelte-h":!0}),Oe(L)!=="svelte-sarula"&&(L.innerHTML=A),C=T(Ke),$=h(Ke,"DIV",{class:!0});var He=p($);K=O(He,ee),He.forEach(u),Ke.forEach(u),se=T(_e),G=h(_e,"BUTTON",{class:!0});var X=p(G);oe=h(X,"DIV",{class:!0,"data-svelte-h":!0}),Oe(oe)!=="svelte-1ray9mb"&&(oe.innerHTML=ge),Q=T(X),Y=h(X,"DIV",{class:!0});var ce=p(Y);W=O(ce,U),ce.forEach(u),X.forEach(u),te=T(_e),fe=h(_e,"BUTTON",{class:!0});var je=p(fe);I=h(je,"DIV",{class:!0,"data-svelte-h":!0}),Oe(I)!=="svelte-17j0plg"&&(I.innerHTML=N),re=T(je),q=h(je,"DIV",{class:!0});var Re=p(q);we=O(Re,F),Re.forEach(u),je.forEach(u),_e.forEach(u),z=T(ye),ue=h(ye,"DIV",{class:!0});var pe=p(ue);he&&he.l(pe),pe.forEach(u),ye.forEach(u),ke.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(g,"class","self-center mr-2"),r(V,"class","self-center"),r(_,"class",E="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(L,"class","self-center mr-2"),r($,"class","self-center"),r(S,"class",ne="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(oe,"class","self-center mr-2"),r(Y,"class","self-center"),r(G,"class",ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(I,"class","self-center mr-2"),r(q,"class","self-center"),r(fe,"class",B="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(v,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),r(ue,"class","flex-1 md:min-h-[380px]"),r(m,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(ve,ke){Z(ve,e,ke),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,_),a(_,g),a(_,k),a(_,V),a(V,M),a(v,y),a(v,S),a(S,L),a(S,C),a(S,$),a($,K),a(v,se),a(v,G),a(G,oe),a(G,Q),a(G,Y),a(Y,W),a(v,te),a(v,fe),a(fe,I),a(fe,re),a(fe,q),a(q,we),a(m,z),a(m,ue),~R&&be[R].m(ue,null),Ee=!0,Be||(De=[J(d,"click",s[4]),J(_,"click",s[5]),J(S,"click",s[6]),J(G,"click",s[7]),J(fe,"click",s[8])],Be=!0)},p(ve,ke){(!Ee||ke&4)&&o!==(o=ve[2].t("Document Settings")+"")&&j(i,o),(!Ee||ke&4)&&D!==(D=ve[2].t("General")+"")&&j(M,D),(!Ee||ke&2&&E!==(E="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(_,"class",E),(!Ee||ke&4)&&ee!==(ee=ve[2].t("Chunk Params")+"")&&j(K,ee),(!Ee||ke&2&&ne!==(ne="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(S,"class",ne),(!Ee||ke&4)&&U!==(U=ve[2].t("Query Params")+"")&&j(W,U),(!Ee||ke&2&&ae!==(ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(G,"class",ae),(!Ee||ke&4)&&F!==(F=ve[2].t("Web Params")+"")&&j(we,F),(!Ee||ke&2&&B!==(B="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ve[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(fe,"class",B);let Ne=R;R=Pe(ve),R===Ne?~R&&be[R].p(ve,ke):(he&&(Lt(),Ae(be[Ne],1,1,()=>{be[Ne]=null}),At()),~R?(he=be[R],he?he.p(ve,ke):(he=be[R]=Le[R](ve),he.c()),Se(he,1),he.m(ue,null)):he=null)},i(ve){Ee||(Se(he),Ee=!0)},o(ve){Ae(he),Ee=!1},d(ve){ve&&u(e),~R&&be[R].d(),Be=!1,tt(De)}}}function js(s){let e,t,l;function o(n){s[13](n)}let i={$$slots:{default:[Rs]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ft({props:i}),pt.push(()=>Tt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&16391&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],xt(()=>t=!1)),e.$set(c)},i(n){l||(Se(e.$$.fragment,n),l=!0)},o(n){Ae(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function qs(s,e,t){let l;const o=wt("i18n");at(s,o,D=>t(2,l=D));let{show:i=!1}=e,n="general";const d=()=>{t(0,i=!1)},c=()=>{t(1,n="general")},b=()=>{t(1,n="chunk")},m=()=>{t(1,n="query")},v=()=>{t(1,n="web")},_=()=>{Ce.success(l.t("Settings saved successfully!"))},g=()=>{Ce.success(l.t("Settings saved successfully!"))},w=()=>{Ce.success(l.t("Settings saved successfully!"))},k=async()=>{Ce.success(l.t("Settings saved successfully!")),await Ol(),await ql.set(await es())};function V(D){i=D,t(0,i)}return s.$$set=D=>{"show"in D&&t(0,i=D.show)},[i,n,l,o,d,c,b,m,v,_,g,w,k,V]}class Zs extends _t{constructor(e){super(),mt(this,e,qs,js,ut,{show:0})}}function zs(s){let e=s[4].t("Click here to select documents.")+"",t;return{c(){t=P(e)},l(l){t=O(l,e)},m(l,o){Z(l,t,o)},p(l,o){o&16&&e!==(e=l[4].t("Click here to select documents.")+"")&&j(t,e)},d(l){l&&u(t)}}}function Ks(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=P(e),l=P(" document(s) selected.")},l(o){t=O(o,e),l=O(o," document(s) selected.")},m(o,i){Z(o,t,i),Z(o,l,i)},p(o,i){i&4&&e!==(e=o[2].length>0?`${o[2].length}`:"")&&j(t,e)},d(o){o&&(u(t),u(l))}}}function Fs(s){let e,t,l,o=s[4].t("Add Docs")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,_,g,w,k,V,D,M,E,y,S=s[4].t("Tags")+"",L,A,C,$,ee,K,ne=s[4].t("Save")+"",se,G,oe,ge;function Q(W,ae){return W[2]?Ks:zs}let Y=Q(s),U=Y(s);return C=new Pl({props:{tags:s[3],addTag:s[7],deleteTag:s[8]}}),{c(){e=f("div"),t=f("div"),l=f("div"),i=P(o),n=x(),d=f("button"),d.innerHTML=c,b=x(),m=f("div"),v=f("div"),_=f("form"),g=f("div"),w=f("input"),k=x(),V=f("button"),U.c(),D=x(),M=f("div"),E=f("div"),y=f("div"),L=P(S),A=x(),Qe(C.$$.fragment),$=x(),ee=f("div"),K=f("button"),se=P(ne),this.h()},l(W){e=h(W,"DIV",{});var ae=p(e);t=h(ae,"DIV",{class:!0});var te=p(t);l=h(te,"DIV",{class:!0});var fe=p(l);i=O(fe,o),fe.forEach(u),n=T(te),d=h(te,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=c),te.forEach(u),b=T(ae),m=h(ae,"DIV",{class:!0});var I=p(m);v=h(I,"DIV",{class:!0});var N=p(v);_=h(N,"FORM",{class:!0});var re=p(_);g=h(re,"DIV",{class:!0});var q=p(g);w=h(q,"INPUT",{id:!0,type:!0,class:!0}),k=T(q),V=h(q,"BUTTON",{class:!0,type:!0});var F=p(V);U.l(F),F.forEach(u),q.forEach(u),D=T(re),M=h(re,"DIV",{class:!0});var we=p(M);E=h(we,"DIV",{class:!0});var B=p(E);y=h(B,"DIV",{class:!0});var z=p(y);L=O(z,S),z.forEach(u),A=T(B),Ye(C.$$.fragment,B),B.forEach(u),we.forEach(u),$=T(re),ee=h(re,"DIV",{class:!0});var ue=p(ee);K=h(ue,"BUTTON",{class:!0,type:!0});var R=p(K);se=O(R,ne),R.forEach(u),ue.forEach(u),re.forEach(u),N.forEach(u),I.forEach(u),ae.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(w,"id","upload-doc-input"),w.hidden=!0,r(w,"type","file"),w.multiple=!0,r(w,"class","svelte-1vx7r9s"),r(V,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),r(V,"type","button"),r(g,"class","mb-3 w-full"),r(y,"class","mb-1.5 text-xs text-gray-500"),r(E,"class","flex flex-col w-full"),r(M,"class","flex flex-col space-y-1.5"),r(K,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(K,"type","submit"),r(ee,"class","flex justify-end pt-5 text-sm font-medium"),r(_,"class","flex flex-col w-full"),r(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(W,ae){Z(W,e,ae),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,_),a(_,g),a(g,w),s[10](w),a(g,k),a(g,V),U.m(V,null),a(_,D),a(_,M),a(M,E),a(E,y),a(y,L),a(E,A),Xe(C,E,null),a(_,$),a(_,ee),a(ee,K),a(K,se),G=!0,oe||(ge=[J(d,"click",s[9]),J(w,"change",s[11]),J(V,"click",s[12]),J(_,"submit",Bt(s[13]))],oe=!0)},p(W,ae){(!G||ae&16)&&o!==(o=W[4].t("Add Docs")+"")&&j(i,o),Y===(Y=Q(W))&&U?U.p(W,ae):(U.d(1),U=Y(W),U&&(U.c(),U.m(V,null))),(!G||ae&16)&&S!==(S=W[4].t("Tags")+"")&&j(L,S);const te={};ae&8&&(te.tags=W[3]),C.$set(te),(!G||ae&16)&&ne!==(ne=W[4].t("Save")+"")&&j(se,ne)},i(W){G||(Se(C.$$.fragment,W),G=!0)},o(W){Ae(C.$$.fragment,W),G=!1},d(W){W&&u(e),s[10](null),U.d(),Je(C),oe=!1,tt(ge)}}}function Gs(s){let e,t,l;function o(n){s[14](n)}let i={size:"sm",$$slots:{default:[Fs]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ft({props:i}),pt.push(()=>Tt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&131103&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],xt(()=>t=!1)),e.$set(c)},i(n){l||(Se(e.$$.fragment,n),l=!0)},o(n){Ae(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function Ws(s,e,t){let l;const o=wt("i18n");at(s,o,E=>t(4,l=E));let{show:i=!1}=e,n,d,c=[];const b=async E=>{const y=await Al(localStorage.token,"",E).catch(S=>(Ce.error(S),null));y&&(await zt(localStorage.token,y.collection_name,y.filename,Cl(y.filename),y.filename,c.length>0?{tags:c}:null).catch(S=>(Ce.error(S),null)),await st.set(await ot(localStorage.token)))},m=async()=>{if(d&&d.length>0){for(const E of d)console.log(E,E.name.split(".").at(-1)),xl.includes(E.type)||Tl.includes(E.name.split(".").at(-1))||Ce.error(`Unknown File Type '${E.type}', but accepting and treating as plain text`),b(E);t(2,d=null),t(1,n.value="",n)}else Ce.error(l.t("File not found."));t(0,i=!1),st.set(await ot(localStorage.token))},v=async E=>{!c.find(y=>y.name===E)&&E!==""?t(3,c=[...c,{name:E}]):console.log("tag already exists")},_=async E=>{t(3,c=c.filter(y=>y.name!==E))};St(()=>{});const g=()=>{t(0,i=!1)};function w(E){pt[E?"unshift":"push"](()=>{n=E,t(1,n)})}function k(){d=this.files,t(2,d)}const V=()=>{n.click()},D=()=>{m()};function M(E){i=E,t(0,i)}return s.$$set=E=>{"show"in E&&t(0,i=E.show)},[i,n,d,c,l,o,m,v,_,g,w,k,V,D,M]}class Qs extends _t{constructor(e){super(),mt(this,e,Ws,Gs,ut,{show:0})}}const{document:qt}=Ul;function _l(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function ml(s,e,t){const l=s.slice();return l[40]=e[t],l}function gl(s){let e,t,l,o,i,n;return i=new Jl({props:{$$slots:{default:[Ys]},$$scope:{ctx:s}}}),{c(){e=f("div"),t=f("div"),l=f("div"),o=f("div"),Qe(i.$$.fragment),this.h()},l(d){e=h(d,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var c=p(e);t=h(c,"DIV",{class:!0});var b=p(t);l=h(b,"DIV",{class:!0});var m=p(l);o=h(m,"DIV",{class:!0});var v=p(o);Ye(i.$$.fragment,v),v.forEach(u),m.forEach(u),b.forEach(u),c.forEach(u),this.h()},h(){r(o,"class","max-w-md"),r(l,"class","m-auto pt-64 flex flex-col justify-center"),r(t,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),r(e,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),r(e,"id","dropzone"),r(e,"role","region"),r(e,"aria-label","Drag and Drop Container")},m(d,c){Z(d,e,c),a(e,t),a(t,l),a(l,o),Xe(i,o,null),n=!0},i(d){n||(Se(i.$$.fragment,d),n=!0)},o(d){Ae(i.$$.fragment,d),n=!1},d(d){d&&u(e),Je(i)}}}function Ys(s){let e,t="Drop any files here to add to my documents";return{c(){e=f("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-19eg75t"&&(e.textContent=t),this.h()},h(){r(e,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(l,o){Z(l,e,o)},p:it,d(l){l&&u(e)}}}function bl(s){let e,t,l;function o(n){s[18](n)}let i={selectedDoc:s[9]};return s[8]!==void 0&&(i.show=s[8]),e=new as({props:i}),pt.push(()=>Tt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,d){const c={};d[0]&512&&(c.selectedDoc=n[9]),!t&&d[0]&256&&(t=!0,c.show=n[8],xt(()=>t=!1)),e.$set(c)},i(n){l||(Se(e.$$.fragment,n),l=!0)},o(n){Ae(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function wl(s){let e,t,l,o,i,n;l=new Bl({props:{state:s[11].filter(El).length===s[11].length?"checked":"unchecked",indeterminate:s[11].filter(Il).length>0&&s[11].filter(Dl).length!==s[11].length}}),l.$on("change",s[24]);function d(m,v){return v[0]&2048&&(i=null),i==null&&(i=m[11].filter(la).length===0),i?Js:Xs}let c=d(s,[-1,-1]),b=c(s);return{c(){e=f("div"),t=f("div"),Qe(l.$$.fragment),o=x(),b.c(),this.h()},l(m){e=h(m,"DIV",{class:!0});var v=p(e);t=h(v,"DIV",{class:!0});var _=p(t);Ye(l.$$.fragment,_),_.forEach(u),o=T(v),b.l(v),v.forEach(u),this.h()},h(){r(t,"class","ml-0.5 pr-3 my-auto flex items-center"),r(e,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(m,v){Z(m,e,v),a(e,t),Xe(l,t,null),a(e,o),b.m(e,null),n=!0},p(m,v){const _={};v[0]&2048&&(_.state=m[11].filter(El).length===m[11].length?"checked":"unchecked"),v[0]&2048&&(_.indeterminate=m[11].filter(Il).length>0&&m[11].filter(Dl).length!==m[11].length),l.$set(_),c===(c=d(m,v))&&b?b.p(m,v):(b.d(1),b=c(m),b&&(b.c(),b.m(e,null)))},i(m){n||(Se(l.$$.fragment,m),n=!0)},o(m){Ae(l.$$.fragment,m),n=!1},d(m){m&&u(e),Je(l),b.d()}}}function Xs(s){let e,t,l=s[11].filter(Vl).length+"",o,i,n,d,c,b,m=s[12].t("delete")+"",v,_,g;return{c(){e=f("div"),t=f("div"),o=P(l),i=P(" Selected"),n=x(),d=f("div"),c=f("button"),b=f("div"),v=P(m),this.h()},l(w){e=h(w,"DIV",{class:!0});var k=p(e);t=h(k,"DIV",{class:!0});var V=p(t);o=O(V,l),i=O(V," Selected"),V.forEach(u),n=T(k),d=h(k,"DIV",{class:!0});var D=p(d);c=h(D,"BUTTON",{class:!0});var M=p(c);b=h(M,"DIV",{class:!0});var E=p(b);v=O(E,m),E.forEach(u),M.forEach(u),D.forEach(u),k.forEach(u),this.h()},h(){r(t,"class","text-xs font-medium py-0.5 self-center mr-1"),r(b,"class","text-xs font-medium self-center line-clamp-1"),r(c,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),r(d,"class","flex gap-1"),r(e,"class","flex-1 flex w-full justify-between items-center")},m(w,k){Z(w,e,k),a(e,t),a(t,o),a(t,i),a(e,n),a(e,d),a(d,c),a(c,b),a(b,v),_||(g=J(c,"click",s[27]),_=!0)},p(w,k){k[0]&2048&&l!==(l=w[11].filter(Vl).length+"")&&j(o,l),k[0]&4096&&m!==(m=w[12].t("delete")+"")&&j(v,m)},d(w){w&&u(e),_=!1,g()}}}function Js(s){let e,t,l=s[12].t("all")+"",o,i,n,d,c,b=bt(s[5]),m=[];for(let v=0;v<b.length;v+=1)m[v]=kl(ml(s,b,v));return{c(){e=f("button"),t=f("div"),o=P(l),i=x();for(let v=0;v<m.length;v+=1)m[v].c();n=Rt(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var _=p(e);t=h(_,"DIV",{class:!0});var g=p(t);o=O(g,l),g.forEach(u),_.forEach(u),i=T(v);for(let w=0;w<m.length;w+=1)m[w].l(v);n=Rt(),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,_){Z(v,e,_),a(e,t),a(t,o),Z(v,i,_);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(v,_);Z(v,n,_),d||(c=J(e,"click",s[25]),d=!0)},p(v,_){if(_[0]&4096&&l!==(l=v[12].t("all")+"")&&j(o,l),_[0]&34){b=bt(v[5]);let g;for(g=0;g<b.length;g+=1){const w=ml(v,b,g);m[g]?m[g].p(w,_):(m[g]=kl(w),m[g].c(),m[g].m(n.parentNode,n))}for(;g<m.length;g+=1)m[g].d(1);m.length=b.length}},d(v){v&&(u(e),u(i),u(n)),jt(m,v),d=!1,c()}}}function kl(s){let e,t,l,o=s[40]+"",i,n,d,c;function b(){return s[26](s[40])}return{c(){e=f("button"),t=f("div"),l=P("#"),i=P(o),n=x(),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var v=p(e);t=h(v,"DIV",{class:!0});var _=p(t);l=O(_,"#"),i=O(_,o),_.forEach(u),n=T(v),v.forEach(u),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(m,v){Z(m,e,v),a(e,t),a(t,l),a(t,i),a(e,n),d||(c=J(e,"click",b),d=!0)},p(m,v){s=m,v[0]&32&&o!==(o=s[40]+"")&&j(i,o)},d(m){m&&u(e),d=!1,c()}}}function $s(s){let e,t,l,o,i,n;return{c(){e=Ze("svg"),t=Ze("style"),l=P(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),o=Ze("circle"),i=Ze("circle"),n=Ze("circle"),this.h()},l(d){e=ze(d,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var c=p(e);t=ze(c,"style",{});var b=p(t);l=O(b,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),b.forEach(u),o=ze(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(o).forEach(u),i=ze(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(i).forEach(u),n=ze(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(n).forEach(u),c.forEach(u),this.h()},h(){r(o,"class","spinner_qM83"),r(o,"cx","4"),r(o,"cy","12"),r(o,"r","2.5"),r(i,"class","spinner_qM83 spinner_oXPr"),r(i,"cx","12"),r(i,"cy","12"),r(i,"r","2.5"),r(n,"class","spinner_qM83 spinner_ZTLf"),r(n,"cx","20"),r(n,"cy","12"),r(n,"r","2.5"),r(e,"class","w-6 h-6 translate-y-[0.5px]"),r(e,"fill","currentColor"),r(e,"viewBox","0 0 24 24"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(d,c){Z(d,e,c),a(e,t),a(t,l),a(e,o),a(e,i),a(e,n)},d(d){d&&u(e)}}}function ea(s){let e,t,l;return{c(){e=Ze("svg"),t=Ze("path"),l=Ze("path"),this.h()},l(o){e=ze(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ze(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(u),l=ze(i,"path",{d:!0}),p(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"fill-rule","evenodd"),r(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),r(t,"clip-rule","evenodd"),r(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 24 24"),r(e,"fill","currentColor"),r(e,"class","w-6 h-6")},m(o,i){Z(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function yl(s){var fe;let e,t,l,o,i,n,d,c,b,m,v,_=s[37].name+"",g,w,k=s[37].filename+"",V,D,M,E,y=s[37].title+"",S,L,A,C,$='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',ee,K,ne='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',se,G,oe,ge;l=new Bl({props:{state:((fe=s[37])==null?void 0:fe.selected)??"unchecked"}});function Q(I,N){return I[37]?ea:$s}let Y=Q(s),U=Y(s);function W(...I){return s[28](s[37],...I)}function ae(...I){return s[29](s[37],...I)}function te(){return s[30](s[37],s[38],s[39])}return{c(){e=f("button"),t=f("div"),Qe(l.$$.fragment),o=x(),i=f("div"),n=f("div"),d=f("div"),U.c(),c=x(),b=f("div"),m=f("div"),v=P("#"),g=P(_),w=P(" ("),V=P(k),D=P(")"),M=x(),E=f("div"),S=P(y),L=x(),A=f("div"),C=f("button"),C.innerHTML=$,ee=x(),K=f("button"),K.innerHTML=ne,se=x(),this.h()},l(I){e=h(I,"BUTTON",{class:!0});var N=p(e);t=h(N,"DIV",{class:!0});var re=p(t);Ye(l.$$.fragment,re),re.forEach(u),o=T(N),i=h(N,"DIV",{class:!0});var q=p(i);n=h(q,"DIV",{class:!0});var F=p(n);d=h(F,"DIV",{class:!0});var we=p(d);U.l(we),we.forEach(u),c=T(F),b=h(F,"DIV",{class:!0});var B=p(b);m=h(B,"DIV",{class:!0});var z=p(m);v=O(z,"#"),g=O(z,_),w=O(z," ("),V=O(z,k),D=O(z,")"),z.forEach(u),M=T(B),E=h(B,"DIV",{class:!0});var ue=p(E);S=O(ue,y),ue.forEach(u),B.forEach(u),F.forEach(u),q.forEach(u),L=T(N),A=h(N,"DIV",{class:!0});var R=p(A);C=h(R,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(C)!=="svelte-105zedk"&&(C.innerHTML=$),ee=T(R),K=h(R,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(K)!=="svelte-13wl5iz"&&(K.innerHTML=ne),R.forEach(u),se=T(N),N.forEach(u),this.h()},h(){r(t,"class","my-auto flex items-center"),r(d,"class","p-2.5 bg-red-400 text-white rounded-lg"),r(m,"class","font-bold line-clamp-1"),r(E,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),r(b,"class","self-center flex-1"),r(n,"class","flex items-center space-x-3"),r(i,"class","flex flex-1 space-x-4 cursor-pointer w-full"),r(C,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(C,"type","button"),r(K,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(K,"type","button"),r(A,"class","flex flex-row space-x-1 self-center"),r(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(I,N){Z(I,e,N),a(e,t),Xe(l,t,null),a(e,o),a(e,i),a(i,n),a(n,d),U.m(d,null),a(n,c),a(n,b),a(b,m),a(m,v),a(m,g),a(m,w),a(m,V),a(m,D),a(b,M),a(b,E),a(E,S),a(e,L),a(e,A),a(A,C),a(A,ee),a(A,K),a(e,se),G=!0,oe||(ge=[J(C,"click",W),J(K,"click",ae),J(e,"click",te)],oe=!0)},p(I,N){var q;s=I;const re={};N[0]&2048&&(re.state=((q=s[37])==null?void 0:q.selected)??"unchecked"),l.$set(re),Y!==(Y=Q(s))&&(U.d(1),U=Y(s),U&&(U.c(),U.m(d,null))),(!G||N[0]&2048)&&_!==(_=s[37].name+"")&&j(g,_),(!G||N[0]&2048)&&k!==(k=s[37].filename+"")&&j(V,k),(!G||N[0]&2048)&&y!==(y=s[37].title+"")&&j(S,y)},i(I){G||(Se(l.$$.fragment,I),G=!0)},o(I){Ae(l.$$.fragment,I),G=!1},d(I){I&&u(e),Je(l),U.d(),oe=!1,tt(ge)}}}function ta(s){let e,t,l,o=s[9],i,n,d,c,b,m,v,_,g,w,k=s[12].t("Documents")+"",V,D,M,E,y,S,L,A,C=s[12].t("Document Settings")+"",$,ee,K,ne,se=s[12].t("Use '#' in the prompt input to load and select your documents.")+"",G,oe,ge,Q,Y,U='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',W,ae,te,fe,I,N,re='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',q,F,we,B,z,ue,R,he,Ee,Be,De,Le,be=s[12].t("Import Documents Mapping")+"",Pe,ve,ke,Ne='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',Ue,ye,_e,Ve=s[12].t("Export Documents Mapping")+"",We,Ke,He,X='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',ce,je,Re;qt.title=e=`
		`+s[12].t("Documents")+" | "+s[13]+`
	`;let pe=s[10]&&gl(s),Me=bl(s);function ct(H){s[19](H)}let nt={};s[7]!==void 0&&(nt.show=s[7]),n=new Qs({props:nt}),pt.push(()=>Tt(n,"show",ct));function $e(H){s[20](H)}let dt={};s[6]!==void 0&&(dt.show=s[6]),b=new Zs({props:dt}),pt.push(()=>Tt(b,"show",$e));let Te=s[5].length>0&&wl(s),qe=bt(s[11]),me=[];for(let H=0;H<qe.length;H+=1)me[H]=yl(_l(s,qe,H));const ft=H=>Ae(me[H],1,1,()=>{me[H]=null});return{c(){t=x(),pe&&pe.c(),l=x(),Me.c(),i=x(),Qe(n.$$.fragment),c=x(),Qe(b.$$.fragment),v=x(),_=f("div"),g=f("div"),w=f("div"),V=P(k),D=x(),M=f("div"),E=f("button"),y=Ze("svg"),S=Ze("path"),L=x(),A=f("div"),$=P(C),ee=x(),K=f("div"),ne=P("ⓘ "),G=P(se),oe=x(),ge=f("div"),Q=f("div"),Y=f("div"),Y.innerHTML=U,W=x(),ae=f("input"),fe=x(),I=f("div"),N=f("button"),N.innerHTML=re,q=x(),F=f("hr"),we=x(),Te&&Te.c(),B=x(),z=f("div");for(let H=0;H<me.length;H+=1)me[H].c();ue=x(),R=f("div"),he=f("div"),Ee=f("input"),Be=x(),De=f("button"),Le=f("div"),Pe=P(be),ve=x(),ke=f("div"),ke.innerHTML=Ne,Ue=x(),ye=f("button"),_e=f("div"),We=P(Ve),Ke=x(),He=f("div"),He.innerHTML=X,this.h()},l(H){Nl("svelte-vxyf60",qt.head).forEach(u),t=T(H),pe&&pe.l(H),l=T(H),Me.l(H),i=T(H),Ye(n.$$.fragment,H),c=T(H),Ye(b.$$.fragment,H),v=T(H),_=h(H,"DIV",{class:!0});var Ge=p(_);g=h(Ge,"DIV",{class:!0});var et=p(g);w=h(et,"DIV",{class:!0});var xe=p(w);V=O(xe,k),xe.forEach(u),D=T(et),M=h(et,"DIV",{});var ie=p(M);E=h(ie,"BUTTON",{class:!0,type:!0});var Ie=p(E);y=ze(Ie,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Fe=p(y);S=ze(Fe,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(S).forEach(u),Fe.forEach(u),L=T(Ie),A=h(Ie,"DIV",{class:!0});var lt=p(A);$=O(lt,C),lt.forEach(u),Ie.forEach(u),ie.forEach(u),et.forEach(u),ee=T(Ge),K=h(Ge,"DIV",{class:!0});var Mt=p(K);ne=O(Mt,"ⓘ "),G=O(Mt,se),Mt.forEach(u),Ge.forEach(u),oe=T(H),ge=h(H,"DIV",{class:!0});var ht=p(ge);Q=h(ht,"DIV",{class:!0});var kt=p(Q);Y=h(kt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(Y)!=="svelte-v38fm1"&&(Y.innerHTML=U),W=T(kt),ae=h(kt,"INPUT",{class:!0,placeholder:!0}),kt.forEach(u),fe=T(ht),I=h(ht,"DIV",{});var yt=p(I);N=h(yt,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(N)!=="svelte-1rxkyow"&&(N.innerHTML=re),yt.forEach(u),ht.forEach(u),q=T(H),F=h(H,"HR",{class:!0}),we=T(H),Te&&Te.l(H),B=T(H),z=h(H,"DIV",{class:!0});var Pt=p(z);for(let Ht=0;Ht<me.length;Ht+=1)me[Ht].l(Pt);Pt.forEach(u),ue=T(H),R=h(H,"DIV",{class:!0});var Et=p(R);he=h(Et,"DIV",{class:!0});var vt=p(he);Ee=h(vt,"INPUT",{id:!0,type:!0,accept:!0}),Be=T(vt),De=h(vt,"BUTTON",{class:!0});var It=p(De);Le=h(It,"DIV",{class:!0});var Dt=p(Le);Pe=O(Dt,be),Dt.forEach(u),ve=T(It),ke=h(It,"DIV",{class:!0,"data-svelte-h":!0}),Oe(ke)!=="svelte-aqr4dt"&&(ke.innerHTML=Ne),It.forEach(u),Ue=T(vt),ye=h(vt,"BUTTON",{class:!0});var Vt=p(ye);_e=h(Vt,"DIV",{class:!0});var Ot=p(_e);We=O(Ot,Ve),Ot.forEach(u),Ke=T(Vt),He=h(Vt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(He)!=="svelte-1n7zye"&&(He.innerHTML=X),Vt.forEach(u),vt.forEach(u),Et.forEach(u),this.h()},h(){r(w,"class","text-lg font-semibold self-center"),r(S,"fill-rule","evenodd"),r(S,"d","M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z"),r(S,"clip-rule","evenodd"),r(y,"xmlns","http://www.w3.org/2000/svg"),r(y,"viewBox","0 0 16 16"),r(y,"fill","currentColor"),r(y,"class","w-4 h-4"),r(A,"class","text-xs"),r(E,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),r(E,"type","button"),r(g,"class","flex justify-between items-center"),r(K,"class","text-gray-500 text-xs mt-1"),r(_,"class","mb-3"),r(Y,"class","self-center ml-1 mr-3"),r(ae,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),r(ae,"placeholder",te=s[12].t("Search Documents")),r(Q,"class","flex flex-1"),r(N,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),r(ge,"class","flex w-full space-x-2"),r(F,"class","dark:border-gray-850 my-2.5"),r(z,"class","my-3 mb-5"),r(Ee,"id","documents-import-input"),r(Ee,"type","file"),r(Ee,"accept",".json"),Ee.hidden=!0,r(Le,"class","self-center mr-2 font-medium"),r(ke,"class","self-center"),r(De,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(_e,"class","self-center mr-2 font-medium"),r(He,"class","self-center"),r(ye,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(he,"class","flex space-x-2"),r(R,"class","flex justify-end w-full mb-2")},m(H,le){Z(H,t,le),pe&&pe.m(H,le),Z(H,l,le),Me.m(H,le),Z(H,i,le),Xe(n,H,le),Z(H,c,le),Xe(b,H,le),Z(H,v,le),Z(H,_,le),a(_,g),a(g,w),a(w,V),a(g,D),a(g,M),a(M,E),a(E,y),a(y,S),a(E,L),a(E,A),a(A,$),a(_,ee),a(_,K),a(K,ne),a(K,G),Z(H,oe,le),Z(H,ge,le),a(ge,Q),a(Q,Y),a(Q,W),a(Q,ae),de(ae,s[0]),a(ge,fe),a(ge,I),a(I,N),Z(H,q,le),Z(H,F,le),Z(H,we,le),Te&&Te.m(H,le),Z(H,B,le),Z(H,z,le);for(let Ge=0;Ge<me.length;Ge+=1)me[Ge]&&me[Ge].m(z,null);Z(H,ue,le),Z(H,R,le),a(R,he),a(he,Ee),s[31](Ee),a(he,Be),a(he,De),a(De,Le),a(Le,Pe),a(De,ve),a(De,ke),a(he,Ue),a(he,ye),a(ye,_e),a(_e,We),a(ye,Ke),a(ye,He),ce=!0,je||(Re=[J(E,"click",s[21]),J(ae,"input",s[22]),J(N,"click",s[23]),J(Ee,"change",s[32]),J(Ee,"change",s[33]),J(De,"click",s[34]),J(ye,"click",s[35])],je=!0)},p(H,le){(!ce||le[0]&12288)&&e!==(e=`
		`+H[12].t("Documents")+" | "+H[13]+`
	`)&&(qt.title=e),H[10]?pe?le[0]&1024&&Se(pe,1):(pe=gl(H),pe.c(),Se(pe,1),pe.m(l.parentNode,l)):pe&&(Lt(),Ae(pe,1,1,()=>{pe=null}),At()),le[0]&512&&ut(o,o=H[9])?(Lt(),Ae(Me,1,1,it),At(),Me=bl(H),Me.c(),Se(Me,1),Me.m(i.parentNode,i)):Me.p(H,le);const Ge={};!d&&le[0]&128&&(d=!0,Ge.show=H[7],xt(()=>d=!1)),n.$set(Ge);const et={};if(!m&&le[0]&64&&(m=!0,et.show=H[6],xt(()=>m=!1)),b.$set(et),(!ce||le[0]&4096)&&k!==(k=H[12].t("Documents")+"")&&j(V,k),(!ce||le[0]&4096)&&C!==(C=H[12].t("Document Settings")+"")&&j($,C),(!ce||le[0]&4096)&&se!==(se=H[12].t("Use '#' in the prompt input to load and select your documents.")+"")&&j(G,se),(!ce||le[0]&4096&&te!==(te=H[12].t("Search Documents")))&&r(ae,"placeholder",te),le[0]&1&&ae.value!==H[0]&&de(ae,H[0]),H[5].length>0?Te?(Te.p(H,le),le[0]&32&&Se(Te,1)):(Te=wl(H),Te.c(),Se(Te,1),Te.m(B.parentNode,B)):Te&&(Lt(),Ae(Te,1,1,()=>{Te=null}),At()),le[0]&68352){qe=bt(H[11]);let xe;for(xe=0;xe<qe.length;xe+=1){const ie=_l(H,qe,xe);me[xe]?(me[xe].p(ie,le),Se(me[xe],1)):(me[xe]=yl(ie),me[xe].c(),Se(me[xe],1),me[xe].m(z,null))}for(Lt(),xe=qe.length;xe<me.length;xe+=1)ft(xe);At()}(!ce||le[0]&4096)&&be!==(be=H[12].t("Import Documents Mapping")+"")&&j(Pe,be),(!ce||le[0]&4096)&&Ve!==(Ve=H[12].t("Export Documents Mapping")+"")&&j(We,Ve)},i(H){if(!ce){Se(pe),Se(Me),Se(n.$$.fragment,H),Se(b.$$.fragment,H),Se(Te);for(let le=0;le<qe.length;le+=1)Se(me[le]);ce=!0}},o(H){Ae(pe),Ae(Me),Ae(n.$$.fragment,H),Ae(b.$$.fragment,H),Ae(Te),me=me.filter(Boolean);for(let le=0;le<me.length;le+=1)Ae(me[le]);ce=!1},d(H){H&&(u(t),u(l),u(i),u(c),u(v),u(_),u(oe),u(ge),u(q),u(F),u(we),u(B),u(z),u(ue),u(R)),pe&&pe.d(H),Me.d(H),Je(n,H),Je(b,H),Te&&Te.d(H),jt(me,H),s[31](null),je=!1,tt(Re)}}}const la=s=>(s==null?void 0:s.selected)==="checked",El=s=>(s==null?void 0:s.selected)==="checked",Il=s=>(s==null?void 0:s.selected)==="checked",Dl=s=>(s==null?void 0:s.selected)==="checked",Vl=s=>(s==null?void 0:s.selected)==="checked";function sa(s,e,t){let l,o,i;at(s,st,I=>t(2,l=I)),at(s,Zl,I=>t(13,i=I));const{saveAs:n}=Rl,d=wt("i18n");at(s,d,I=>t(12,o=I));let c="",b="",m,v=[],_=!1,g=!1,w=!1,k,V="",D=!1;const M=async I=>{await el(localStorage.token,I),await st.set(await ot(localStorage.token))},E=async I=>{await Promise.all(I.map(async N=>await el(localStorage.token,N.name))),await st.set(await ot(localStorage.token))},y=async I=>{const N=await Al(localStorage.token,"",I).catch(re=>(Ce.error(re),null));N&&(await zt(localStorage.token,N.collection_name,N.filename,Cl(N.filename),N.filename).catch(re=>(Ce.error(re),null)),await st.set(await ot(localStorage.token)))};St(()=>{st.subscribe(F=>{t(5,v=F.reduce((we,B,z,ue)=>{var R;return[...new Set([...we,...(((R=B==null?void 0:B.content)==null?void 0:R.tags)??[]).map(he=>he.name)])]},[]))});const I=document.querySelector("body"),N=F=>{F.preventDefault(),t(10,D=!0)},re=()=>{t(10,D=!1)},q=async F=>{var we,B;if(F.preventDefault(),(we=F.dataTransfer)!=null&&we.files){let z=new FileReader;z.onload=R=>{files=[...files,{type:"image",url:`${R.target.result}`}]};const ue=(B=F.dataTransfer)==null?void 0:B.files;if(ue&&ue.length>0)for(const R of ue)console.log(R,R.name.split(".").at(-1)),xl.includes(R.type)||Tl.includes(R.name.split(".").at(-1))||Ce.error(`Unknown File Type '${R.type}', but accepting and treating as plain text`),y(R);else Ce.error(o.t("File not found."))}t(10,D=!1)};return I==null||I.addEventListener("dragover",N),I==null||I.addEventListener("drop",q),I==null||I.addEventListener("dragleave",re),()=>{I==null||I.removeEventListener("dragover",N),I==null||I.removeEventListener("drop",q),I==null||I.removeEventListener("dragleave",re)}});let S;function L(I){w=I,t(8,w)}function A(I){g=I,t(7,g)}function C(I){_=I,t(6,_)}const $=()=>{t(6,_=!_)};function ee(){b=this.value,t(0,b)}const K=()=>{t(7,g=!0)},ne=I=>{I.detail==="checked"?t(11,S=S.map(N=>({...N,selected:"checked"}))):I.detail==="unchecked"&&t(11,S=S.map(N=>({...N,selected:"unchecked"})))},se=async()=>{t(1,V="")},G=async I=>{t(1,V=I)},oe=async()=>{E(S.filter(I=>I.selected==="checked"))},ge=async(I,N)=>{N.stopPropagation(),t(8,w=!w),t(9,k=I)},Q=(I,N)=>{N.stopPropagation(),M(I.name)},Y=(I,N,re)=>{(I==null?void 0:I.selected)==="checked"?t(11,N[re].selected="unchecked",S):t(11,N[re].selected="checked",S)};function U(I){pt[I?"unshift":"push"](()=>{m=I,t(4,m)})}function W(){c=this.files,t(3,c)}const ae=()=>{console.log(c);const I=new FileReader;I.onload=async N=>{const re=JSON.parse(N.target.result);console.log(re);for(const q of re)await zt(localStorage.token,q.collection_name,q.filename,q.name,q.title).catch(F=>(Ce.error(F),null));await st.set(await ot(localStorage.token))},I.readAsText(c[0])},te=()=>{m.click()},fe=async()=>{let I=new Blob([JSON.stringify(l)],{type:"application/json"});n(I,`documents-mapping-export-${Date.now()}.json`)};return s.$$.update=()=>{s.$$.dirty[0]&7&&t(11,S=l.filter(I=>{var N;return(V===""||(((N=I==null?void 0:I.content)==null?void 0:N.tags)??[]).map(re=>re.name).includes(V))&&(b===""||I.name.includes(b))}))},[b,V,l,c,m,v,_,g,w,k,D,S,o,i,n,d,M,E,L,A,C,$,ee,K,ne,se,G,oe,ge,Q,Y,U,W,ae,te,fe]}class aa extends _t{constructor(e){super(),mt(this,e,sa,ta,ut,{},null,[-1,-1])}}function ra(s){let e,t;return e=new aa({}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p:it,i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Ae(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}class ya extends _t{constructor(e){super(),mt(this,e,null,ra,ut,{})}}export{ya as component};
//# sourceMappingURL=9.04d7ad4f.js.map
