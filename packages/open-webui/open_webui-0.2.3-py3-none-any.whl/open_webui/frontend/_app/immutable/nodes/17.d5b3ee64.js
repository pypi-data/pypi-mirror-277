import{s as Ue,a as D,e as be,M as Pe,d as _,c as S,i as j,w as oe,P as Te,o as Ae,f as g,g as b,R as Me,h as k,j as m,r as o,l as T,m as A,Q as J,u as $,O as Ye,n as B,C as Ee,v as Be}from"../chunks/scheduler.e3781972.js";import{S as Ce,i as He,a as K,t as x,c as Ve,g as Ne,b as je,d as qe,m as ze,e as Oe}from"../chunks/index.2a4758a9.js";import{g as ye}from"../chunks/navigation.b6697e34.js";import{k as Re,l as We}from"../chunks/index.4d0e3588.js";import{S as Fe}from"../chunks/Spinner.1ee8b893.js";import{c as Le,u as ke,W as Qe,a as Ge}from"../chunks/index.f3427c3e.js";import{a as me}from"../chunks/Toaster.svelte_svelte_type_style_lang.143b8570.js";import{g as Je}from"../chunks/index.b3b584e7.js";function we(s){let t,a=`<div class="flex space-x-2"><div class="self-center"><img crossorigin="anonymous" src="${Ge}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,n,u,l,e,i,d;const E=[Xe,Ke],f=[];function h(r,c){var p,y;return(((p=r[5])==null?void 0:p.features.auth_trusted_header)??!1)||((y=r[5])==null?void 0:y.features.auth)===!1?0:1}return e=h(s),i=f[e]=E[e](s),{c(){t=g("div"),t.innerHTML=a,n=D(),u=g("div"),l=g("div"),i.c(),this.h()},l(r){t=b(r,"DIV",{class:!0,"data-svelte-h":!0}),Me(t)!=="svelte-18zumjz"&&(t.innerHTML=a),n=S(r),u=b(r,"DIV",{class:!0});var c=k(u);l=b(c,"DIV",{class:!0});var p=k(l);i.l(p),p.forEach(_),c.forEach(_),this.h()},h(){m(t,"class","fixed m-10 z-50"),m(l,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),m(u,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-mona svelte-zxai24")},m(r,c){j(r,t,c),j(r,n,c),j(r,u,c),o(u,l),f[e].m(l,null),d=!0},p(r,c){let p=e;e=h(r),e===p?f[e].p(r,c):(Ne(),x(f[p],1,1,()=>{f[p]=null}),Ve(),i=f[e],i?i.p(r,c):(i=f[e]=E[e](r),i.c()),K(i,1),i.m(l,null))},i(r){d||(K(i),d=!0)},o(r){x(i),d=!1},d(r){r&&(_(t),_(n),_(u)),f[e].d()}}}function Ke(s){var _e;let t,a,n,u,l=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Sign up"))+"",e,i,d=s[6].t("to")+"",E,f,h,r,c,p,y,I,C,M=s[6].t("Email")+"",q,ee,Y,w,R,W,L,X=s[6].t("Password")+"",te,ue,H,le,fe,z,F,Z=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Create Account"))+"",se,de,ce,pe,N=s[1]==="signup"&&Ie(s),U=s[1]==="signup"&&De(s),P=((_e=s[5])==null?void 0:_e.features.enable_signup)&&Se(s);return{c(){t=g("div"),a=g("form"),n=g("div"),u=g("div"),e=T(l),i=D(),E=T(d),f=D(),h=T(s[7]),r=D(),N&&N.c(),c=D(),p=g("div"),U&&U.c(),y=D(),I=g("div"),C=g("div"),q=T(M),ee=D(),Y=g("input"),R=D(),W=g("div"),L=g("div"),te=T(X),ue=D(),H=g("input"),fe=D(),z=g("div"),F=g("button"),se=T(Z),de=D(),P&&P.c(),this.h()},l(v){t=b(v,"DIV",{class:!0});var V=k(t);a=b(V,"FORM",{class:!0});var O=k(a);n=b(O,"DIV",{class:!0});var ae=k(n);u=b(ae,"DIV",{class:!0});var Q=k(u);e=A(Q,l),i=S(Q),E=A(Q,d),f=S(Q),h=A(Q,s[7]),Q.forEach(_),r=S(ae),N&&N.l(ae),ae.forEach(_),c=S(O),p=b(O,"DIV",{class:!0});var G=k(p);U&&U.l(G),y=S(G),I=b(G,"DIV",{class:!0});var ne=k(I);C=b(ne,"DIV",{class:!0});var ve=k(C);q=A(ve,M),ve.forEach(_),ee=S(ne),Y=b(ne,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),ne.forEach(_),R=S(G),W=b(G,"DIV",{});var ie=k(W);L=b(ie,"DIV",{class:!0});var he=k(L);te=A(he,X),he.forEach(_),ue=S(ie),H=b(ie,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),ie.forEach(_),G.forEach(_),fe=S(O),z=b(O,"DIV",{class:!0});var re=k(z);F=b(re,"BUTTON",{class:!0,type:!0});var ge=k(F);se=A(ge,Z),ge.forEach(_),de=S(re),P&&P.l(re),re.forEach(_),O.forEach(_),V.forEach(_),this.h()},h(){m(u,"class","text-2xl font-bold"),m(n,"class","mb-1"),m(C,"class","text-sm font-semibold text-left mb-1"),m(Y,"type","email"),m(Y,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(Y,"autocomplete","email"),m(Y,"placeholder",w=s[6].t("Enter Your Email")),Y.required=!0,m(I,"class","mb-2"),m(L,"class","text-sm font-semibold text-left mb-1"),m(H,"type","password"),m(H,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(H,"placeholder",le=s[6].t("Enter Your Password")),m(H,"autocomplete","current-password"),H.required=!0,m(p,"class","flex flex-col mt-4"),m(F,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-semibold text-sm py-3 transition"),m(F,"type","submit"),m(z,"class","mt-5"),m(a,"class","flex flex-col justify-center"),m(t,"class","my-auto pb-10 w-full dark:text-gray-100")},m(v,V){j(v,t,V),o(t,a),o(a,n),o(n,u),o(u,e),o(u,i),o(u,E),o(u,f),o(u,h),o(n,r),N&&N.m(n,null),o(a,c),o(a,p),U&&U.m(p,null),o(p,y),o(p,I),o(I,C),o(C,q),o(I,ee),o(I,Y),J(Y,s[3]),o(p,R),o(p,W),o(W,L),o(L,te),o(W,ue),o(W,H),J(H,s[4]),o(a,fe),o(a,z),o(z,F),o(F,se),o(z,de),P&&P.m(z,null),ce||(pe=[$(Y,"input",s[11]),$(H,"input",s[12]),$(a,"submit",Ye(s[14]))],ce=!0)},p(v,V){var O;V&66&&l!==(l=(v[1]==="signin"?v[6].t("Sign in"):v[6].t("Sign up"))+"")&&B(e,l),V&64&&d!==(d=v[6].t("to")+"")&&B(E,d),V&128&&B(h,v[7]),v[1]==="signup"?N?N.p(v,V):(N=Ie(v),N.c(),N.m(n,null)):N&&(N.d(1),N=null),v[1]==="signup"?U?U.p(v,V):(U=De(v),U.c(),U.m(p,y)):U&&(U.d(1),U=null),V&64&&M!==(M=v[6].t("Email")+"")&&B(q,M),V&64&&w!==(w=v[6].t("Enter Your Email"))&&m(Y,"placeholder",w),V&8&&Y.value!==v[3]&&J(Y,v[3]),V&64&&X!==(X=v[6].t("Password")+"")&&B(te,X),V&64&&le!==(le=v[6].t("Enter Your Password"))&&m(H,"placeholder",le),V&16&&H.value!==v[4]&&J(H,v[4]),V&66&&Z!==(Z=(v[1]==="signin"?v[6].t("Sign in"):v[6].t("Create Account"))+"")&&B(se,Z),(O=v[5])!=null&&O.features.enable_signup?P?P.p(v,V):(P=Se(v),P.c(),P.m(z,null)):P&&(P.d(1),P=null)},i:Ee,o:Ee,d(v){v&&_(t),N&&N.d(),U&&U.d(),P&&P.d(),ce=!1,Be(pe)}}}function Xe(s){let t,a,n,u=s[6].t("Signing in")+"",l,e,i=s[6].t("to")+"",d,E,f,h,r,c,p;return c=new Fe({}),{c(){t=g("div"),a=g("div"),n=g("div"),l=T(u),e=D(),d=T(i),E=D(),f=T(s[7]),h=D(),r=g("div"),je(c.$$.fragment),this.h()},l(y){t=b(y,"DIV",{class:!0});var I=k(t);a=b(I,"DIV",{class:!0});var C=k(a);n=b(C,"DIV",{});var M=k(n);l=A(M,u),e=S(M),d=A(M,i),E=S(M),f=A(M,s[7]),M.forEach(_),h=S(C),r=b(C,"DIV",{});var q=k(r);qe(c.$$.fragment,q),q.forEach(_),C.forEach(_),I.forEach(_),this.h()},h(){m(a,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-bold dark:text-gray-200"),m(t,"class","my-auto pb-10 w-full")},m(y,I){j(y,t,I),o(t,a),o(a,n),o(n,l),o(n,e),o(n,d),o(n,E),o(n,f),o(a,h),o(a,r),ze(c,r,null),p=!0},p(y,I){(!p||I&64)&&u!==(u=y[6].t("Signing in")+"")&&B(l,u),(!p||I&64)&&i!==(i=y[6].t("to")+"")&&B(d,i),(!p||I&128)&&B(f,y[7])},i(y){p||(K(c.$$.fragment,y),p=!0)},o(y){x(c.$$.fragment,y),p=!1},d(y){y&&_(t),Oe(c)}}}function Ie(s){let t,a,n,u,l=s[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",e;return{c(){t=g("div"),a=T("ⓘ "),n=T(s[7]),u=D(),e=T(l),this.h()},l(i){t=b(i,"DIV",{class:!0});var d=k(t);a=A(d,"ⓘ "),n=A(d,s[7]),u=S(d),e=A(d,l),d.forEach(_),this.h()},h(){m(t,"class","mt-1 text-xs font-medium text-gray-500")},m(i,d){j(i,t,d),o(t,a),o(t,n),o(t,u),o(t,e)},p(i,d){d&128&&B(n,i[7]),d&64&&l!==(l=i[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&B(e,l)},d(i){i&&_(t)}}}function De(s){let t,a,n=s[6].t("Name")+"",u,l,e,i,d,E,f,h;return{c(){t=g("div"),a=g("div"),u=T(n),l=D(),e=g("input"),d=D(),E=g("hr"),this.h()},l(r){t=b(r,"DIV",{});var c=k(t);a=b(c,"DIV",{class:!0});var p=k(a);u=A(p,n),p.forEach(_),l=S(c),e=b(c,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),c.forEach(_),d=S(r),E=b(r,"HR",{class:!0}),this.h()},h(){m(a,"class","text-sm font-semibold text-left mb-1"),m(e,"type","text"),m(e,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(e,"autocomplete","name"),m(e,"placeholder",i=s[6].t("Enter Your Full Name")),e.required=!0,m(E,"class","my-3 dark:border-gray-900")},m(r,c){j(r,t,c),o(t,a),o(a,u),o(t,l),o(t,e),J(e,s[2]),j(r,d,c),j(r,E,c),f||(h=$(e,"input",s[10]),f=!0)},p(r,c){c&64&&n!==(n=r[6].t("Name")+"")&&B(u,n),c&64&&i!==(i=r[6].t("Enter Your Full Name"))&&m(e,"placeholder",i),c&4&&e.value!==r[2]&&J(e,r[2])},d(r){r&&(_(t),_(d),_(E)),f=!1,h()}}}function Se(s){let t,a=(s[1]==="signin"?s[6].t("Don't have an account?"):s[6].t("Already have an account?"))+"",n,u,l,e=(s[1]==="signin"?s[6].t("Sign up"):s[6].t("Sign in"))+"",i,d,E;return{c(){t=g("div"),n=T(a),u=D(),l=g("button"),i=T(e),this.h()},l(f){t=b(f,"DIV",{class:!0});var h=k(t);n=A(h,a),u=S(h),l=b(h,"BUTTON",{class:!0,type:!0});var r=k(l);i=A(r,e),r.forEach(_),h.forEach(_),this.h()},h(){m(l,"class","font-medium underline"),m(l,"type","button"),m(t,"class","mt-4 text-sm text-center")},m(f,h){j(f,t,h),o(t,n),o(t,u),o(t,l),o(l,i),d||(E=$(l,"click",s[13]),d=!0)},p(f,h){h&66&&a!==(a=(f[1]==="signin"?f[6].t("Don't have an account?"):f[6].t("Already have an account?"))+"")&&B(n,a),h&66&&e!==(e=(f[1]==="signin"?f[6].t("Sign up"):f[6].t("Sign in"))+"")&&B(i,e)},d(f){f&&_(t),d=!1,E()}}}function Ze(s){let t,a,n,u;document.title=t=`
		${s[7]}
	`;let l=s[0]&&we(s);return{c(){a=D(),l&&l.c(),n=be()},l(e){Pe("svelte-sdpf07",document.head).forEach(_),a=S(e),l&&l.l(e),n=be()},m(e,i){j(e,a,i),l&&l.m(e,i),j(e,n,i),u=!0},p(e,[i]){(!u||i&128)&&t!==(t=`
		${e[7]}
	`)&&(document.title=t),e[0]?l?(l.p(e,i),i&1&&K(l,1)):(l=we(e),l.c(),K(l,1),l.m(n.parentNode,n)):l&&(Ne(),x(l,1,1,()=>{l=null}),Ve())},i(e){u||(K(l),u=!0)},o(e){x(l),u=!1},d(e){e&&(_(a),_(n)),l&&l.d(e)}}}function $e(s,t,a){let n,u,l,e;oe(s,Le,w=>a(5,n=w)),oe(s,ke,w=>a(15,u=w)),oe(s,Qe,w=>a(7,e=w));const i=Te("i18n");oe(s,i,w=>a(6,l=w));let d=!1,E="signin",f="",h="",r="";const c=async w=>{w&&(console.log(w),me.success(l.t("You're now logged in.")),localStorage.token=w.token,await ke.set(w),ye("/"))},p=async()=>{const w=await Re(h,r).catch(R=>(me.error(R),null));await c(w)},y=async()=>{const w=await We(f,h,r,Je(f)).catch(R=>(me.error(R),null));await c(w)},I=async()=>{E==="signin"?await p():await y()};Ae(async()=>{u!==void 0&&await ye("/"),a(0,d=!0),(((n==null?void 0:n.features.auth_trusted_header)??!1)||(n==null?void 0:n.features.auth)===!1)&&await p()});function C(){f=this.value,a(2,f)}function M(){h=this.value,a(3,h)}function q(){r=this.value,a(4,r)}return[d,E,f,h,r,n,l,e,i,I,C,M,q,()=>{E==="signin"?a(1,E="signup"):a(1,E="signin")},()=>{I()}]}class rt extends Ce{constructor(t){super(),He(this,t,$e,Ze,Ue,{})}}export{rt as component};
//# sourceMappingURL=17.d5b3ee64.js.map
