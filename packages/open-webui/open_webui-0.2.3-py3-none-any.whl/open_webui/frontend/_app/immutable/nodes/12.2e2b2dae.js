import{s as ks,f,a as E,l as S,g as d,h as p,c as I,R as _t,m as P,d as c,j as i,i as O,r as n,u as X,n as C,v as hl,w as fl,P as ws,o as ys,Q as ce,O as Es,K as ml,U as Is,V as xl,p as gs,X as Ds,C as vl,T as Vs,z as $l,A as es,S as ts,e as ls}from"../chunks/scheduler.e3781972.js";import{S as Ts,i as Ns,a as te,t as Ee,c as _l,b as gl,d as bl,m as kl,g as pl,e as wl,f as Ss}from"../chunks/index.2a4758a9.js";import{e as xe}from"../chunks/each.9b39a839.js";import{a as Ps}from"../chunks/Toaster.svelte_svelte_type_style_lang.143b8570.js";import{g as dl}from"../chunks/navigation.b6697e34.js";import{p as As}from"../chunks/stores.46876475.js";import{e as ss}from"../chunks/index.f3427c3e.js";import"../chunks/sha256.8dba905a.js";import{u as Ms}from"../chunks/index.f5967fc1.js";import{A as Cs}from"../chunks/AdvancedParams.c8af1f93.js";import{b as Os}from"../chunks/index.23e4ce77.js";import{C as Bs}from"../chunks/Checkbox.61519300.js";import{T as js}from"../chunks/Tags.aef6e925.js";function as(s,e,t){const a=s.slice();return a[40]=e[t],a}function rs(s,e,t){const a=s.slice();return a[43]=e[t],a[44]=e,a[45]=t,a}function ns(s,e,t){const a=s.slice();return a[12]=e[t],a}function os(s){var Nl,Sl;let e,t,a,l,r,h,m,g,y,D=s[11].t("Name")+"",T,v,N,V,o,b,k,B,R,ue=s[11].t("Model ID")+"",fe,$e,et,Ae,Z,He,tt,Le,le,de,Ie,Me=s[11].t("Description")+"",Re,lt,se,pt,ht,st,mt,pe,Ce,w,A=s[11].t("Model Params")+"",he,Q,L,G,x,_e=s[11].t("System Prompt")+"",me,at,Oe,$,Wt,De,ze,rt=s[11].t("Advanced Params")+"",vt,qt,ve,Xt,Yt,gt,Zt,ge,be,Ve,Fe,nt=s[11].t("Prompt suggestions")+"",bt,Gt,ke,Kt,Qt,xt,Te,Je,We,ot=s[11].t("Capabilities")+"",kt,$t,Be,el,Ne,qe,Xe,it=s[11].t("Tags")+"",wt,tl,Ye,Se,ll,we,Pe,Ze,ct=s[11].t("JSON Preview")+"",yt,sl,ye,al,rl,Ge,K,Ke,ut=s[11].t("Save & Update")+"",Et,nl,It,j,ol,yl;function El(u,_){return u[7].meta.profile_image_url?Hs:Us}let Dt=El(s),ae=Dt(s),z=s[12].preset&&is(s);function Il(u,_){return u[7].meta.description===null?Rs:Ls}let Vt=Il(s),re=Vt(s),F=s[7].meta.description!==null&&us(s);function Dl(u,_){return u[3]?Fs:zs}let Tt=Dl(s),ne=Tt(s),U=s[3]&&fs(s);function Vl(u,_){return u[7].meta.suggestion_prompts===null?Ws:Js}let Nt=Vl(s),oe=Nt(s),J=s[7].meta.suggestion_prompts!==null&&ds(s),W=s[7].meta.suggestion_prompts&&_s(s),je=xe(Object.keys(s[9])),M=[];for(let u=0;u<je.length;u+=1)M[u]=hs(as(s,je,u));const bs=u=>Ee(M[u],1,1,()=>{M[u]=null});Se=new js({props:{tags:((Sl=(Nl=s[7])==null?void 0:Nl.meta)==null?void 0:Sl.tags)??[],deleteTag:s[34],addTag:s[35]}});function Tl(u,_){return u[4]?Zs:Ys}let St=Tl(s),ie=St(s),q=s[4]&&ms(s),Y=s[0]&&vs();return{c(){e=f("form"),t=f("div"),a=f("div"),l=f("button"),ae.c(),h=E(),m=f("div"),g=f("div"),y=f("div"),T=S(D),v=S("*"),N=E(),V=f("div"),o=f("input"),k=E(),B=f("div"),R=f("div"),fe=S(ue),$e=S("*"),et=E(),Ae=f("div"),Z=f("input"),tt=E(),z&&z.c(),Le=E(),le=f("div"),de=f("div"),Ie=f("div"),Re=S(Me),lt=E(),se=f("button"),re.c(),pt=E(),F&&F.c(),ht=E(),st=f("hr"),mt=E(),pe=f("div"),Ce=f("div"),w=f("div"),he=S(A),Q=E(),L=f("div"),G=f("div"),x=f("div"),me=S(_e),at=E(),Oe=f("div"),$=f("textarea"),Wt=E(),De=f("div"),ze=f("div"),vt=S(rt),qt=E(),ve=f("button"),ne.c(),Xt=E(),U&&U.c(),Yt=E(),gt=f("hr"),Zt=E(),ge=f("div"),be=f("div"),Ve=f("div"),Fe=f("div"),bt=S(nt),Gt=E(),ke=f("button"),oe.c(),Kt=E(),J&&J.c(),Qt=E(),W&&W.c(),xt=E(),Te=f("div"),Je=f("div"),We=f("div"),kt=S(ot),$t=E(),Be=f("div");for(let u=0;u<M.length;u+=1)M[u].c();el=E(),Ne=f("div"),qe=f("div"),Xe=f("div"),wt=S(it),tl=E(),Ye=f("div"),gl(Se.$$.fragment),ll=E(),we=f("div"),Pe=f("div"),Ze=f("div"),yt=S(ct),sl=E(),ye=f("button"),ie.c(),al=E(),q&&q.c(),rl=E(),Ge=f("div"),K=f("button"),Ke=f("div"),Et=S(ut),nl=E(),Y&&Y.c(),this.h()},l(u){e=d(u,"FORM",{class:!0});var _=p(e);t=d(_,"DIV",{class:!0});var ee=p(t);a=d(ee,"DIV",{class:!0});var ft=p(a);l=d(ft,"BUTTON",{class:!0,type:!0});var dt=p(l);ae.l(dt),dt.forEach(c),ft.forEach(c),ee.forEach(c),h=I(_),m=d(_,"DIV",{class:!0});var H=p(m);g=d(H,"DIV",{class:!0});var Ue=p(g);y=d(Ue,"DIV",{class:!0});var il=p(y);T=P(il,D),v=P(il,"*"),il.forEach(c),N=I(Ue),V=d(Ue,"DIV",{});var Pl=p(V);o=d(Pl,"INPUT",{class:!0,placeholder:!0}),Pl.forEach(c),Ue.forEach(c),k=I(H),B=d(H,"DIV",{class:!0});var Pt=p(B);R=d(Pt,"DIV",{class:!0});var cl=p(R);fe=P(cl,ue),$e=P(cl,"*"),cl.forEach(c),et=I(Pt),Ae=d(Pt,"DIV",{});var Al=p(Ae);Z=d(Al,"INPUT",{class:!0,placeholder:!0}),Al.forEach(c),Pt.forEach(c),H.forEach(c),tt=I(_),z&&z.l(_),Le=I(_),le=d(_,"DIV",{class:!0});var At=p(le);de=d(At,"DIV",{class:!0});var Mt=p(de);Ie=d(Mt,"DIV",{class:!0});var Ml=p(Ie);Re=P(Ml,Me),Ml.forEach(c),lt=I(Mt),se=d(Mt,"BUTTON",{class:!0,type:!0});var Cl=p(se);re.l(Cl),Cl.forEach(c),Mt.forEach(c),pt=I(At),F&&F.l(At),At.forEach(c),ht=I(_),st=d(_,"HR",{class:!0}),mt=I(_),pe=d(_,"DIV",{class:!0});var Ct=p(pe);Ce=d(Ct,"DIV",{class:!0});var Ol=p(Ce);w=d(Ol,"DIV",{class:!0});var Bl=p(w);he=P(Bl,A),Bl.forEach(c),Ol.forEach(c),Q=I(Ct),L=d(Ct,"DIV",{class:!0});var Qe=p(L);G=d(Qe,"DIV",{class:!0});var Ot=p(G);x=d(Ot,"DIV",{class:!0});var jl=p(x);me=P(jl,_e),jl.forEach(c),at=I(Ot),Oe=d(Ot,"DIV",{});var Ul=p(Oe);$=d(Ul,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p($).forEach(c),Ul.forEach(c),Ot.forEach(c),Wt=I(Qe),De=d(Qe,"DIV",{class:!0});var Bt=p(De);ze=d(Bt,"DIV",{class:!0});var Hl=p(ze);vt=P(Hl,rt),Hl.forEach(c),qt=I(Bt),ve=d(Bt,"BUTTON",{class:!0,type:!0});var Ll=p(ve);ne.l(Ll),Ll.forEach(c),Bt.forEach(c),Xt=I(Qe),U&&U.l(Qe),Qe.forEach(c),Ct.forEach(c),Yt=I(_),gt=d(_,"HR",{class:!0}),Zt=I(_),ge=d(_,"DIV",{class:!0});var jt=p(ge);be=d(jt,"DIV",{class:!0});var Ut=p(be);Ve=d(Ut,"DIV",{class:!0});var Ht=p(Ve);Fe=d(Ht,"DIV",{class:!0});var Rl=p(Fe);bt=P(Rl,nt),Rl.forEach(c),Gt=I(Ht),ke=d(Ht,"BUTTON",{class:!0,type:!0});var zl=p(ke);oe.l(zl),zl.forEach(c),Ht.forEach(c),Kt=I(Ut),J&&J.l(Ut),Ut.forEach(c),Qt=I(jt),W&&W.l(jt),jt.forEach(c),xt=I(_),Te=d(_,"DIV",{class:!0});var Lt=p(Te);Je=d(Lt,"DIV",{class:!0});var Fl=p(Je);We=d(Fl,"DIV",{class:!0});var Jl=p(We);kt=P(Jl,ot),Jl.forEach(c),Fl.forEach(c),$t=I(Lt),Be=d(Lt,"DIV",{class:!0});var Wl=p(Be);for(let ul=0;ul<M.length;ul+=1)M[ul].l(Wl);Wl.forEach(c),Lt.forEach(c),el=I(_),Ne=d(_,"DIV",{class:!0});var Rt=p(Ne);qe=d(Rt,"DIV",{class:!0});var ql=p(qe);Xe=d(ql,"DIV",{class:!0});var Xl=p(Xe);wt=P(Xl,it),Xl.forEach(c),ql.forEach(c),tl=I(Rt),Ye=d(Rt,"DIV",{class:!0});var Yl=p(Ye);bl(Se.$$.fragment,Yl),Yl.forEach(c),Rt.forEach(c),ll=I(_),we=d(_,"DIV",{class:!0});var zt=p(we);Pe=d(zt,"DIV",{class:!0});var Ft=p(Pe);Ze=d(Ft,"DIV",{class:!0});var Zl=p(Ze);yt=P(Zl,ct),Zl.forEach(c),sl=I(Ft),ye=d(Ft,"BUTTON",{class:!0,type:!0});var Gl=p(ye);ie.l(Gl),Gl.forEach(c),Ft.forEach(c),al=I(zt),q&&q.l(zt),zt.forEach(c),rl=I(_),Ge=d(_,"DIV",{class:!0});var Kl=p(Ge);K=d(Kl,"BUTTON",{class:!0,type:!0});var Jt=p(K);Ke=d(Jt,"DIV",{class:!0});var Ql=p(Ke);Et=P(Ql,ut),Ql.forEach(c),nl=I(Jt),Y&&Y.l(Jt),Jt.forEach(c),Kl.forEach(c),_.forEach(c),this.h()},h(){i(l,"class",r=(s[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"),i(l,"type","button"),i(a,"class","self-center"),i(t,"class","flex justify-center my-4"),i(y,"class","text-sm font-semibold mb-1"),i(o,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(o,"placeholder",b=s[11].t("Name your model")),o.required=!0,i(g,"class","flex-1"),i(R,"class","text-sm font-semibold mb-1"),i(Z,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),i(Z,"placeholder",He=s[11].t("Add a model id")),Z.value=s[5],Z.disabled=!0,Z.required=!0,i(B,"class","flex-1"),i(m,"class","mt-2 my-1 flex space-x-2"),i(Ie,"class","self-center text-sm font-semibold"),i(se,"class","p-1 text-xs flex rounded transition"),i(se,"type","button"),i(de,"class","flex w-full justify-between items-center"),i(le,"class","my-1"),i(st,"class","dark:border-gray-850 my-1"),i(w,"class","self-center text-sm font-semibold"),i(Ce,"class","flex w-full justify-between"),i(x,"class","text-xs font-semibold mb-2"),i($,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),i($,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),i($,"rows","4"),i(G,"class","my-1"),i(ze,"class","self-center text-xs font-semibold"),i(ve,"class","p-1 px-3 text-xs flex rounded transition"),i(ve,"type","button"),i(De,"class","flex w-full justify-between"),i(L,"class","mt-2"),i(pe,"class","my-2"),i(gt,"class","dark:border-gray-850 my-1"),i(Fe,"class","self-center text-sm font-semibold"),i(ke,"class","p-1 text-xs flex rounded transition"),i(ke,"type","button"),i(Ve,"class","flex w-full justify-between items-center"),i(be,"class","flex w-full justify-between items-center"),i(ge,"class","my-1"),i(We,"class","self-center text-sm font-semibold"),i(Je,"class","flex w-full justify-between mb-1"),i(Be,"class","flex flex-col"),i(Te,"class","my-1"),i(Xe,"class","self-center text-sm font-semibold"),i(qe,"class","flex w-full justify-between items-center"),i(Ye,"class","mt-2"),i(Ne,"class","my-1"),i(Ze,"class","self-center text-sm font-semibold"),i(ye,"class","p-1 px-3 text-xs flex rounded transition"),i(ye,"type","button"),i(Pe,"class","flex w-full justify-between mb-2"),i(we,"class","my-2 text-gray-300 dark:text-gray-700"),i(Ke,"class","self-center font-medium"),i(K,"class",It="text-sm px-3 py-2 transition rounded-xl "+(s[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),i(K,"type","submit"),K.disabled=s[0],i(Ge,"class","my-2 flex justify-end mb-20"),i(e,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10")},m(u,_){O(u,e,_),n(e,t),n(t,a),n(a,l),ae.m(l,null),n(e,h),n(e,m),n(m,g),n(g,y),n(y,T),n(y,v),n(g,N),n(g,V),n(V,o),ce(o,s[6]),n(m,k),n(m,B),n(B,R),n(R,fe),n(R,$e),n(B,et),n(B,Ae),n(Ae,Z),n(e,tt),z&&z.m(e,null),n(e,Le),n(e,le),n(le,de),n(de,Ie),n(Ie,Re),n(de,lt),n(de,se),re.m(se,null),n(le,pt),F&&F.m(le,null),n(e,ht),n(e,st),n(e,mt),n(e,pe),n(pe,Ce),n(Ce,w),n(w,he),n(pe,Q),n(pe,L),n(L,G),n(G,x),n(x,me),n(G,at),n(G,Oe),n(Oe,$),ce($,s[7].params.system),n(L,Wt),n(L,De),n(De,ze),n(ze,vt),n(De,qt),n(De,ve),ne.m(ve,null),n(L,Xt),U&&U.m(L,null),n(e,Yt),n(e,gt),n(e,Zt),n(e,ge),n(ge,be),n(be,Ve),n(Ve,Fe),n(Fe,bt),n(Ve,Gt),n(Ve,ke),oe.m(ke,null),n(be,Kt),J&&J.m(be,null),n(ge,Qt),W&&W.m(ge,null),n(e,xt),n(e,Te),n(Te,Je),n(Je,We),n(We,kt),n(Te,$t),n(Te,Be);for(let ee=0;ee<M.length;ee+=1)M[ee]&&M[ee].m(Be,null);n(e,el),n(e,Ne),n(Ne,qe),n(qe,Xe),n(Xe,wt),n(Ne,tl),n(Ne,Ye),kl(Se,Ye,null),n(e,ll),n(e,we),n(we,Pe),n(Pe,Ze),n(Ze,yt),n(Pe,sl),n(Pe,ye),ie.m(ye,null),n(we,al),q&&q.m(we,null),n(e,rl),n(e,Ge),n(Ge,K),n(K,Ke),n(Ke,Et),n(K,nl),Y&&Y.m(K,null),j=!0,ol||(yl=[X(l,"click",s[19]),X(o,"input",s[20]),X(se,"click",s[23]),X($,"input",s[25]),X(ve,"click",s[26]),X(ke,"click",s[29]),X(ye,"click",s[36]),X(e,"submit",Es(s[37]))],ol=!0)},p(u,_){var ft,dt;if(Dt===(Dt=El(u))&&ae?ae.p(u,_):(ae.d(1),ae=Dt(u),ae&&(ae.c(),ae.m(l,null))),(!j||_[0]&1152&&r!==(r=(u[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"))&&i(l,"class",r),(!j||_[0]&2048)&&D!==(D=u[11].t("Name")+"")&&C(T,D),(!j||_[0]&2048&&b!==(b=u[11].t("Name your model")))&&i(o,"placeholder",b),_[0]&64&&o.value!==u[6]&&ce(o,u[6]),(!j||_[0]&2048)&&ue!==(ue=u[11].t("Model ID")+"")&&C(fe,ue),(!j||_[0]&2048&&He!==(He=u[11].t("Add a model id")))&&i(Z,"placeholder",He),(!j||_[0]&32&&Z.value!==u[5])&&(Z.value=u[5]),u[12].preset?z?z.p(u,_):(z=is(u),z.c(),z.m(e,Le)):z&&(z.d(1),z=null),(!j||_[0]&2048)&&Me!==(Me=u[11].t("Description")+"")&&C(Re,Me),Vt===(Vt=Il(u))&&re?re.p(u,_):(re.d(1),re=Vt(u),re&&(re.c(),re.m(se,null))),u[7].meta.description!==null?F?F.p(u,_):(F=us(u),F.c(),F.m(le,null)):F&&(F.d(1),F=null),(!j||_[0]&2048)&&A!==(A=u[11].t("Model Params")+"")&&C(he,A),(!j||_[0]&2048)&&_e!==(_e=u[11].t("System Prompt")+"")&&C(me,_e),_[0]&1152&&ce($,u[7].params.system),(!j||_[0]&2048)&&rt!==(rt=u[11].t("Advanced Params")+"")&&C(vt,rt),Tt===(Tt=Dl(u))&&ne?ne.p(u,_):(ne.d(1),ne=Tt(u),ne&&(ne.c(),ne.m(ve,null))),u[3]?U?(U.p(u,_),_[0]&8&&te(U,1)):(U=fs(u),U.c(),te(U,1),U.m(L,null)):U&&(pl(),Ee(U,1,1,()=>{U=null}),_l()),(!j||_[0]&2048)&&nt!==(nt=u[11].t("Prompt suggestions")+"")&&C(bt,nt),Nt===(Nt=Vl(u))&&oe?oe.p(u,_):(oe.d(1),oe=Nt(u),oe&&(oe.c(),oe.m(ke,null))),u[7].meta.suggestion_prompts!==null?J?J.p(u,_):(J=ds(u),J.c(),J.m(be,null)):J&&(J.d(1),J=null),u[7].meta.suggestion_prompts?W?W.p(u,_):(W=_s(u),W.c(),W.m(ge,null)):W&&(W.d(1),W=null),(!j||_[0]&2048)&&ot!==(ot=u[11].t("Capabilities")+"")&&C(kt,ot),_[0]&2560){je=xe(Object.keys(u[9]));let H;for(H=0;H<je.length;H+=1){const Ue=as(u,je,H);M[H]?(M[H].p(Ue,_),te(M[H],1)):(M[H]=hs(Ue),M[H].c(),te(M[H],1),M[H].m(Be,null))}for(pl(),H=je.length;H<M.length;H+=1)bs(H);_l()}(!j||_[0]&2048)&&it!==(it=u[11].t("Tags")+"")&&C(wt,it);const ee={};_[0]&128&&(ee.tags=((dt=(ft=u[7])==null?void 0:ft.meta)==null?void 0:dt.tags)??[]),_[0]&128&&(ee.deleteTag=u[34]),_[0]&128&&(ee.addTag=u[35]),Se.$set(ee),(!j||_[0]&2048)&&ct!==(ct=u[11].t("JSON Preview")+"")&&C(yt,ct),St===(St=Tl(u))&&ie?ie.p(u,_):(ie.d(1),ie=St(u),ie&&(ie.c(),ie.m(ye,null))),u[4]?q?q.p(u,_):(q=ms(u),q.c(),q.m(we,null)):q&&(q.d(1),q=null),(!j||_[0]&2048)&&ut!==(ut=u[11].t("Save & Update")+"")&&C(Et,ut),u[0]?Y||(Y=vs(),Y.c(),Y.m(K,null)):Y&&(Y.d(1),Y=null),(!j||_[0]&1&&It!==(It="text-sm px-3 py-2 transition rounded-xl "+(u[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&i(K,"class",It),(!j||_[0]&1)&&(K.disabled=u[0])},i(u){if(!j){te(U);for(let _=0;_<je.length;_+=1)te(M[_]);te(Se.$$.fragment,u),j=!0}},o(u){Ee(U),M=M.filter(Boolean);for(let _=0;_<M.length;_+=1)Ee(M[_]);Ee(Se.$$.fragment,u),j=!1},d(u){u&&c(e),ae.d(),z&&z.d(),re.d(),F&&F.d(),ne.d(),U&&U.d(),oe.d(),J&&J.d(),W&&W.d(),ml(M,u),wl(Se),ie.d(),q&&q.d(),Y&&Y.d(),ol=!1,hl(yl)}}}function Us(s){let e,t;return{c(){e=$l("svg"),t=$l("path"),this.h()},l(a){e=es(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=p(e);t=es(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(c),l.forEach(c),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),i(t,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class","size-8")},m(a,l){O(a,e,l),n(e,t)},p:vl,d(a){a&&c(e)}}}function Hs(s){let e,t;return{c(){e=f("img"),this.h()},l(a){e=d(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ts(e.src,t=s[7].meta.profile_image_url)||i(e,"src",t),i(e,"alt","modelfile profile"),i(e,"class","rounded-full size-16 object-cover")},m(a,l){O(a,e,l)},p(a,l){l[0]&1152&&!ts(e.src,t=a[7].meta.profile_image_url)&&i(e,"src",t)},d(a){a&&c(e)}}}function is(s){let e,t,a=s[11].t("Base Model (From)")+"",l,r,h,m,g,y=s[11].t("Select a base model")+"",D,T,v,N=xe(s[10].filter(s[21])),V=[];for(let o=0;o<N.length;o+=1)V[o]=cs(ns(s,N,o));return{c(){e=f("div"),t=f("div"),l=S(a),r=E(),h=f("div"),m=f("select"),g=f("option"),D=S(y);for(let o=0;o<V.length;o+=1)V[o].c();this.h()},l(o){e=d(o,"DIV",{class:!0});var b=p(e);t=d(b,"DIV",{class:!0});var k=p(t);l=P(k,a),k.forEach(c),r=I(b),h=d(b,"DIV",{});var B=p(h);m=d(B,"SELECT",{class:!0,placeholder:!0});var R=p(m);g=d(R,"OPTION",{class:!0});var ue=p(g);D=P(ue,y),ue.forEach(c);for(let fe=0;fe<V.length;fe+=1)V[fe].l(R);R.forEach(c),B.forEach(c),b.forEach(c),this.h()},h(){i(t,"class","text-sm font-semibold mb-1"),g.__value=null,ce(g,g.__value),i(g,"class","text-gray-900"),i(m,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(m,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),m.required=!0,s[7].base_model_id===void 0&&Is(()=>s[22].call(m)),i(e,"class","my-1")},m(o,b){O(o,e,b),n(e,t),n(t,l),n(e,r),n(e,h),n(h,m),n(m,g),n(g,D);for(let k=0;k<V.length;k+=1)V[k]&&V[k].m(m,null);xl(m,s[7].base_model_id,!0),T||(v=X(m,"change",s[22]),T=!0)},p(o,b){if(b[0]&2048&&a!==(a=o[11].t("Base Model (From)")+"")&&C(l,a),b[0]&2048&&y!==(y=o[11].t("Select a base model")+"")&&C(D,y),b[0]&5120){N=xe(o[10].filter(o[21]));let k;for(k=0;k<N.length;k+=1){const B=ns(o,N,k);V[k]?V[k].p(B,b):(V[k]=cs(B),V[k].c(),V[k].m(m,null))}for(;k<V.length;k+=1)V[k].d(1);V.length=N.length}b[0]&1152&&xl(m,o[7].base_model_id)},d(o){o&&c(e),ml(V,o),T=!1,v()}}}function cs(s){let e,t=s[12].name+"",a,l;return{c(){e=f("option"),a=S(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var h=p(e);a=P(h,t),h.forEach(c),this.h()},h(){e.__value=l=s[12].id,ce(e,e.__value),i(e,"class","text-gray-900")},m(r,h){O(r,e,h),n(e,a)},p(r,h){h[0]&5120&&t!==(t=r[12].name+"")&&C(a,t),h[0]&5120&&l!==(l=r[12].id)&&(e.__value=l,ce(e,e.__value))},d(r){r&&c(e)}}}function Ls(s){let e,t=s[11].t("Custom")+"",a;return{c(){e=f("span"),a=S(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Custom")+"")&&C(a,t)},d(l){l&&c(e)}}}function Rs(s){let e,t=s[11].t("Default")+"",a;return{c(){e=f("span"),a=S(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Default")+"")&&C(a,t)},d(l){l&&c(e)}}}function us(s){let e,t,a,l;return{c(){e=f("input"),this.h()},l(r){e=d(r,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","mt-1 px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(e,"placeholder",t=s[11].t("Add a short description about what this model does"))},m(r,h){O(r,e,h),ce(e,s[7].meta.description),a||(l=X(e,"input",s[24]),a=!0)},p(r,h){h[0]&2048&&t!==(t=r[11].t("Add a short description about what this model does"))&&i(e,"placeholder",t),h[0]&1152&&e.value!==r[7].meta.description&&ce(e,r[7].meta.description)},d(r){r&&c(e),a=!1,l()}}}function zs(s){let e,t=s[11].t("Show")+"",a;return{c(){e=f("span"),a=S(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Show")+"")&&C(a,t)},d(l){l&&c(e)}}}function Fs(s){let e,t=s[11].t("Hide")+"",a;return{c(){e=f("span"),a=S(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Hide")+"")&&C(a,t)},d(l){l&&c(e)}}}function fs(s){let e,t,a,l;function r(m){s[27](m)}let h={};return s[8]!==void 0&&(h.params=s[8]),t=new Cs({props:h}),gs.push(()=>Ss(t,"params",r)),t.$on("change",s[28]),{c(){e=f("div"),gl(t.$$.fragment),this.h()},l(m){e=d(m,"DIV",{class:!0});var g=p(e);bl(t.$$.fragment,g),g.forEach(c),this.h()},h(){i(e,"class","my-2")},m(m,g){O(m,e,g),kl(t,e,null),l=!0},p(m,g){const y={};!a&&g[0]&256&&(a=!0,y.params=m[8],Ds(()=>a=!1)),t.$set(y)},i(m){l||(te(t.$$.fragment,m),l=!0)},o(m){Ee(t.$$.fragment,m),l=!1},d(m){m&&c(e),wl(t)}}}function Js(s){let e,t=s[11].t("Custom")+"",a;return{c(){e=f("span"),a=S(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Custom")+"")&&C(a,t)},d(l){l&&c(e)}}}function Ws(s){let e,t=s[11].t("Default")+"",a;return{c(){e=f("span"),a=S(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Default")+"")&&C(a,t)},d(l){l&&c(e)}}}function ds(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,l;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),_t(e)!=="svelte-j580ct"&&(e.innerHTML=t),this.h()},h(){i(e,"class","p-1 px-2 text-xs flex rounded transition"),i(e,"type","button")},m(r,h){O(r,e,h),a||(l=X(e,"click",s[30]),a=!0)},p:vl,d(r){r&&c(e),a=!1,l()}}}function _s(s){let e;function t(r,h){return r[7].meta.suggestion_prompts.length>0?Xs:qs}let a=t(s),l=a(s);return{c(){e=f("div"),l.c(),this.h()},l(r){e=d(r,"DIV",{class:!0});var h=p(e);l.l(h),h.forEach(c),this.h()},h(){i(e,"class","flex flex-col space-y-1 mt-2")},m(r,h){O(r,e,h),l.m(e,null)},p(r,h){a===(a=t(r))&&l?l.p(r,h):(l.d(1),l=a(r),l&&(l.c(),l.m(e,null)))},d(r){r&&c(e),l.d()}}}function qs(s){let e,t="No suggestion prompts";return{c(){e=f("div"),e.textContent=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),_t(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs text-center")},m(a,l){O(a,e,l)},p:vl,d(a){a&&c(e)}}}function Xs(s){let e,t=xe(s[7].meta.suggestion_prompts),a=[];for(let l=0;l<t.length;l+=1)a[l]=ps(rs(s,t,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=ls()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=ls()},m(l,r){for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(l,r);O(l,e,r)},p(l,r){if(r[0]&2176){t=xe(l[7].meta.suggestion_prompts);let h;for(h=0;h<t.length;h+=1){const m=rs(l,t,h);a[h]?a[h].p(m,r):(a[h]=ps(m),a[h].c(),a[h].m(e.parentNode,e))}for(;h<a.length;h+=1)a[h].d(1);a.length=t.length}},d(l){l&&c(e),ml(a,l)}}}function ps(s){let e,t,a,l,r,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,y;function D(){s[31].call(t,s[44],s[45])}function T(){return s[32](s[45])}return{c(){e=f("div"),t=f("input"),l=E(),r=f("button"),r.innerHTML=h,m=E(),this.h()},l(v){e=d(v,"DIV",{class:!0});var N=p(e);t=d(N,"INPUT",{class:!0,placeholder:!0}),l=I(N),r=d(N,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),_t(r)!=="svelte-8f7b7y"&&(r.innerHTML=h),m=I(N),N.forEach(c),this.h()},h(){i(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),i(t,"placeholder",a=s[11].t("Write a prompt suggestion (e.g. Who are you?)")),i(r,"class","px-2"),i(r,"type","button"),i(e,"class","flex border dark:border-gray-600 rounded-lg")},m(v,N){O(v,e,N),n(e,t),ce(t,s[43].content),n(e,l),n(e,r),n(e,m),g||(y=[X(t,"input",D),X(r,"click",T)],g=!0)},p(v,N){s=v,N[0]&2048&&a!==(a=s[11].t("Write a prompt suggestion (e.g. Who are you?)"))&&i(t,"placeholder",a),N[0]&1152&&t.value!==s[43].content&&ce(t,s[43].content)},d(v){v&&c(e),g=!1,hl(y)}}}function hs(s){let e,t,a,l,r=s[11].t(s[40])+"",h,m,g;function y(...D){return s[33](s[40],...D)}return t=new Bs({props:{state:s[9][s[40]]?"checked":"unchecked"}}),t.$on("change",y),{c(){e=f("div"),gl(t.$$.fragment),a=E(),l=f("div"),h=S(r),m=E(),this.h()},l(D){e=d(D,"DIV",{class:!0});var T=p(e);bl(t.$$.fragment,T),a=I(T),l=d(T,"DIV",{class:!0});var v=p(l);h=P(v,r),v.forEach(c),m=I(T),T.forEach(c),this.h()},h(){i(l,"class","py-0.5 text-sm w-full capitalize"),i(e,"class","flex items-center gap-2")},m(D,T){O(D,e,T),kl(t,e,null),n(e,a),n(e,l),n(l,h),n(e,m),g=!0},p(D,T){s=D;const v={};T[0]&512&&(v.state=s[9][s[40]]?"checked":"unchecked"),t.$set(v),(!g||T[0]&2560)&&r!==(r=s[11].t(s[40])+"")&&C(h,r)},i(D){g||(te(t.$$.fragment,D),g=!0)},o(D){Ee(t.$$.fragment,D),g=!1},d(D){D&&c(e),wl(t)}}}function Ys(s){let e,t=s[11].t("Show")+"",a;return{c(){e=f("span"),a=S(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Show")+"")&&C(a,t)},d(l){l&&c(e)}}}function Zs(s){let e,t=s[11].t("Hide")+"",a;return{c(){e=f("span"),a=S(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Hide")+"")&&C(a,t)},d(l){l&&c(e)}}}function ms(s){let e,t,a;return{c(){e=f("div"),t=f("textarea"),this.h()},l(l){e=d(l,"DIV",{});var r=p(e);t=d(r,"TEXTAREA",{class:!0,rows:!0}),p(t).forEach(c),r.forEach(c),this.h()},h(){i(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(t,"rows","10"),t.value=a=JSON.stringify(s[7],null,2),t.disabled=!0,t.readOnly=!0},m(l,r){O(l,e,r),n(e,t)},p(l,r){r[0]&1152&&a!==(a=JSON.stringify(l[7],null,2))&&(t.value=a)},d(l){l&&c(e)}}}function vs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),_t(e)!=="svelte-1k8nuce"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-1.5 self-center")},m(a,l){O(a,e,l)},d(a){a&&c(e)}}}function Gs(s){let e,t,a,l,r,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',m,g,y=s[11].t("Back")+"",D,T,v,N,V,o=s[12]&&os(s);return{c(){e=f("div"),t=f("input"),a=E(),l=f("button"),r=f("div"),r.innerHTML=h,m=E(),g=f("div"),D=S(y),T=E(),o&&o.c(),this.h()},l(b){e=d(b,"DIV",{class:!0});var k=p(e);t=d(k,"INPUT",{type:!0,accept:!0}),a=I(k),l=d(k,"BUTTON",{class:!0});var B=p(l);r=d(B,"DIV",{class:!0,"data-svelte-h":!0}),_t(r)!=="svelte-1klo87r"&&(r.innerHTML=h),m=I(B),g=d(B,"DIV",{class:!0});var R=p(g);D=P(R,y),R.forEach(c),B.forEach(c),T=I(k),o&&o.l(k),k.forEach(c),this.h()},h(){i(t,"type","file"),t.hidden=!0,i(t,"accept","image/*"),i(r,"class","self-center"),i(g,"class","self-center font-medium text-sm"),i(l,"class","flex space-x-1"),i(e,"class","w-full max-h-full")},m(b,k){O(b,e,k),n(e,t),s[15](t),n(e,a),n(e,l),n(l,r),n(l,m),n(l,g),n(g,D),n(e,T),o&&o.m(e,null),v=!0,N||(V=[X(t,"change",s[16]),X(t,"change",s[17]),X(l,"click",s[18])],N=!0)},p(b,k){(!v||k[0]&2048)&&y!==(y=b[11].t("Back")+"")&&C(D,y),b[12]?o?(o.p(b,k),k[0]&4096&&te(o,1)):(o=os(b),o.c(),te(o,1),o.m(e,null)):o&&(pl(),Ee(o,1,1,()=>{o=null}),_l())},i(b){v||(te(o),v=!0)},o(b){Ee(o),v=!1},d(b){b&&c(e),s[15](null),o&&o.d(),N=!1,hl(V)}}}function Ks(s,e,t){let a,l,r;fl(s,ss,w=>t(10,a=w)),fl(s,As,w=>t(39,l=w));const h=ws("i18n");fl(s,h,w=>t(11,r=w));let m=!1,g,y,D=!1,T=!1,v=null,N="",V="",o={id:"",base_model_id:null,name:"",meta:{profile_image_url:"/favicon.png",description:"",suggestion_prompts:null,tags:[]},params:{system:""}},b={},k={vision:!0};const B=async()=>{t(0,m=!0),t(7,o.id=N,o),t(7,o.name=V,o),t(7,o.meta.capabilities=k,o),t(7,o.params.stop=b.stop?b.stop.split(",").filter(A=>A.trim()):null,o),Object.keys(o.params).forEach(A=>{(o.params[A]===""||o.params[A]===null)&&delete o.params[A]}),await Ms(localStorage.token,o.id,o)&&(await ss.set(await Os(localStorage.token)),Ps.success("Model updated successfully"),await dl("/workspace/models")),t(0,m=!1)};ys(()=>{var A,he,Q,L,G;const w=l.url.searchParams.get("id");w?(t(12,v=a.find(x=>x.id===w)),v?(t(5,N=v.id),t(6,V=v.name),t(7,o={...o,...JSON.parse(JSON.stringify(v!=null&&v.info?v==null?void 0:v.info:{id:v.id,name:v.name}))}),v.preset&&v.owned_by==="ollama"&&!o.base_model_id.includes(":")&&t(7,o.base_model_id=`${o.base_model_id}:latest`,o),t(8,b={...b,...(A=v==null?void 0:v.info)==null?void 0:A.params}),t(8,b.stop=b!=null&&b.stop?((b==null?void 0:b.stop)??[]).join(","):null,b),(v==null?void 0:v.owned_by)==="openai"&&t(9,k.usage=!1,k),(Q=(he=v==null?void 0:v.info)==null?void 0:he.meta)!=null&&Q.capabilities&&t(9,k={...k,...(G=(L=v==null?void 0:v.info)==null?void 0:L.meta)==null?void 0:G.capabilities}),console.log(v)):dl("/workspace/models")):dl("/workspace/models")});function R(w){gs[w?"unshift":"push"](()=>{g=w,t(1,g)})}function ue(){y=this.files,t(2,y)}const fe=()=>{let w=new FileReader;w.onload=A=>{let he=`${A.target.result}`;const Q=new Image;Q.src=he,Q.onload=function(){const L=document.createElement("canvas"),G=L.getContext("2d"),x=Q.width/Q.height;let _e,me;x>1?(_e=100*x,me=100):(_e=100,me=100/x),L.width=100,L.height=100;const at=(100-_e)/2,Oe=(100-me)/2;G.drawImage(Q,at,Oe,_e,me);const $=L.toDataURL("image/jpeg");t(7,o.meta.profile_image_url=$,o),t(2,y=null)}},y&&y.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(y[0].type)?w.readAsDataURL(y[0]):(console.log(`Unsupported File Type '${y[0].type}'.`),t(2,y=null))},$e=()=>{history.back()},et=()=>{g.click()};function Ae(){V=this.value,t(6,V)}const Z=w=>w.id!==v.id&&!(w!=null&&w.preset);function He(){o.base_model_id=Vs(this),t(7,o)}const tt=()=>{o.meta.description===null?t(7,o.meta.description="",o):t(7,o.meta.description=null,o)};function Le(){o.meta.description=this.value,t(7,o)}function le(){o.params.system=this.value,t(7,o)}const de=()=>{t(3,D=!D)};function Ie(w){b=w,t(8,b)}const Me=w=>{t(7,o.params={...o.params,...b},o)},Re=()=>{o.meta.suggestion_prompts===null?t(7,o.meta.suggestion_prompts=[{content:""}],o):t(7,o.meta.suggestion_prompts=null,o)},lt=()=>{(o.meta.suggestion_prompts.length===0||o.meta.suggestion_prompts.at(-1).content!=="")&&t(7,o.meta.suggestion_prompts=[...o.meta.suggestion_prompts,{content:""}],o)};function se(w,A){w[A].content=this.value,t(7,o)}return[m,g,y,D,T,N,V,o,b,k,a,r,v,h,B,R,ue,fe,$e,et,Ae,Z,He,tt,Le,le,de,Ie,Me,Re,lt,se,w=>{o.meta.suggestion_prompts.splice(w,1),t(7,o)},(w,A)=>{t(9,k[w]=A.detail==="checked",k)},w=>{t(7,o.meta.tags=o.meta.tags.filter(A=>A.name!==w),o)},w=>{var A;console.log(w),((A=o==null?void 0:o.meta)==null?void 0:A.tags)??null?t(7,o.meta.tags=[...o.meta.tags,{name:w}],o):t(7,o.meta.tags=[{name:w}],o)},()=>{t(4,T=!T)},()=>{B()}]}class ua extends Ts{constructor(e){super(),Ns(this,e,Ks,Gs,ks,{},null,[-1,-1])}}export{ua as component};
//# sourceMappingURL=12.2e2b2dae.js.map
