import{s as ut,p as ht,X as Dt,P as wt,w as rt,o as xt,f,l as P,a as V,g as h,h as _,m as B,d as u,c as x,R as Ue,j as r,i as K,r as a,Q as de,u as le,O as Ht,n as Z,v as $e,U as qt,V as Lt,C as it,T as Rt,e as Ot,K as Nt,z as ze,A as Ke,_ as gt,t as Ll,M as Hl}from"../chunks/scheduler.e3781972.js";import{S as vt,i as pt,f as Vt,b as Qe,d as Ye,m as Xe,a as xe,t as Me,e as Je,g as St,c as Mt}from"../chunks/index.2a4758a9.js";import{g as Al}from"../chunks/globals.7f7f1b26.js";import{e as bt}from"../chunks/each.9b39a839.js";import{a as Pe}from"../chunks/Toaster.svelte_svelte_type_style_lang.143b8570.js";import{f as Cl}from"../chunks/FileSaver.min.898eb36f.js";import{n as lt,e as Pl,c as Bl,S as kl,r as yl,W as Ol}from"../chunks/index.f3427c3e.js";import{u as Nl,g as ot,t as Gt,c as jt,d as Wt}from"../chunks/index.8bf07951.js";import{g as El,s as Ul,c as Rl,d as jl,e as ql,f as Il,h as Zl,i as zl,j as Dl,k as Vl,u as xl,A as Kl}from"../chunks/AddFilesPlaceholder.84ec2b9f.js";import{t as Tl}from"../chunks/index.b3b584e7.js";import{C as Sl}from"../chunks/Checkbox.61519300.js";import{M as Zt}from"../chunks/dayjs.min.a430b708.js";import{T as Ml}from"../chunks/Tags.aef6e925.js";import"../chunks/sha256.8dba905a.js";import{S as Fl}from"../chunks/Switch.31f8d339.js";import{g as Gl}from"../chunks/index.23e4ce77.js";function Wl(s){let e,t,l,o=s[3].t("Edit Doc")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,p,g,k,w,D=s[3].t("Name Tag")+"",S,L,I,T,M="#",H,C,A,te,$,z=s[3].t("Title")+"",re,se,F,ne,pe,Q,Y,N=s[3].t("Tags")+"",G,ae,ee,U,E,O,oe=s[3].t("Save")+"",q,W,we,ce;return ee=new Ml({props:{tags:s[1],addTag:s[6],deleteTag:s[7]}}),{c(){e=f("div"),t=f("div"),l=f("div"),i=P(o),n=V(),d=f("button"),d.innerHTML=c,b=V(),m=f("div"),v=f("div"),p=f("form"),g=f("div"),k=f("div"),w=f("div"),S=P(D),L=V(),I=f("div"),T=f("div"),T.textContent=M,H=V(),C=f("input"),A=V(),te=f("div"),$=f("div"),re=P(z),se=V(),F=f("div"),ne=f("input"),pe=V(),Q=f("div"),Y=f("div"),G=P(N),ae=V(),Qe(ee.$$.fragment),U=V(),E=f("div"),O=f("button"),q=P(oe),this.h()},l(X){e=h(X,"DIV",{});var ie=_(e);t=h(ie,"DIV",{class:!0});var j=_(t);l=h(j,"DIV",{class:!0});var fe=_(l);i=B(fe,o),fe.forEach(u),n=x(j),d=h(j,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(d)!=="svelte-745w2y"&&(d.innerHTML=c),j.forEach(u),b=x(ie),m=h(ie,"DIV",{class:!0});var be=_(m);v=h(be,"DIV",{class:!0});var He=_(v);p=h(He,"FORM",{class:!0});var Ee=_(p);g=h(Ee,"DIV",{class:!0});var Se=_(g);k=h(Se,"DIV",{class:!0});var _e=_(k);w=h(_e,"DIV",{class:!0});var Be=_(w);S=B(Be,D),Be.forEach(u),L=x(_e),I=h(_e,"DIV",{class:!0});var he=_(I);T=h(he,"DIV",{class:!0,"data-svelte-h":!0}),Ue(T)!=="svelte-113b805"&&(T.textContent=M),H=x(he),C=h(he,"INPUT",{class:!0,type:!0,autocomplete:!0}),he.forEach(u),_e.forEach(u),A=x(Se),te=h(Se,"DIV",{class:!0});var me=_(te);$=h(me,"DIV",{class:!0});var Oe=_($);re=B(Oe,z),Oe.forEach(u),se=x(me),F=h(me,"DIV",{class:!0});var Ne=_(F);ne=h(Ne,"INPUT",{class:!0,type:!0,autocomplete:!0}),Ne.forEach(u),me.forEach(u),pe=x(Se),Q=h(Se,"DIV",{class:!0});var ge=_(Q);Y=h(ge,"DIV",{class:!0});var ke=_(Y);G=B(ke,N),ke.forEach(u),ae=x(ge),Ye(ee.$$.fragment,ge),ge.forEach(u),Se.forEach(u),U=x(Ee),E=h(Ee,"DIV",{class:!0});var Ie=_(E);O=h(Ie,"BUTTON",{class:!0,type:!0});var Re=_(O);q=B(Re,oe),Re.forEach(u),Ie.forEach(u),Ee.forEach(u),He.forEach(u),be.forEach(u),ie.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(w,"class","mb-1 text-xs text-gray-500"),r(T,"class","bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),r(C,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),r(C,"type","text"),r(C,"autocomplete","off"),C.required=!0,r(I,"class","flex flex-1"),r(k,"class","flex flex-col w-full"),r($,"class","mb-1 text-xs text-gray-500"),r(ne,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),r(ne,"type","text"),r(ne,"autocomplete","off"),ne.required=!0,r(F,"class","flex-1"),r(te,"class","flex flex-col w-full"),r(Y,"class","mb-2 text-xs text-gray-500"),r(Q,"class","flex flex-col w-full"),r(g,"class","flex flex-col space-y-1.5"),r(O,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(O,"type","submit"),r(E,"class","flex justify-end pt-5 text-sm font-medium"),r(p,"class","flex flex-col w-full"),r(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(X,ie){K(X,e,ie),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,p),a(p,g),a(g,k),a(k,w),a(w,S),a(k,L),a(k,I),a(I,T),a(I,H),a(I,C),de(C,s[2].name),a(g,A),a(g,te),a(te,$),a($,re),a(te,se),a(te,F),a(F,ne),de(ne,s[2].title),a(g,pe),a(g,Q),a(Q,Y),a(Y,G),a(Q,ae),Xe(ee,Q,null),a(p,U),a(p,E),a(E,O),a(O,q),W=!0,we||(ce=[le(d,"click",s[9]),le(C,"input",s[10]),le(ne,"input",s[11]),le(p,"submit",Ht(s[12]))],we=!0)},p(X,ie){(!W||ie&8)&&o!==(o=X[3].t("Edit Doc")+"")&&Z(i,o),(!W||ie&8)&&D!==(D=X[3].t("Name Tag")+"")&&Z(S,D),ie&4&&C.value!==X[2].name&&de(C,X[2].name),(!W||ie&8)&&z!==(z=X[3].t("Title")+"")&&Z(re,z),ie&4&&ne.value!==X[2].title&&de(ne,X[2].title),(!W||ie&8)&&N!==(N=X[3].t("Tags")+"")&&Z(G,N);const j={};ie&2&&(j.tags=X[1]),ee.$set(j),(!W||ie&8)&&oe!==(oe=X[3].t("Save")+"")&&Z(q,oe)},i(X){W||(xe(ee.$$.fragment,X),W=!0)},o(X){Me(ee.$$.fragment,X),W=!1},d(X){X&&u(e),Je(ee),we=!1,$e(ce)}}}function Ql(s){let e,t,l;function o(n){s[13](n)}let i={size:"sm",$$slots:{default:[Wl]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Zt({props:i}),ht.push(()=>Vt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&16399&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],Dt(()=>t=!1)),e.$set(c)},i(n){l||(xe(e.$$.fragment,n),l=!0)},o(n){Me(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function Yl(s,e,t){let l;const o=wt("i18n");rt(s,o,S=>t(3,l=S));let{show:i=!1}=e,{selectedDoc:n}=e,d=[],c={name:"",title:"",content:null};const b=async()=>{await Nl(localStorage.token,n.name,{title:c.title,name:c.name}).catch(L=>{Pe.error(L)})&&(t(0,i=!1),lt.set(await ot(localStorage.token)))},m=async S=>{!d.find(L=>L.name===S)&&S!==""?(t(1,d=[...d,{name:S}]),await Gt(localStorage.token,c.name,{name:c.name,tags:d}),lt.set(await ot(localStorage.token))):console.log("tag already exists")},v=async S=>{t(1,d=d.filter(L=>L.name!==S)),await Gt(localStorage.token,c.name,{name:c.name,tags:d}),lt.set(await ot(localStorage.token))};xt(()=>{var S;n&&(t(2,c=JSON.parse(JSON.stringify(n))),t(1,d=((S=c==null?void 0:c.content)==null?void 0:S.tags)??[]))});const p=()=>{t(0,i=!1)};function g(){c.name=this.value,t(2,c)}function k(){c.title=this.value,t(2,c)}const w=()=>{b()};function D(S){i=S,t(0,i)}return s.$$set=S=>{"show"in S&&t(0,i=S.show),"selectedDoc"in S&&t(8,n=S.selectedDoc)},[i,d,c,l,o,b,m,v,n,p,g,k,w,D]}class Xl extends vt{constructor(e){super(),pt(this,e,Yl,Ql,ut,{show:0,selectedDoc:8})}}function Qt(s,e,t){const l=s.slice();return l[36]=e[t],l}function Yt(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1q5d1z1"&&(e.innerHTML=t),this.h()},h(){r(e,"class","ml-3 self-center")},m(l,o){K(l,e,o)},d(l){l&&u(e)}}}function Xt(s){let e,t,l,o,i,n,d,c;return{c(){e=f("div"),t=f("input"),o=V(),i=f("input"),this.h()},l(b){e=h(b,"DIV",{class:!0});var m=_(e);t=h(m,"INPUT",{class:!0,placeholder:!0}),o=x(m),i=h(m,"INPUT",{class:!0,placeholder:!0}),m.forEach(u),this.h()},h(){r(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(t,"placeholder",l=s[11].t("API Base URL")),t.required=!0,r(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(i,"placeholder",n=s[11].t("API Key")),i.required=!0,r(e,"class","my-0.5 flex gap-2")},m(b,m){K(b,e,m),a(e,t),de(t,s[9]),a(e,o),a(e,i),de(i,s[8]),d||(c=[le(t,"input",s[22]),le(i,"input",s[23])],d=!0)},p(b,m){m[0]&2048&&l!==(l=b[11].t("API Base URL"))&&r(t,"placeholder",l),m[0]&512&&t.value!==b[9]&&de(t,b[9]),m[0]&2048&&n!==(n=b[11].t("API Key"))&&r(i,"placeholder",n),m[0]&256&&i.value!==b[8]&&de(i,b[8])},d(b){b&&u(e),d=!1,$e(c)}}}function Jl(s){let e,t=s[11].t("Off")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=_(e);l=B(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){K(o,e,i),a(e,l)},p(o,i){i[0]&2048&&t!==(t=o[11].t("Off")+"")&&Z(l,t)},d(o){o&&u(e)}}}function $l(s){let e,t=s[11].t("On")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=_(e);l=B(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){K(o,e,i),a(e,l)},p(o,i){i[0]&2048&&t!==(t=o[11].t("On")+"")&&Z(l,t)},d(o){o&&u(e)}}}function es(s){let e,t,l,o,i,n,d,c=s[5]===""&&Jt(s);return{c(){e=f("div"),t=f("div"),l=f("input"),i=V(),c&&c.c(),this.h()},l(b){e=h(b,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),i=x(m),c&&c.l(m),m.forEach(u),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",o=s[11].t("Set embedding model (e.g. {{model}})",{model:s[6].slice(-40)})),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(b,m){K(b,e,m),a(e,t),a(t,l),de(l,s[6]),a(e,i),c&&c.m(e,null),n||(d=le(l,"input",s[26]),n=!0)},p(b,m){m[0]&6208&&o!==(o=b[11].t("Set embedding model (e.g. {{model}})",{model:b[6].slice(-40)}))&&r(l,"placeholder",o),m[0]&4160&&l.value!==b[6]&&de(l,b[6]),b[5]===""?c?c.p(b,m):(c=Jt(b),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(b){b&&u(e),c&&c.d(),n=!1,d()}}}function ts(s){let e,t,l,o,i,n,d,c=!s[6]&&$t(s),b=bt(s[12].filter(ll)),m=[];for(let v=0;v<b.length;v+=1)m[v]=el(Qt(s,b,v));return{c(){e=f("div"),t=f("div"),l=f("select"),c&&c.c(),o=Ot();for(let v=0;v<m.length;v+=1)m[v].c();this.h()},l(v){e=h(v,"DIV",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var g=_(t);l=h(g,"SELECT",{class:!0,placeholder:!0});var k=_(l);c&&c.l(k),o=Ot();for(let w=0;w<m.length;w+=1)m[w].l(k);k.forEach(u),g.forEach(u),p.forEach(u),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",i=s[11].t("Select a model")),l.required=!0,s[6]===void 0&&qt(()=>s[25].call(l)),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(v,p){K(v,e,p),a(e,t),a(t,l),c&&c.m(l,null),a(l,o);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(l,null);Lt(l,s[6],!0),n||(d=le(l,"change",s[25]),n=!0)},p(v,p){if(v[6]?c&&(c.d(1),c=null):c?c.p(v,p):(c=$t(v),c.c(),c.m(l,o)),p[0]&4096){b=bt(v[12].filter(ll));let g;for(g=0;g<b.length;g+=1){const k=Qt(v,b,g);m[g]?m[g].p(k,p):(m[g]=el(k),m[g].c(),m[g].m(l,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=b.length}p[0]&2048&&i!==(i=v[11].t("Select a model"))&&r(l,"placeholder",i),p[0]&4160&&Lt(l,v[6])},d(v){v&&u(e),c&&c.d(),Nt(m,v),n=!1,d()}}}function Jt(s){let e,t,l;function o(d,c){return d[2]?ss:ls}let i=o(s),n=i(s);return{c(){e=f("button"),n.c(),this.h()},l(d){e=h(d,"BUTTON",{class:!0});var c=_(e);n.l(c),c.forEach(u),this.h()},h(){r(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[2]},m(d,c){K(d,e,c),n.m(e,null),t||(l=le(e,"click",s[27]),t=!0)},p(d,c){i!==(i=o(d))&&(n.d(1),n=i(d),n&&(n.c(),n.m(e,null))),c[0]&4&&(e.disabled=d[2])},d(d){d&&u(e),n.d(),t=!1,l()}}}function ls(s){let e,t,l;return{c(){e=ze("svg"),t=ze("path"),l=ze("path"),this.h()},l(o){e=Ke(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=Ke(i,"path",{d:!0}),_(t).forEach(u),l=Ke(i,"path",{d:!0}),_(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(o,i){K(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function ss(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,o){K(l,e,o)},d(l){l&&u(e)}}}function $t(s){let e,t=s[11].t("Select a model")+"",l;return{c(){e=f("option"),l=P(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=B(i,t),i.forEach(u),this.h()},h(){e.__value="",de(e,e.__value),e.disabled=!0,e.selected=!0},m(o,i){K(o,e,i),a(e,l)},p(o,i){i[0]&2048&&t!==(t=o[11].t("Select a model")+"")&&Z(l,t)},d(o){o&&u(e)}}}function el(s){let e,t=s[36].name+" ("+(s[36].size/1073741824).toFixed(1)+" GB)",l,o;return{c(){e=f("option"),l=P(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=_(e);l=B(n,t),n.forEach(u),this.h()},h(){e.__value=o=s[36].name,de(e,e.__value),r(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){K(i,e,n),a(e,l)},p(i,n){n[0]&4096&&t!==(t=i[36].name+" ("+(i[36].size/1024**3).toFixed(1)+" GB)")&&Z(l,t),n[0]&4096&&o!==(o=i[36].name)&&(e.__value=o,de(e,e.__value))},d(i){i&&u(e)}}}function tl(s){let e,t,l=s[11].t("Reranking Model")+"",o,i,n,d,c,b,m,v,p,g;function k(S,L){return S[3]?rs:as}let w=k(s),D=w(s);return{c(){e=f("div"),t=f("div"),o=P(l),i=V(),n=f("div"),d=f("div"),c=f("input"),m=V(),v=f("button"),D.c(),this.h()},l(S){e=h(S,"DIV",{class:!0});var L=_(e);t=h(L,"DIV",{class:!0});var I=_(t);o=B(I,l),I.forEach(u),i=x(L),n=h(L,"DIV",{class:!0});var T=_(n);d=h(T,"DIV",{class:!0});var M=_(d);c=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),m=x(T),v=h(T,"BUTTON",{class:!0});var H=_(v);D.l(H),H.forEach(u),T.forEach(u),L.forEach(u),this.h()},h(){r(t,"class","mb-2 text-sm font-medium"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"placeholder",b=s[11].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),r(d,"class","flex-1 mr-2"),r(v,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),v.disabled=s[3],r(n,"class","flex w-full"),r(e,"class","")},m(S,L){K(S,e,L),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[7]),a(n,m),a(n,v),D.m(v,null),p||(g=[le(c,"input",s[28]),le(v,"click",s[29])],p=!0)},p(S,L){L[0]&2048&&l!==(l=S[11].t("Reranking Model")+"")&&Z(o,l),L[0]&2048&&b!==(b=S[11].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&r(c,"placeholder",b),L[0]&128&&c.value!==S[7]&&de(c,S[7]),w!==(w=k(S))&&(D.d(1),D=w(S),D&&(D.c(),D.m(v,null))),L[0]&8&&(v.disabled=S[3])},d(S){S&&u(e),D.d(),p=!1,$e(g)}}}function as(s){let e,t,l;return{c(){e=ze("svg"),t=ze("path"),l=ze("path"),this.h()},l(o){e=Ke(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=Ke(i,"path",{d:!0}),_(t).forEach(u),l=Ke(i,"path",{d:!0}),_(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(o,i){K(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function rs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,o){K(l,e,o)},d(l){l&&u(e)}}}function ns(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',o,i,n=s[11].t("Reset Vector Storage")+"",d,c,b;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,o=V(),i=f("div"),d=P(n),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var v=_(e);t=h(v,"DIV",{class:!0,"data-svelte-h":!0}),Ue(t)!=="svelte-16tyzd9"&&(t.innerHTML=l),o=x(v),i=h(v,"DIV",{class:!0});var p=_(i);d=B(p,n),p.forEach(u),v.forEach(u),this.h()},h(){r(t,"class","self-center mr-3"),r(i,"class","self-center text-sm font-medium"),r(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(m,v){K(m,e,v),a(e,t),a(e,o),a(e,i),a(i,d),c||(b=le(e,"click",s[32]),c=!0)},p(m,v){v[0]&2048&&n!==(n=m[11].t("Reset Vector Storage")+"")&&Z(d,n)},d(m){m&&u(e),c=!1,b()}}}function os(s){let e,t,l,o,i,n,d,c=s[11].t("Are you sure?")+"",b,m,v,p,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',k,w,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',S,L;return{c(){e=f("div"),t=f("div"),l=ze("svg"),o=ze("path"),i=ze("path"),n=V(),d=f("span"),b=P(c),m=V(),v=f("div"),p=f("button"),p.innerHTML=g,k=V(),w=f("button"),w.innerHTML=D,this.h()},l(I){e=h(I,"DIV",{class:!0});var T=_(e);t=h(T,"DIV",{class:!0});var M=_(t);l=Ke(M,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var H=_(l);o=Ke(H,"path",{d:!0}),_(o).forEach(u),i=Ke(H,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(i).forEach(u),H.forEach(u),n=x(M),d=h(M,"SPAN",{});var C=_(d);b=B(C,c),C.forEach(u),M.forEach(u),m=x(T),v=h(T,"DIV",{class:!0});var A=_(v);p=h(A,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(p)!=="svelte-utedoe"&&(p.innerHTML=g),k=x(A),w=h(A,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(w)!=="svelte-x16t1b"&&(w.innerHTML=D),A.forEach(u),T.forEach(u),this.h()},h(){r(o,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),r(i,"fill-rule","evenodd"),r(i,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),r(i,"clip-rule","evenodd"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"viewBox","0 0 16 16"),r(l,"fill","currentColor"),r(l,"class","w-4 h-4"),r(t,"class","flex items-center space-x-3"),r(p,"class","hover:text-white transition"),r(w,"class","hover:text-white transition"),r(v,"class","flex space-x-1.5 items-center"),r(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,T){K(I,e,T),a(e,t),a(t,l),a(l,o),a(l,i),a(t,n),a(t,d),a(d,b),a(e,m),a(e,v),a(v,p),a(v,k),a(v,w),S||(L=[le(p,"click",s[30]),le(w,"click",s[31])],S=!0)},p(I,T){T[0]&2048&&c!==(c=I[11].t("Are you sure?")+"")&&Z(b,c)},d(I){I&&u(e),S=!1,$e(L)}}}function is(s){let e,t,l,o,i=s[11].t("General Settings")+"",n,d,c,b,m=s[11].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",v,p,g,k,w=s[11].t("Scan")+"",D,S,L,I,T,M,H=s[11].t("Embedding Model Engine")+"",C,A,te,$,z,re=s[11].t("Default (SentenceTransformers)")+"",se,F,ne=s[11].t("Ollama")+"",pe,Q,Y=s[11].t("OpenAI")+"",N,G,ae,ee,U,E=s[11].t("Hybrid Search")+"",O,oe,q,W,we,ce,X,ie,j,fe,be=s[11].t("Embedding Model")+"",He,Ee,Se,_e,Be=s[11].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",he,me,Oe,Ne,ge,ke,Ie,Re,Ze=s[11].t("Save")+"",Ae,J,ue,De=s[1]&&Yt(),ye=s[5]==="openai"&&Xt(s);function Ve(y,R){return y[10].hybrid===!0?$l:Jl}let qe=Ve(s),Fe=qe(s);function _t(y,R){return y[5]==="ollama"?ts:es}let ct=_t(s),Ge=ct(s),ve=s[10].hybrid===!0&&tl(s);function et(y,R){return y[4]?os:ns}let Te=et(s),We=Te(s);return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=P(i),d=V(),c=f("div"),b=f("div"),v=P(m),p=V(),g=f("button"),k=f("div"),D=P(w),S=V(),De&&De.c(),I=V(),T=f("div"),M=f("div"),C=P(H),A=V(),te=f("div"),$=f("select"),z=f("option"),se=P(re),F=f("option"),pe=P(ne),Q=f("option"),N=P(Y),G=V(),ye&&ye.c(),ae=V(),ee=f("div"),U=f("div"),O=P(E),oe=V(),q=f("button"),Fe.c(),W=V(),we=f("hr"),ce=V(),X=f("div"),ie=V(),j=f("div"),fe=f("div"),He=P(be),Ee=V(),Ge.c(),Se=V(),_e=f("div"),he=P(Be),me=V(),ve&&ve.c(),Oe=V(),Ne=f("hr"),ge=V(),We.c(),ke=V(),Ie=f("div"),Re=f("button"),Ae=P(Ze),this.h()},l(y){e=h(y,"FORM",{class:!0});var R=_(e);t=h(R,"DIV",{class:!0});var Le=_(t);l=h(Le,"DIV",{class:!0});var je=_(l);o=h(je,"DIV",{class:!0});var Ce=_(o);n=B(Ce,i),Ce.forEach(u),d=x(je),c=h(je,"DIV",{class:!0});var tt=_(c);b=h(tt,"DIV",{class:!0});var nt=_(b);v=B(nt,m),nt.forEach(u),p=x(tt),g=h(tt,"BUTTON",{class:!0,type:!0});var st=_(g);k=h(st,"DIV",{class:!0});var At=_(k);D=B(At,w),At.forEach(u),S=x(st),De&&De.l(st),st.forEach(u),tt.forEach(u),I=x(je),T=h(je,"DIV",{class:!0});var mt=_(T);M=h(mt,"DIV",{class:!0});var kt=_(M);C=B(kt,H),kt.forEach(u),A=x(mt),te=h(mt,"DIV",{class:!0});var yt=_(te);$=h(yt,"SELECT",{class:!0,placeholder:!0});var Et=_($);z=h(Et,"OPTION",{});var Ct=_(z);se=B(Ct,re),Ct.forEach(u),F=h(Et,"OPTION",{});var Pt=_(F);pe=B(Pt,ne),Pt.forEach(u),Q=h(Et,"OPTION",{});var dt=_(Q);N=B(dt,Y),dt.forEach(u),Et.forEach(u),yt.forEach(u),mt.forEach(u),G=x(je),ye&&ye.l(je),ae=x(je),ee=h(je,"DIV",{class:!0});var ft=_(ee);U=h(ft,"DIV",{class:!0});var Bt=_(U);O=B(Bt,E),Bt.forEach(u),oe=x(ft),q=h(ft,"BUTTON",{class:!0,type:!0});var It=_(q);Fe.l(It),It.forEach(u),ft.forEach(u),je.forEach(u),W=x(Le),we=h(Le,"HR",{class:!0}),ce=x(Le),X=h(Le,"DIV",{class:!0}),_(X).forEach(u),ie=x(Le),j=h(Le,"DIV",{});var at=_(j);fe=h(at,"DIV",{class:!0});var Tt=_(fe);He=B(Tt,be),Tt.forEach(u),Ee=x(at),Ge.l(at),Se=x(at),_e=h(at,"DIV",{class:!0});var zt=_(_e);he=B(zt,Be),zt.forEach(u),me=x(at),ve&&ve.l(at),at.forEach(u),Oe=x(Le),Ne=h(Le,"HR",{class:!0}),ge=x(Le),We.l(Le),Le.forEach(u),ke=x(R),Ie=h(R,"DIV",{class:!0});var Kt=_(Ie);Re=h(Kt,"BUTTON",{class:!0,type:!0});var Ft=_(Re);Ae=B(Ft,Ze),Ft.forEach(u),Kt.forEach(u),R.forEach(u),this.h()},h(){r(o,"class","mb-0.5 text-sm font-medium"),r(b,"class","self-center text-xs font-medium"),r(k,"class","self-center font-medium"),r(g,"class",L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),r(g,"type","button"),g.disabled=s[1],r(c,"class","flex w-full justify-between"),r(M,"class","self-center text-xs font-medium"),z.__value="",de(z,z.__value),F.__value="ollama",de(F,F.__value),Q.__value="openai",de(Q,Q.__value),r($,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r($,"placeholder","Select an embedding model engine"),s[5]===void 0&&qt(()=>s[20].call($)),r(te,"class","flex items-center relative"),r(T,"class","flex w-full justify-between"),r(U,"class","self-center text-xs font-medium"),r(q,"class","p-1 px-3 text-xs flex rounded transition"),r(q,"type","button"),r(ee,"class","flex w-full justify-between"),r(l,"class","flex flex-col gap-0.5"),r(we,"class","dark:border-gray-700 my-1"),r(X,"class","space-y-2"),r(fe,"class","mb-2 text-sm font-medium"),r(_e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(Ne,"class","dark:border-gray-700"),r(t,"class","space-y-2.5 pr-1.5 overflow-y-scroll max-h-[28rem]"),r(Re,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(Re,"type","submit"),r(Ie,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(y,R){K(y,e,R),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,v),a(c,p),a(c,g),a(g,k),a(k,D),a(g,S),De&&De.m(g,null),a(l,I),a(l,T),a(T,M),a(M,C),a(T,A),a(T,te),a(te,$),a($,z),a(z,se),a($,F),a(F,pe),a($,Q),a(Q,N),Lt($,s[5],!0),a(l,G),ye&&ye.m(l,null),a(l,ae),a(l,ee),a(ee,U),a(U,O),a(ee,oe),a(ee,q),Fe.m(q,null),a(t,W),a(t,we),a(t,ce),a(t,X),a(t,ie),a(t,j),a(j,fe),a(fe,He),a(j,Ee),Ge.m(j,null),a(j,Se),a(j,_e),a(_e,he),a(j,me),ve&&ve.m(j,null),a(t,Oe),a(t,Ne),a(t,ge),We.m(t,null),a(e,ke),a(e,Ie),a(Ie,Re),a(Re,Ae),J||(ue=[le(g,"click",s[19]),le($,"change",s[20]),le($,"change",s[21]),le(q,"click",s[24]),le(e,"submit",Ht(s[33]))],J=!0)},p(y,R){R[0]&2048&&i!==(i=y[11].t("General Settings")+"")&&Z(n,i),R[0]&2048&&m!==(m=y[11].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&Z(v,m),R[0]&2048&&w!==(w=y[11].t("Scan")+"")&&Z(D,w),y[1]?De||(De=Yt(),De.c(),De.m(g,null)):De&&(De.d(1),De=null),R[0]&2&&L!==(L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(y[1]?" cursor-not-allowed":""))&&r(g,"class",L),R[0]&2&&(g.disabled=y[1]),R[0]&2048&&H!==(H=y[11].t("Embedding Model Engine")+"")&&Z(C,H),R[0]&2048&&re!==(re=y[11].t("Default (SentenceTransformers)")+"")&&Z(se,re),R[0]&2048&&ne!==(ne=y[11].t("Ollama")+"")&&Z(pe,ne),R[0]&2048&&Y!==(Y=y[11].t("OpenAI")+"")&&Z(N,Y),R[0]&32&&Lt($,y[5]),y[5]==="openai"?ye?ye.p(y,R):(ye=Xt(y),ye.c(),ye.m(l,ae)):ye&&(ye.d(1),ye=null),R[0]&2048&&E!==(E=y[11].t("Hybrid Search")+"")&&Z(O,E),qe===(qe=Ve(y))&&Fe?Fe.p(y,R):(Fe.d(1),Fe=qe(y),Fe&&(Fe.c(),Fe.m(q,null))),R[0]&2048&&be!==(be=y[11].t("Embedding Model")+"")&&Z(He,be),ct===(ct=_t(y))&&Ge?Ge.p(y,R):(Ge.d(1),Ge=ct(y),Ge&&(Ge.c(),Ge.m(j,Se))),R[0]&2048&&Be!==(Be=y[11].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&Z(he,Be),y[10].hybrid===!0?ve?ve.p(y,R):(ve=tl(y),ve.c(),ve.m(j,null)):ve&&(ve.d(1),ve=null),Te===(Te=et(y))&&We?We.p(y,R):(We.d(1),We=Te(y),We&&(We.c(),We.m(t,null))),R[0]&2048&&Ze!==(Ze=y[11].t("Save")+"")&&Z(Ae,Ze)},i:it,o:it,d(y){y&&u(e),De&&De.d(),ye&&ye.d(),Fe.d(),Ge.d(),ve&&ve.d(),We.d(),J=!1,$e(ue)}}}const ll=s=>s.id&&!s.external;function us(s,e,t){let l,o;rt(s,Pl,U=>t(12,o=U));const i=wt("i18n");rt(s,i,U=>t(11,l=U));let{saveHandler:n}=e,d=!1,c=!1,b=!1,m=!1,v="",p="",g="",k="",w="",D={template:"",r:0,k:4,hybrid:!1};const S=async()=>{t(1,d=!0);const U=await Ul(localStorage.token);t(1,d=!1),U&&(await lt.set(await ot(localStorage.token)),Pe.success(l.t("Scan complete!")))},L=async()=>{if(v===""&&p.split("/").length-1>1){Pe.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(v==="ollama"&&p===""){Pe.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(v==="openai"&&p===""){Pe.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(v==="openai"&&k===""||w===""){Pe.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",p),t(2,c=!0);const U=await zl(localStorage.token,{embedding_engine:v,embedding_model:p,...v==="openai"?{openai_config:{key:k,url:w}}:{}}).catch(async E=>(Pe.error(E),await M(),null));t(2,c=!1),U&&(console.log("embeddingModelUpdateHandler:",U),U.status===!0&&Pe.success(l.t('Embedding model set to "{{embedding_model}}"',U),{duration:1e3*10}))},I=async()=>{console.log("Update reranking model attempt:",g),t(3,b=!0);const U=await Rl(localStorage.token,{reranking_model:g}).catch(async E=>(Pe.error(E),await H(),null));t(3,b=!1),U&&(console.log("rerankingModelUpdateHandler:",U),U.status===!0&&(g===""?Pe.success(l.t("Reranking model disabled",U),{duration:1e3*10}):Pe.success(l.t('Reranking model set to "{{reranking_model}}"',U),{duration:1e3*10})))},T=async()=>{L(),D.hybrid&&I()},M=async()=>{const U=await jl(localStorage.token);U&&(t(5,v=U.embedding_engine),t(6,p=U.embedding_model),t(8,k=U.openai_config.key),t(9,w=U.openai_config.url))},H=async()=>{const U=await ql(localStorage.token);U&&t(7,g=U.reranking_model)},C=async()=>{t(10,D.hybrid=!D.hybrid,D),t(10,D=await Il(localStorage.token,D))};xt(async()=>{await M(),await H(),t(10,D=await El(localStorage.token))});const A=()=>{S(),console.log("check")};function te(){v=Rt(this),t(5,v)}const $=U=>{U.target.value==="ollama"?t(6,p=""):U.target.value==="openai"?t(6,p="text-embedding-3-small"):U.target.value===""&&t(6,p="sentence-transformers/all-MiniLM-L6-v2")};function z(){w=this.value,t(9,w)}function re(){k=this.value,t(8,k)}const se=()=>{C()};function F(){p=Rt(this),t(6,p)}function ne(){p=this.value,t(6,p)}const pe=()=>{L()};function Q(){g=this.value,t(7,g)}const Y=()=>{I()},N=()=>{Zl(localStorage.token).catch(E=>(Pe.error(E),null))&&Pe.success(l.t("Success")),t(4,m=!1)},G=()=>{t(4,m=!1)},ae=()=>{t(4,m=!0)},ee=()=>{T(),n()};return s.$$set=U=>{"saveHandler"in U&&t(0,n=U.saveHandler)},[n,d,c,b,m,v,p,g,k,w,D,l,o,i,S,L,I,T,C,A,te,$,z,re,se,F,ne,pe,Q,Y,N,G,ae,ee]}class cs extends vt{constructor(e){super(),pt(this,e,us,is,ut,{saveHandler:0},null,[-1,-1])}}function ds(s){let e,t,l,o,i=s[4].t("Chunk Params")+"",n,d,c,b,m,v=s[4].t("Chunk Size")+"",p,g,k,w,D,S,L,I,T=s[4].t("Chunk Overlap")+"",M,H,C,A,te,$,z,re,se,F=s[4].t("PDF Extract Images (OCR)")+"",ne,pe,Q,Y=(s[3]?s[4].t("On"):s[4].t("Off"))+"",N,G,ae,ee,U=s[4].t("Save")+"",E,O,oe;return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=P(i),d=V(),c=f("div"),b=f("div"),m=f("div"),p=P(v),g=V(),k=f("div"),w=f("input"),S=V(),L=f("div"),I=f("div"),M=P(T),H=V(),C=f("div"),A=f("input"),$=V(),z=f("div"),re=f("div"),se=f("div"),ne=P(F),pe=V(),Q=f("button"),N=P(Y),G=V(),ae=f("div"),ee=f("button"),E=P(U),this.h()},l(q){e=h(q,"FORM",{class:!0});var W=_(e);t=h(W,"DIV",{class:!0});var we=_(t);l=h(we,"DIV",{class:!0});var ce=_(l);o=h(ce,"DIV",{class:!0});var X=_(o);n=B(X,i),X.forEach(u),d=x(ce),c=h(ce,"DIV",{class:!0});var ie=_(c);b=h(ie,"DIV",{class:!0});var j=_(b);m=h(j,"DIV",{class:!0});var fe=_(m);p=B(fe,v),fe.forEach(u),g=x(j),k=h(j,"DIV",{class:!0});var be=_(k);w=h(be,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),be.forEach(u),j.forEach(u),S=x(ie),L=h(ie,"DIV",{class:!0});var He=_(L);I=h(He,"DIV",{class:!0});var Ee=_(I);M=B(Ee,T),Ee.forEach(u),H=x(He),C=h(He,"DIV",{class:!0});var Se=_(C);A=h(Se,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Se.forEach(u),He.forEach(u),ie.forEach(u),$=x(ce),z=h(ce,"DIV",{class:!0});var _e=_(z);re=h(_e,"DIV",{class:!0});var Be=_(re);se=h(Be,"DIV",{class:!0});var he=_(se);ne=B(he,F),he.forEach(u),pe=x(Be),Q=h(Be,"BUTTON",{class:!0,type:!0});var me=_(Q);N=B(me,Y),me.forEach(u),Be.forEach(u),_e.forEach(u),ce.forEach(u),we.forEach(u),G=x(W),ae=h(W,"DIV",{class:!0});var Oe=_(ae);ee=h(Oe,"BUTTON",{class:!0,type:!0});var Ne=_(ee);E=B(Ne,U),Ne.forEach(u),Oe.forEach(u),W.forEach(u),this.h()},h(){r(o,"class","text-sm font-medium"),r(m,"class","self-center text-xs font-medium min-w-fit"),r(w,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(w,"type","number"),r(w,"placeholder",D=s[4].t("Enter Chunk Size")),r(w,"autocomplete","off"),r(w,"min","0"),r(k,"class","self-center p-3"),r(b,"class","flex w-full justify-between"),r(I,"class","self-center text-xs font-medium min-w-fit"),r(A,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(A,"type","number"),r(A,"placeholder",te=s[4].t("Enter Chunk Overlap")),r(A,"autocomplete","off"),r(A,"min","0"),r(C,"class","self-center p-3"),r(L,"class","flex w-full"),r(c,"class","flex"),r(se,"class","text-xs font-medium"),r(Q,"class","text-xs font-medium text-gray-500"),r(Q,"type","button"),r(re,"class","flex justify-between items-center text-xs"),r(z,"class","pr-2"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(ee,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(ee,"type","submit"),r(ae,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(q,W){K(q,e,W),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,m),a(m,p),a(b,g),a(b,k),a(k,w),de(w,s[1]),a(c,S),a(c,L),a(L,I),a(I,M),a(L,H),a(L,C),a(C,A),de(A,s[2]),a(l,$),a(l,z),a(z,re),a(re,se),a(se,ne),a(re,pe),a(re,Q),a(Q,N),a(e,G),a(e,ae),a(ae,ee),a(ee,E),O||(oe=[le(w,"input",s[7]),le(A,"input",s[8]),le(Q,"click",s[9]),le(e,"submit",Ht(s[10]))],O=!0)},p(q,[W]){W&16&&i!==(i=q[4].t("Chunk Params")+"")&&Z(n,i),W&16&&v!==(v=q[4].t("Chunk Size")+"")&&Z(p,v),W&16&&D!==(D=q[4].t("Enter Chunk Size"))&&r(w,"placeholder",D),W&2&&gt(w.value)!==q[1]&&de(w,q[1]),W&16&&T!==(T=q[4].t("Chunk Overlap")+"")&&Z(M,T),W&16&&te!==(te=q[4].t("Enter Chunk Overlap"))&&r(A,"placeholder",te),W&4&&gt(A.value)!==q[2]&&de(A,q[2]),W&16&&F!==(F=q[4].t("PDF Extract Images (OCR)")+"")&&Z(ne,F),W&24&&Y!==(Y=(q[3]?q[4].t("On"):q[4].t("Off"))+"")&&Z(N,Y),W&16&&U!==(U=q[4].t("Save")+"")&&Z(E,U)},i:it,o:it,d(q){q&&u(e),O=!1,$e(oe)}}}function fs(s,e,t){let l;const o=wt("i18n");rt(s,o,k=>t(4,l=k));let{saveHandler:i}=e,n=0,d=0,c=!0;const b=async()=>{await Vl(localStorage.token,{pdf_extract_images:c,chunk:{chunk_overlap:d,chunk_size:n}})};xt(async()=>{const k=await Dl(localStorage.token);k&&(t(3,c=k.pdf_extract_images),t(1,n=k.chunk.chunk_size),t(2,d=k.chunk.chunk_overlap))});function m(){n=gt(this.value),t(1,n)}function v(){d=gt(this.value),t(2,d)}const p=()=>{t(3,c=!c)},g=()=>{b(),i()};return s.$$set=k=>{"saveHandler"in k&&t(0,i=k.saveHandler)},[i,n,d,c,l,o,b,m,v,p,g]}class hs extends vt{constructor(e){super(),pt(this,e,fs,ds,ut,{saveHandler:0})}}function sl(s){let e,t,l=s[2].t("Minimum Score")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=V(),n=f("div"),d=f("input"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var k=_(t);o=B(k,l),k.forEach(u),i=x(g),n=h(g,"DIV",{class:!0});var w=_(n);d=h(w,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),w.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium min-w-fit"),r(d,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(d,"type","number"),r(d,"step","0.01"),r(d,"placeholder",c=s[2].t("Enter Score")),r(d,"autocomplete","off"),r(d,"min","0.0"),r(d,"title",b=s[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),r(n,"class","self-center p-3"),r(e,"class","flex w-full")},m(p,g){K(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),de(d,s[1].r),m||(v=le(d,"input",s[6]),m=!0)},p(p,g){g&4&&l!==(l=p[2].t("Minimum Score")+"")&&Z(o,l),g&4&&c!==(c=p[2].t("Enter Score"))&&r(d,"placeholder",c),g&4&&b!==(b=p[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&r(d,"title",b),g&2&&gt(d.value)!==p[1].r&&de(d,p[1].r)},d(p){p&&u(e),m=!1,v()}}}function al(s){let e,t=s[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,o,i;return{c(){e=f("div"),l=P(t),o=V(),i=f("hr"),this.h()},l(n){e=h(n,"DIV",{class:!0});var d=_(e);l=B(d,t),d.forEach(u),o=x(n),i=h(n,"HR",{class:!0}),this.h()},h(){r(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(i,"class","dark:border-gray-700 my-3")},m(n,d){K(n,e,d),a(e,l),K(n,o,d),K(n,i,d)},p(n,d){d&4&&t!==(t=n[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&Z(l,t)},d(n){n&&(u(e),u(o),u(i))}}}function vs(s){let e,t,l,o,i=s[2].t("Query Params")+"",n,d,c,b,m,v=s[2].t("Top K")+"",p,g,k,w,D,S,L,I,T,M,H=s[2].t("RAG Template")+"",C,A,te,$,z,re,se=s[2].t("Save")+"",F,ne,pe,Q=s[1].hybrid===!0&&sl(s),Y=s[1].hybrid===!0&&al(s);return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=P(i),d=V(),c=f("div"),b=f("div"),m=f("div"),p=P(v),g=V(),k=f("div"),w=f("input"),S=V(),Q&&Q.c(),L=V(),Y&&Y.c(),I=V(),T=f("div"),M=f("div"),C=P(H),A=V(),te=f("textarea"),$=V(),z=f("div"),re=f("button"),F=P(se),this.h()},l(N){e=h(N,"FORM",{class:!0});var G=_(e);t=h(G,"DIV",{class:!0});var ae=_(t);l=h(ae,"DIV",{class:!0});var ee=_(l);o=h(ee,"DIV",{class:!0});var U=_(o);n=B(U,i),U.forEach(u),d=x(ee),c=h(ee,"DIV",{class:!0});var E=_(c);b=h(E,"DIV",{class:!0});var O=_(b);m=h(O,"DIV",{class:!0});var oe=_(m);p=B(oe,v),oe.forEach(u),g=x(O),k=h(O,"DIV",{class:!0});var q=_(k);w=h(q,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),q.forEach(u),O.forEach(u),S=x(E),Q&&Q.l(E),E.forEach(u),L=x(ee),Y&&Y.l(ee),I=x(ee),T=h(ee,"DIV",{});var W=_(T);M=h(W,"DIV",{class:!0});var we=_(M);C=B(we,H),we.forEach(u),A=x(W),te=h(W,"TEXTAREA",{class:!0,rows:!0}),_(te).forEach(u),W.forEach(u),ee.forEach(u),ae.forEach(u),$=x(G),z=h(G,"DIV",{class:!0});var ce=_(z);re=h(ce,"BUTTON",{class:!0,type:!0});var X=_(re);F=B(X,se),X.forEach(u),ce.forEach(u),G.forEach(u),this.h()},h(){r(o,"class","text-sm font-medium"),r(m,"class","self-center text-xs font-medium min-w-fit"),r(w,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(w,"type","number"),r(w,"placeholder",D=s[2].t("Enter Top K")),r(w,"autocomplete","off"),r(w,"min","0"),r(k,"class","self-center p-3"),r(b,"class","flex w-full justify-between"),r(c,"class","flex"),r(M,"class","mb-2.5 text-sm font-medium"),r(te,"class","w-full rounded-lg px-4 py-3 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),r(te,"rows","4"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),r(re,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(re,"type","submit"),r(z,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(N,G){K(N,e,G),a(e,t),a(t,l),a(l,o),a(o,n),a(l,d),a(l,c),a(c,b),a(b,m),a(m,p),a(b,g),a(b,k),a(k,w),de(w,s[1].k),a(c,S),Q&&Q.m(c,null),a(l,L),Y&&Y.m(l,null),a(l,I),a(l,T),a(T,M),a(M,C),a(T,A),a(T,te),de(te,s[1].template),a(e,$),a(e,z),a(z,re),a(re,F),ne||(pe=[le(w,"input",s[5]),le(te,"input",s[7]),le(e,"submit",Ht(s[8]))],ne=!0)},p(N,[G]){G&4&&i!==(i=N[2].t("Query Params")+"")&&Z(n,i),G&4&&v!==(v=N[2].t("Top K")+"")&&Z(p,v),G&4&&D!==(D=N[2].t("Enter Top K"))&&r(w,"placeholder",D),G&2&&gt(w.value)!==N[1].k&&de(w,N[1].k),N[1].hybrid===!0?Q?Q.p(N,G):(Q=sl(N),Q.c(),Q.m(c,null)):Q&&(Q.d(1),Q=null),N[1].hybrid===!0?Y?Y.p(N,G):(Y=al(N),Y.c(),Y.m(l,I)):Y&&(Y.d(1),Y=null),G&4&&H!==(H=N[2].t("RAG Template")+"")&&Z(C,H),G&2&&de(te,N[1].template),G&4&&se!==(se=N[2].t("Save")+"")&&Z(F,se)},i:it,o:it,d(N){N&&u(e),Q&&Q.d(),Y&&Y.d(),ne=!1,$e(pe)}}}function ps(s,e,t){let l;const o=wt("i18n");rt(s,o,p=>t(2,l=p));let{saveHandler:i}=e,n={template:"",r:0,k:4,hybrid:!1};const d=async()=>{t(1,n=await Il(localStorage.token,n))};xt(async()=>{t(1,n=await El(localStorage.token))});function c(){n.k=gt(this.value),t(1,n)}function b(){n.r=gt(this.value),t(1,n)}function m(){n.template=this.value,t(1,n)}const v=()=>{d(),i()};return s.$$set=p=>{"saveHandler"in p&&t(0,i=p.saveHandler)},[i,n,l,o,d,c,b,m,v]}class _s extends vt{constructor(e){super(),pt(this,e,ps,vs,ut,{saveHandler:0})}}function rl(s,e,t){const l=s.slice();return l[21]=e[t],l}function nl(s){let e,t,l=s[3].t("Web Search")+"",o,i,n,d,c,b=s[3].t("Enable Web Search")+"",m,v,p,g,k,w,D,S=s[3].t("Web Search Engine")+"",L,I,T,M,H,C="Select a engine",A,te,$,z,re,se,F,ne=s[3].t("Web Loader Settings")+"",pe,Q,Y,N,G,ae=s[3].t("Bypass SSL verification for Websites")+"",ee,U,E,O,oe,q=s[3].t("Youtube Loader Settings")+"",W,we,ce,X,ie,j=s[3].t("Language")+"",fe,be,He,Ee,Se,_e,Be,he;function me(J){s[7](J)}let Oe={};s[1].search.enabled!==void 0&&(Oe.state=s[1].search.enabled),p=new Fl({props:Oe}),ht.push(()=>Vt(p,"state",me));let Ne=bt(s[5]),ge=[];for(let J=0;J<Ne.length;J+=1)ge[J]=ol(rl(s,Ne,J));let ke=s[1].search.engine!==""&&il(s),Ie=s[1].search.enabled&&ul(s);function Re(J,ue){return J[1].ssl_verification===!0?Es:ys}let Ze=Re(s),Ae=Ze(s);return{c(){e=f("div"),t=f("div"),o=P(l),i=V(),n=f("div"),d=f("div"),c=f("div"),m=P(b),v=V(),Qe(p.$$.fragment),k=V(),w=f("div"),D=f("div"),L=P(S),I=V(),T=f("div"),M=f("select"),H=f("option"),H.textContent=C;for(let J=0;J<ge.length;J+=1)ge[J].c();A=V(),ke&&ke.c(),te=V(),Ie&&Ie.c(),$=V(),z=f("hr"),re=V(),se=f("div"),F=f("div"),pe=P(ne),Q=V(),Y=f("div"),N=f("div"),G=f("div"),ee=P(ae),U=V(),E=f("button"),Ae.c(),O=V(),oe=f("div"),W=P(q),we=V(),ce=f("div"),X=f("div"),ie=f("div"),fe=P(j),be=V(),He=f("div"),Ee=f("input"),this.h()},l(J){e=h(J,"DIV",{});var ue=_(e);t=h(ue,"DIV",{class:!0});var De=_(t);o=B(De,l),De.forEach(u),i=x(ue),n=h(ue,"DIV",{});var ye=_(n);d=h(ye,"DIV",{class:!0});var Ve=_(d);c=h(Ve,"DIV",{class:!0});var qe=_(c);m=B(qe,b),qe.forEach(u),v=x(Ve),Ye(p.$$.fragment,Ve),Ve.forEach(u),ye.forEach(u),k=x(ue),w=h(ue,"DIV",{class:!0});var Fe=_(w);D=h(Fe,"DIV",{class:!0});var _t=_(D);L=B(_t,S),_t.forEach(u),I=x(Fe),T=h(Fe,"DIV",{class:!0});var ct=_(T);M=h(ct,"SELECT",{class:!0,placeholder:!0});var Ge=_(M);H=h(Ge,"OPTION",{"data-svelte-h":!0}),Ue(H)!=="svelte-d4rru0"&&(H.textContent=C);for(let st=0;st<ge.length;st+=1)ge[st].l(Ge);Ge.forEach(u),ct.forEach(u),Fe.forEach(u),A=x(ue),ke&&ke.l(ue),te=x(ue),Ie&&Ie.l(ue),ue.forEach(u),$=x(J),z=h(J,"HR",{class:!0}),re=x(J),se=h(J,"DIV",{});var ve=_(se);F=h(ve,"DIV",{class:!0});var et=_(F);pe=B(et,ne),et.forEach(u),Q=x(ve),Y=h(ve,"DIV",{});var Te=_(Y);N=h(Te,"DIV",{class:!0});var We=_(N);G=h(We,"DIV",{class:!0});var y=_(G);ee=B(y,ae),y.forEach(u),U=x(We),E=h(We,"BUTTON",{class:!0,type:!0});var R=_(E);Ae.l(R),R.forEach(u),We.forEach(u),Te.forEach(u),O=x(ve),oe=h(ve,"DIV",{class:!0});var Le=_(oe);W=B(Le,q),Le.forEach(u),we=x(ve),ce=h(ve,"DIV",{});var je=_(ce);X=h(je,"DIV",{class:!0});var Ce=_(X);ie=h(Ce,"DIV",{class:!0});var tt=_(ie);fe=B(tt,j),tt.forEach(u),be=x(Ce),He=h(Ce,"DIV",{class:!0});var nt=_(He);Ee=h(nt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),nt.forEach(u),Ce.forEach(u),je.forEach(u),ve.forEach(u),this.h()},h(){r(t,"class","mb-1 text-sm font-medium"),r(c,"class","self-center text-xs font-medium"),r(d,"class","py-0.5 flex w-full justify-between"),r(D,"class","self-center text-xs font-medium"),H.disabled=!0,H.selected=!0,H.__value="",de(H,H.__value),r(M,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r(M,"placeholder","Select a engine"),M.required=!0,s[1].search.engine===void 0&&qt(()=>s[8].call(M)),r(T,"class","flex items-center relative"),r(w,"class","py-0.5 flex w-full justify-between"),r(z,"class","dark:border-gray-850 my-2"),r(F,"class","mb-1 text-sm font-medium"),r(G,"class","self-center text-xs font-medium"),r(E,"class","p-1 px-3 text-xs flex rounded transition"),r(E,"type","button"),r(N,"class","py-0.5 flex w-full justify-between"),r(oe,"class","mt-2 mb-1 text-sm font-medium"),r(ie,"class","w-20 text-xs font-medium self-center"),r(Ee,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(Ee,"type","text"),r(Ee,"placeholder",Se=s[3].t("Enter language codes")),r(Ee,"autocomplete","off"),r(He,"class","flex-1 self-center"),r(X,"class","py-0.5 flex w-full justify-between")},m(J,ue){K(J,e,ue),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),a(c,m),a(d,v),Xe(p,d,null),a(e,k),a(e,w),a(w,D),a(D,L),a(w,I),a(w,T),a(T,M),a(M,H);for(let De=0;De<ge.length;De+=1)ge[De]&&ge[De].m(M,null);Lt(M,s[1].search.engine,!0),a(e,A),ke&&ke.m(e,null),a(e,te),Ie&&Ie.m(e,null),K(J,$,ue),K(J,z,ue),K(J,re,ue),K(J,se,ue),a(se,F),a(F,pe),a(se,Q),a(se,Y),a(Y,N),a(N,G),a(G,ee),a(N,U),a(N,E),Ae.m(E,null),a(se,O),a(se,oe),a(oe,W),a(se,we),a(se,ce),a(ce,X),a(X,ie),a(ie,fe),a(X,be),a(X,He),a(He,Ee),de(Ee,s[2]),_e=!0,Be||(he=[le(M,"change",s[8]),le(E,"click",s[17]),le(Ee,"input",s[18])],Be=!0)},p(J,ue){(!_e||ue&8)&&l!==(l=J[3].t("Web Search")+"")&&Z(o,l),(!_e||ue&8)&&b!==(b=J[3].t("Enable Web Search")+"")&&Z(m,b);const De={};if(!g&&ue&2&&(g=!0,De.state=J[1].search.enabled,Dt(()=>g=!1)),p.$set(De),(!_e||ue&8)&&S!==(S=J[3].t("Web Search Engine")+"")&&Z(L,S),ue&32){Ne=bt(J[5]);let ye;for(ye=0;ye<Ne.length;ye+=1){const Ve=rl(J,Ne,ye);ge[ye]?ge[ye].p(Ve,ue):(ge[ye]=ol(Ve),ge[ye].c(),ge[ye].m(M,null))}for(;ye<ge.length;ye+=1)ge[ye].d(1);ge.length=Ne.length}ue&34&&Lt(M,J[1].search.engine),J[1].search.engine!==""?ke?ke.p(J,ue):(ke=il(J),ke.c(),ke.m(e,te)):ke&&(ke.d(1),ke=null),J[1].search.enabled?Ie?Ie.p(J,ue):(Ie=ul(J),Ie.c(),Ie.m(e,null)):Ie&&(Ie.d(1),Ie=null),(!_e||ue&8)&&ne!==(ne=J[3].t("Web Loader Settings")+"")&&Z(pe,ne),(!_e||ue&8)&&ae!==(ae=J[3].t("Bypass SSL verification for Websites")+"")&&Z(ee,ae),Ze===(Ze=Re(J))&&Ae?Ae.p(J,ue):(Ae.d(1),Ae=Ze(J),Ae&&(Ae.c(),Ae.m(E,null))),(!_e||ue&8)&&q!==(q=J[3].t("Youtube Loader Settings")+"")&&Z(W,q),(!_e||ue&8)&&j!==(j=J[3].t("Language")+"")&&Z(fe,j),(!_e||ue&8&&Se!==(Se=J[3].t("Enter language codes")))&&r(Ee,"placeholder",Se),ue&4&&Ee.value!==J[2]&&de(Ee,J[2])},i(J){_e||(xe(p.$$.fragment,J),_e=!0)},o(J){Me(p.$$.fragment,J),_e=!1},d(J){J&&(u(e),u($),u(z),u(re),u(se)),Je(p),Nt(ge,J),ke&&ke.d(),Ie&&Ie.d(),Ae.d(),Be=!1,$e(he)}}}function ol(s){let e,t=s[21]+"",l;return{c(){e=f("option"),l=P(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=B(i,t),i.forEach(u),this.h()},h(){e.__value=s[21],de(e,e.__value)},m(o,i){K(o,e,i),a(e,l)},p:it,d(o){o&&u(e)}}}function il(s){let e;function t(i,n){if(i[1].search.engine==="searxng")return ks;if(i[1].search.engine==="google_pse")return ws;if(i[1].search.engine==="brave")return bs;if(i[1].search.engine==="serpstack")return gs;if(i[1].search.engine==="serper")return ms}let l=t(s),o=l&&l(s);return{c(){e=f("div"),o&&o.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=_(e);o&&o.l(n),n.forEach(u),this.h()},h(){r(e,"class","mt-1.5")},m(i,n){K(i,e,n),o&&o.m(e,null)},p(i,n){l===(l=t(i))&&o?o.p(i,n):(o&&o.d(1),o=l&&l(i),o&&(o.c(),o.m(e,null)))},d(i){i&&u(e),o&&o.d()}}}function ms(s){let e,t,l=s[3].t("Serper API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=V(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var k=_(t);o=B(k,l),k.forEach(u),i=x(g),n=h(g,"DIV",{class:!0});var w=_(n);d=h(w,"DIV",{class:!0});var D=_(d);c=h(D,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),D.forEach(u),w.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Serper API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(p,g){K(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.serper_api_key),m||(v=le(c,"input",s[14]),m=!0)},p(p,g){g&8&&l!==(l=p[3].t("Serper API Key")+"")&&Z(o,l),g&8&&b!==(b=p[3].t("Enter Serper API Key"))&&r(c,"placeholder",b),g&34&&c.value!==p[1].search.serper_api_key&&de(c,p[1].search.serper_api_key)},d(p){p&&u(e),m=!1,v()}}}function gs(s){let e,t,l=s[3].t("Serpstack API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=V(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var k=_(t);o=B(k,l),k.forEach(u),i=x(g),n=h(g,"DIV",{class:!0});var w=_(n);d=h(w,"DIV",{class:!0});var D=_(d);c=h(D,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),D.forEach(u),w.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Serpstack API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(p,g){K(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.serpstack_api_key),m||(v=le(c,"input",s[13]),m=!0)},p(p,g){g&8&&l!==(l=p[3].t("Serpstack API Key")+"")&&Z(o,l),g&8&&b!==(b=p[3].t("Enter Serpstack API Key"))&&r(c,"placeholder",b),g&34&&c.value!==p[1].search.serpstack_api_key&&de(c,p[1].search.serpstack_api_key)},d(p){p&&u(e),m=!1,v()}}}function bs(s){let e,t,l=s[3].t("Brave Search API Key")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=V(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var k=_(t);o=B(k,l),k.forEach(u),i=x(g),n=h(g,"DIV",{class:!0});var w=_(n);d=h(w,"DIV",{class:!0});var D=_(d);c=h(D,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),D.forEach(u),w.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Brave Search API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(p,g){K(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.brave_search_api_key),m||(v=le(c,"input",s[12]),m=!0)},p(p,g){g&8&&l!==(l=p[3].t("Brave Search API Key")+"")&&Z(o,l),g&8&&b!==(b=p[3].t("Enter Brave Search API Key"))&&r(c,"placeholder",b),g&34&&c.value!==p[1].search.brave_search_api_key&&de(c,p[1].search.brave_search_api_key)},d(p){p&&u(e),m=!1,v()}}}function ws(s){let e,t,l=s[3].t("Google PSE API Key")+"",o,i,n,d,c,b,m,v,p,g=s[3].t("Google PSE Engine Id")+"",k,w,D,S,L,I,T,M;return{c(){e=f("div"),t=f("div"),o=P(l),i=V(),n=f("div"),d=f("div"),c=f("input"),m=V(),v=f("div"),p=f("div"),k=P(g),w=V(),D=f("div"),S=f("div"),L=f("input"),this.h()},l(H){e=h(H,"DIV",{});var C=_(e);t=h(C,"DIV",{class:!0});var A=_(t);o=B(A,l),A.forEach(u),i=x(C),n=h(C,"DIV",{class:!0});var te=_(n);d=h(te,"DIV",{class:!0});var $=_(d);c=h($,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),$.forEach(u),te.forEach(u),C.forEach(u),m=x(H),v=h(H,"DIV",{class:!0});var z=_(v);p=h(z,"DIV",{class:!0});var re=_(p);k=B(re,g),re.forEach(u),w=x(z),D=h(z,"DIV",{class:!0});var se=_(D);S=h(se,"DIV",{class:!0});var F=_(S);L=h(F,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),F.forEach(u),se.forEach(u),z.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Google PSE API Key")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full"),r(p,"class","self-center text-xs font-medium mb-1"),r(L,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(L,"type","text"),r(L,"placeholder",I=s[3].t("Enter Google PSE Engine Id")),r(L,"autocomplete","off"),r(S,"class","flex-1"),r(D,"class","flex w-full"),r(v,"class","mt-1.5")},m(H,C){K(H,e,C),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.google_pse_api_key),K(H,m,C),K(H,v,C),a(v,p),a(p,k),a(v,w),a(v,D),a(D,S),a(S,L),de(L,s[1].search.google_pse_engine_id),T||(M=[le(c,"input",s[10]),le(L,"input",s[11])],T=!0)},p(H,C){C&8&&l!==(l=H[3].t("Google PSE API Key")+"")&&Z(o,l),C&8&&b!==(b=H[3].t("Enter Google PSE API Key"))&&r(c,"placeholder",b),C&34&&c.value!==H[1].search.google_pse_api_key&&de(c,H[1].search.google_pse_api_key),C&8&&g!==(g=H[3].t("Google PSE Engine Id")+"")&&Z(k,g),C&8&&I!==(I=H[3].t("Enter Google PSE Engine Id"))&&r(L,"placeholder",I),C&34&&L.value!==H[1].search.google_pse_engine_id&&de(L,H[1].search.google_pse_engine_id)},d(H){H&&(u(e),u(m),u(v)),T=!1,$e(M)}}}function ks(s){let e,t,l=s[3].t("Searxng Query URL")+"",o,i,n,d,c,b,m,v;return{c(){e=f("div"),t=f("div"),o=P(l),i=V(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var k=_(t);o=B(k,l),k.forEach(u),i=x(g),n=h(g,"DIV",{class:!0});var w=_(n);d=h(w,"DIV",{class:!0});var D=_(d);c=h(D,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),D.forEach(u),w.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","self-center text-xs font-medium mb-1"),r(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(c,"type","text"),r(c,"placeholder",b=s[3].t("Enter Searxng Query URL")),r(c,"autocomplete","off"),r(d,"class","flex-1"),r(n,"class","flex w-full")},m(p,g){K(p,e,g),a(e,t),a(t,o),a(e,i),a(e,n),a(n,d),a(d,c),de(c,s[1].search.searxng_query_url),m||(v=le(c,"input",s[9]),m=!0)},p(p,g){g&8&&l!==(l=p[3].t("Searxng Query URL")+"")&&Z(o,l),g&8&&b!==(b=p[3].t("Enter Searxng Query URL"))&&r(c,"placeholder",b),g&34&&c.value!==p[1].search.searxng_query_url&&de(c,p[1].search.searxng_query_url)},d(p){p&&u(e),m=!1,v()}}}function ul(s){let e,t,l,o=s[3].t("Search Result Count")+"",i,n,d,c,b,m,v,p=s[3].t("Concurrent Requests")+"",g,k,w,D,S,L;return{c(){e=f("div"),t=f("div"),l=f("div"),i=P(o),n=V(),d=f("input"),b=V(),m=f("div"),v=f("div"),g=P(p),k=V(),w=f("input"),this.h()},l(I){e=h(I,"DIV",{class:!0});var T=_(e);t=h(T,"DIV",{class:!0});var M=_(t);l=h(M,"DIV",{class:!0});var H=_(l);i=B(H,o),H.forEach(u),n=x(M),d=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),b=x(T),m=h(T,"DIV",{class:!0});var C=_(m);v=h(C,"DIV",{class:!0});var A=_(v);g=B(A,p),A.forEach(u),k=x(C),w=h(C,"INPUT",{class:!0,placeholder:!0}),C.forEach(u),T.forEach(u),this.h()},h(){r(l,"class","self-center text-xs font-medium mb-1"),r(d,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(d,"placeholder",c=s[3].t("Search Result Count")),d.required=!0,r(t,"class","w-full"),r(v,"class","self-center text-xs font-medium mb-1"),r(w,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(w,"placeholder",D=s[3].t("Concurrent Requests")),w.required=!0,r(m,"class","w-full"),r(e,"class","mt-2 flex gap-2 mb-1")},m(I,T){K(I,e,T),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),de(d,s[1].search.result_count),a(e,b),a(e,m),a(m,v),a(v,g),a(m,k),a(m,w),de(w,s[1].search.concurrent_requests),S||(L=[le(d,"input",s[15]),le(w,"input",s[16])],S=!0)},p(I,T){T&8&&o!==(o=I[3].t("Search Result Count")+"")&&Z(i,o),T&8&&c!==(c=I[3].t("Search Result Count"))&&r(d,"placeholder",c),T&34&&d.value!==I[1].search.result_count&&de(d,I[1].search.result_count),T&8&&p!==(p=I[3].t("Concurrent Requests")+"")&&Z(g,p),T&8&&D!==(D=I[3].t("Concurrent Requests"))&&r(w,"placeholder",D),T&34&&w.value!==I[1].search.concurrent_requests&&de(w,I[1].search.concurrent_requests)},d(I){I&&u(e),S=!1,$e(L)}}}function ys(s){let e,t=s[3].t("Off")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=_(e);l=B(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){K(o,e,i),a(e,l)},p(o,i){i&8&&t!==(t=o[3].t("Off")+"")&&Z(l,t)},d(o){o&&u(e)}}}function Es(s){let e,t=s[3].t("On")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=_(e);l=B(i,t),i.forEach(u),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,i){K(o,e,i),a(e,l)},p(o,i){i&8&&t!==(t=o[3].t("On")+"")&&Z(l,t)},d(o){o&&u(e)}}}function Is(s){let e,t,l,o,i,n=s[3].t("Save")+"",d,c,b,m,v=s[1]&&nl(s);return{c(){e=f("form"),t=f("div"),v&&v.c(),l=V(),o=f("div"),i=f("button"),d=P(n),this.h()},l(p){e=h(p,"FORM",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var k=_(t);v&&v.l(k),k.forEach(u),l=x(g),o=h(g,"DIV",{class:!0});var w=_(o);i=h(w,"BUTTON",{class:!0,type:!0});var D=_(i);d=B(D,n),D.forEach(u),w.forEach(u),g.forEach(u),this.h()},h(){r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(i,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(i,"type","submit"),r(o,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(p,g){K(p,e,g),a(e,t),v&&v.m(t,null),a(e,l),a(e,o),a(o,i),a(i,d),c=!0,b||(m=le(e,"submit",Ht(s[19])),b=!0)},p(p,[g]){p[1]?v?(v.p(p,g),g&2&&xe(v,1)):(v=nl(p),v.c(),xe(v,1),v.m(t,null)):v&&(St(),Me(v,1,1,()=>{v=null}),Mt()),(!c||g&8)&&n!==(n=p[3].t("Save")+"")&&Z(d,n)},i(p){c||(xe(v),c=!0)},o(p){Me(v),c=!1},d(p){p&&u(e),v&&v.d(),b=!1,m()}}}function Ds(s,e,t){let l;const o=wt("i18n");rt(s,o,A=>t(3,l=A));let{saveHandler:i}=e,n=null,d=["searxng","google_pse","brave","serpstack","serper"],c="en",b=null;const m=async()=>{await Vl(localStorage.token,{web:n,youtube:{language:c.split(",").map(A=>A.trim()),translation:b}})};xt(async()=>{const A=await Dl(localStorage.token);A&&(t(1,n=A.web),t(2,c=A.youtube.language.join(",")),b=A.youtube.translation)});function v(A){s.$$.not_equal(n.search.enabled,A)&&(n.search.enabled=A,t(1,n))}function p(){n.search.engine=Rt(this),t(1,n),t(5,d)}function g(){n.search.searxng_query_url=this.value,t(1,n),t(5,d)}function k(){n.search.google_pse_api_key=this.value,t(1,n),t(5,d)}function w(){n.search.google_pse_engine_id=this.value,t(1,n),t(5,d)}function D(){n.search.brave_search_api_key=this.value,t(1,n),t(5,d)}function S(){n.search.serpstack_api_key=this.value,t(1,n),t(5,d)}function L(){n.search.serper_api_key=this.value,t(1,n),t(5,d)}function I(){n.search.result_count=this.value,t(1,n),t(5,d)}function T(){n.search.concurrent_requests=this.value,t(1,n),t(5,d)}const M=()=>{t(1,n.ssl_verification=!n.ssl_verification,n),m()};function H(){c=this.value,t(2,c)}const C=async()=>{await m(),i()};return s.$$set=A=>{"saveHandler"in A&&t(0,i=A.saveHandler)},[i,n,c,l,o,d,m,v,p,g,k,w,D,S,L,I,T,M,H,C]}class Vs extends vt{constructor(e){super(),pt(this,e,Ds,Is,ut,{saveHandler:0})}}function xs(s){let e,t;return e=new Vs({props:{saveHandler:s[12]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[12]),e.$set(i)},i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ts(s){let e,t;return e=new _s({props:{saveHandler:s[11]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[11]),e.$set(i)},i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ss(s){let e,t;return e=new hs({props:{saveHandler:s[10]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[10]),e.$set(i)},i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ms(s){let e,t;return e=new cs({props:{saveHandler:s[9]}}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[9]),e.$set(i)},i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function Ls(s){let e,t,l,o=s[2].t("Document Settings")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,p,g,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',w,D,S=s[2].t("General")+"",L,I,T,M,H,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',A,te,$=s[2].t("Chunk Params")+"",z,re,se,F,ne,pe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Q,Y,N=s[2].t("Query Params")+"",G,ae,ee,U,E,O='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',oe,q,W=s[2].t("Web Params")+"",we,ce,X,ie,j,fe,be,He,Ee;const Se=[Ms,Ss,Ts,xs],_e=[];function Be(he,me){return he[1]==="general"?0:he[1]==="chunk"?1:he[1]==="query"?2:he[1]==="web"?3:-1}return~(j=Be(s))&&(fe=_e[j]=Se[j](s)),{c(){e=f("div"),t=f("div"),l=f("div"),i=P(o),n=V(),d=f("button"),d.innerHTML=c,b=V(),m=f("div"),v=f("div"),p=f("button"),g=f("div"),g.innerHTML=k,w=V(),D=f("div"),L=P(S),T=V(),M=f("button"),H=f("div"),H.innerHTML=C,A=V(),te=f("div"),z=P($),se=V(),F=f("button"),ne=f("div"),ne.innerHTML=pe,Q=V(),Y=f("div"),G=P(N),ee=V(),U=f("button"),E=f("div"),E.innerHTML=O,oe=V(),q=f("div"),we=P(W),X=V(),ie=f("div"),fe&&fe.c(),this.h()},l(he){e=h(he,"DIV",{});var me=_(e);t=h(me,"DIV",{class:!0});var Oe=_(t);l=h(Oe,"DIV",{class:!0});var Ne=_(l);i=B(Ne,o),Ne.forEach(u),n=x(Oe),d=h(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(d)!=="svelte-745w2y"&&(d.innerHTML=c),Oe.forEach(u),b=x(me),m=h(me,"DIV",{class:!0});var ge=_(m);v=h(ge,"DIV",{class:!0});var ke=_(v);p=h(ke,"BUTTON",{class:!0});var Ie=_(p);g=h(Ie,"DIV",{class:!0,"data-svelte-h":!0}),Ue(g)!=="svelte-1k1ieum"&&(g.innerHTML=k),w=x(Ie),D=h(Ie,"DIV",{class:!0});var Re=_(D);L=B(Re,S),Re.forEach(u),Ie.forEach(u),T=x(ke),M=h(ke,"BUTTON",{class:!0});var Ze=_(M);H=h(Ze,"DIV",{class:!0,"data-svelte-h":!0}),Ue(H)!=="svelte-sarula"&&(H.innerHTML=C),A=x(Ze),te=h(Ze,"DIV",{class:!0});var Ae=_(te);z=B(Ae,$),Ae.forEach(u),Ze.forEach(u),se=x(ke),F=h(ke,"BUTTON",{class:!0});var J=_(F);ne=h(J,"DIV",{class:!0,"data-svelte-h":!0}),Ue(ne)!=="svelte-1ray9mb"&&(ne.innerHTML=pe),Q=x(J),Y=h(J,"DIV",{class:!0});var ue=_(Y);G=B(ue,N),ue.forEach(u),J.forEach(u),ee=x(ke),U=h(ke,"BUTTON",{class:!0});var De=_(U);E=h(De,"DIV",{class:!0,"data-svelte-h":!0}),Ue(E)!=="svelte-17j0plg"&&(E.innerHTML=O),oe=x(De),q=h(De,"DIV",{class:!0});var ye=_(q);we=B(ye,W),ye.forEach(u),De.forEach(u),ke.forEach(u),X=x(ge),ie=h(ge,"DIV",{class:!0});var Ve=_(ie);fe&&fe.l(Ve),Ve.forEach(u),ge.forEach(u),me.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(g,"class","self-center mr-2"),r(D,"class","self-center"),r(p,"class",I="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(H,"class","self-center mr-2"),r(te,"class","self-center"),r(M,"class",re="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(ne,"class","self-center mr-2"),r(Y,"class","self-center"),r(F,"class",ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(E,"class","self-center mr-2"),r(q,"class","self-center"),r(U,"class",ce="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(v,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),r(ie,"class","flex-1 md:min-h-[380px]"),r(m,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(he,me){K(he,e,me),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,p),a(p,g),a(p,w),a(p,D),a(D,L),a(v,T),a(v,M),a(M,H),a(M,A),a(M,te),a(te,z),a(v,se),a(v,F),a(F,ne),a(F,Q),a(F,Y),a(Y,G),a(v,ee),a(v,U),a(U,E),a(U,oe),a(U,q),a(q,we),a(m,X),a(m,ie),~j&&_e[j].m(ie,null),be=!0,He||(Ee=[le(d,"click",s[4]),le(p,"click",s[5]),le(M,"click",s[6]),le(F,"click",s[7]),le(U,"click",s[8])],He=!0)},p(he,me){(!be||me&4)&&o!==(o=he[2].t("Document Settings")+"")&&Z(i,o),(!be||me&4)&&S!==(S=he[2].t("General")+"")&&Z(L,S),(!be||me&2&&I!==(I="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(he[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(p,"class",I),(!be||me&4)&&$!==($=he[2].t("Chunk Params")+"")&&Z(z,$),(!be||me&2&&re!==(re="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(he[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(M,"class",re),(!be||me&4)&&N!==(N=he[2].t("Query Params")+"")&&Z(G,N),(!be||me&2&&ae!==(ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(he[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(F,"class",ae),(!be||me&4)&&W!==(W=he[2].t("Web Params")+"")&&Z(we,W),(!be||me&2&&ce!==(ce="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(he[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(U,"class",ce);let Oe=j;j=Be(he),j===Oe?~j&&_e[j].p(he,me):(fe&&(St(),Me(_e[Oe],1,1,()=>{_e[Oe]=null}),Mt()),~j?(fe=_e[j],fe?fe.p(he,me):(fe=_e[j]=Se[j](he),fe.c()),xe(fe,1),fe.m(ie,null)):fe=null)},i(he){be||(xe(fe),be=!0)},o(he){Me(fe),be=!1},d(he){he&&u(e),~j&&_e[j].d(),He=!1,$e(Ee)}}}function Hs(s){let e,t,l;function o(n){s[13](n)}let i={$$slots:{default:[Ls]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Zt({props:i}),ht.push(()=>Vt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&16391&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],Dt(()=>t=!1)),e.$set(c)},i(n){l||(xe(e.$$.fragment,n),l=!0)},o(n){Me(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function As(s,e,t){let l;const o=wt("i18n");rt(s,o,S=>t(2,l=S));let{show:i=!1}=e,n="general";const d=()=>{t(0,i=!1)},c=()=>{t(1,n="general")},b=()=>{t(1,n="chunk")},m=()=>{t(1,n="query")},v=()=>{t(1,n="web")},p=()=>{Pe.success(l.t("Settings saved successfully!"))},g=()=>{Pe.success(l.t("Settings saved successfully!"))},k=()=>{Pe.success(l.t("Settings saved successfully!"))},w=async()=>{Pe.success(l.t("Settings saved successfully!")),await Ll(),await Bl.set(await Gl())};function D(S){i=S,t(0,i)}return s.$$set=S=>{"show"in S&&t(0,i=S.show)},[i,n,l,o,d,c,b,m,v,p,g,k,w,D]}class Cs extends vt{constructor(e){super(),pt(this,e,As,Hs,ut,{show:0})}}function Ps(s){let e=s[4].t("Click here to select documents.")+"",t;return{c(){t=P(e)},l(l){t=B(l,e)},m(l,o){K(l,t,o)},p(l,o){o&16&&e!==(e=l[4].t("Click here to select documents.")+"")&&Z(t,e)},d(l){l&&u(t)}}}function Bs(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=P(e),l=P(" document(s) selected.")},l(o){t=B(o,e),l=B(o," document(s) selected.")},m(o,i){K(o,t,i),K(o,l,i)},p(o,i){i&4&&e!==(e=o[2].length>0?`${o[2].length}`:"")&&Z(t,e)},d(o){o&&(u(t),u(l))}}}function Os(s){let e,t,l,o=s[4].t("Add Docs")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,m,v,p,g,k,w,D,S,L,I,T,M=s[4].t("Tags")+"",H,C,A,te,$,z,re=s[4].t("Save")+"",se,F,ne,pe;function Q(G,ae){return G[2]?Bs:Ps}let Y=Q(s),N=Y(s);return A=new Ml({props:{tags:s[3],addTag:s[7],deleteTag:s[8]}}),{c(){e=f("div"),t=f("div"),l=f("div"),i=P(o),n=V(),d=f("button"),d.innerHTML=c,b=V(),m=f("div"),v=f("div"),p=f("form"),g=f("div"),k=f("input"),w=V(),D=f("button"),N.c(),S=V(),L=f("div"),I=f("div"),T=f("div"),H=P(M),C=V(),Qe(A.$$.fragment),te=V(),$=f("div"),z=f("button"),se=P(re),this.h()},l(G){e=h(G,"DIV",{});var ae=_(e);t=h(ae,"DIV",{class:!0});var ee=_(t);l=h(ee,"DIV",{class:!0});var U=_(l);i=B(U,o),U.forEach(u),n=x(ee),d=h(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(d)!=="svelte-745w2y"&&(d.innerHTML=c),ee.forEach(u),b=x(ae),m=h(ae,"DIV",{class:!0});var E=_(m);v=h(E,"DIV",{class:!0});var O=_(v);p=h(O,"FORM",{class:!0});var oe=_(p);g=h(oe,"DIV",{class:!0});var q=_(g);k=h(q,"INPUT",{id:!0,type:!0,class:!0}),w=x(q),D=h(q,"BUTTON",{class:!0,type:!0});var W=_(D);N.l(W),W.forEach(u),q.forEach(u),S=x(oe),L=h(oe,"DIV",{class:!0});var we=_(L);I=h(we,"DIV",{class:!0});var ce=_(I);T=h(ce,"DIV",{class:!0});var X=_(T);H=B(X,M),X.forEach(u),C=x(ce),Ye(A.$$.fragment,ce),ce.forEach(u),we.forEach(u),te=x(oe),$=h(oe,"DIV",{class:!0});var ie=_($);z=h(ie,"BUTTON",{class:!0,type:!0});var j=_(z);se=B(j,re),j.forEach(u),ie.forEach(u),oe.forEach(u),O.forEach(u),E.forEach(u),ae.forEach(u),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(k,"id","upload-doc-input"),k.hidden=!0,r(k,"type","file"),k.multiple=!0,r(k,"class","svelte-1vx7r9s"),r(D,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),r(D,"type","button"),r(g,"class","mb-3 w-full"),r(T,"class","mb-1.5 text-xs text-gray-500"),r(I,"class","flex flex-col w-full"),r(L,"class","flex flex-col space-y-1.5"),r(z,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(z,"type","submit"),r($,"class","flex justify-end pt-5 text-sm font-medium"),r(p,"class","flex flex-col w-full"),r(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(G,ae){K(G,e,ae),a(e,t),a(t,l),a(l,i),a(t,n),a(t,d),a(e,b),a(e,m),a(m,v),a(v,p),a(p,g),a(g,k),s[10](k),a(g,w),a(g,D),N.m(D,null),a(p,S),a(p,L),a(L,I),a(I,T),a(T,H),a(I,C),Xe(A,I,null),a(p,te),a(p,$),a($,z),a(z,se),F=!0,ne||(pe=[le(d,"click",s[9]),le(k,"change",s[11]),le(D,"click",s[12]),le(p,"submit",Ht(s[13]))],ne=!0)},p(G,ae){(!F||ae&16)&&o!==(o=G[4].t("Add Docs")+"")&&Z(i,o),Y===(Y=Q(G))&&N?N.p(G,ae):(N.d(1),N=Y(G),N&&(N.c(),N.m(D,null))),(!F||ae&16)&&M!==(M=G[4].t("Tags")+"")&&Z(H,M);const ee={};ae&8&&(ee.tags=G[3]),A.$set(ee),(!F||ae&16)&&re!==(re=G[4].t("Save")+"")&&Z(se,re)},i(G){F||(xe(A.$$.fragment,G),F=!0)},o(G){Me(A.$$.fragment,G),F=!1},d(G){G&&u(e),s[10](null),N.d(),Je(A),ne=!1,$e(pe)}}}function Ns(s){let e,t,l;function o(n){s[14](n)}let i={size:"sm",$$slots:{default:[Os]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Zt({props:i}),ht.push(()=>Vt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,[d]){const c={};d&131103&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],Dt(()=>t=!1)),e.$set(c)},i(n){l||(xe(e.$$.fragment,n),l=!0)},o(n){Me(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function Us(s,e,t){let l;const o=wt("i18n");rt(s,o,I=>t(4,l=I));let{show:i=!1}=e,n,d,c=[];const b=async I=>{const T=await xl(localStorage.token,"",I).catch(M=>(Pe.error(M),null));T&&(await jt(localStorage.token,T.collection_name,T.filename,Tl(T.filename),T.filename,c.length>0?{tags:c}:null).catch(M=>(Pe.error(M),null)),await lt.set(await ot(localStorage.token)))},m=async()=>{if(d&&d.length>0){for(const I of d)console.log(I,I.name.split(".").at(-1)),kl.includes(I.type)||yl.includes(I.name.split(".").at(-1))||Pe.error(`Unknown File Type '${I.type}', but accepting and treating as plain text`),b(I);t(2,d=null),t(1,n.value="",n)}else Pe.error(l.t("File not found."));t(0,i=!1),lt.set(await ot(localStorage.token))},v=async I=>{!c.find(T=>T.name===I)&&I!==""?t(3,c=[...c,{name:I}]):console.log("tag already exists")},p=async I=>{t(3,c=c.filter(T=>T.name!==I))};xt(()=>{});const g=()=>{t(0,i=!1)};function k(I){ht[I?"unshift":"push"](()=>{n=I,t(1,n)})}function w(){d=this.files,t(2,d)}const D=()=>{n.click()},S=()=>{m()};function L(I){i=I,t(0,i)}return s.$$set=I=>{"show"in I&&t(0,i=I.show)},[i,n,d,c,l,o,m,v,p,g,k,w,D,S,L]}class Rs extends vt{constructor(e){super(),pt(this,e,Us,Ns,ut,{show:0})}}const{document:Ut}=Al;function cl(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function dl(s,e,t){const l=s.slice();return l[40]=e[t],l}function fl(s){let e,t,l,o,i,n;return i=new Kl({props:{$$slots:{default:[js]},$$scope:{ctx:s}}}),{c(){e=f("div"),t=f("div"),l=f("div"),o=f("div"),Qe(i.$$.fragment),this.h()},l(d){e=h(d,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var c=_(e);t=h(c,"DIV",{class:!0});var b=_(t);l=h(b,"DIV",{class:!0});var m=_(l);o=h(m,"DIV",{class:!0});var v=_(o);Ye(i.$$.fragment,v),v.forEach(u),m.forEach(u),b.forEach(u),c.forEach(u),this.h()},h(){r(o,"class","max-w-md"),r(l,"class","m-auto pt-64 flex flex-col justify-center"),r(t,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),r(e,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),r(e,"id","dropzone"),r(e,"role","region"),r(e,"aria-label","Drag and Drop Container")},m(d,c){K(d,e,c),a(e,t),a(t,l),a(l,o),Xe(i,o,null),n=!0},i(d){n||(xe(i.$$.fragment,d),n=!0)},o(d){Me(i.$$.fragment,d),n=!1},d(d){d&&u(e),Je(i)}}}function js(s){let e,t="Drop any files here to add to my documents";return{c(){e=f("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-19eg75t"&&(e.textContent=t),this.h()},h(){r(e,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(l,o){K(l,e,o)},p:it,d(l){l&&u(e)}}}function hl(s){let e,t,l;function o(n){s[18](n)}let i={selectedDoc:s[9]};return s[8]!==void 0&&(i.show=s[8]),e=new Xl({props:i}),ht.push(()=>Vt(e,"show",o)),{c(){Qe(e.$$.fragment)},l(n){Ye(e.$$.fragment,n)},m(n,d){Xe(e,n,d),l=!0},p(n,d){const c={};d[0]&512&&(c.selectedDoc=n[9]),!t&&d[0]&256&&(t=!0,c.show=n[8],Dt(()=>t=!1)),e.$set(c)},i(n){l||(xe(e.$$.fragment,n),l=!0)},o(n){Me(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function vl(s){let e,t,l,o,i,n;l=new Sl({props:{state:s[11].filter(ml).length===s[11].length?"checked":"unchecked",indeterminate:s[11].filter(gl).length>0&&s[11].filter(bl).length!==s[11].length}}),l.$on("change",s[24]);function d(m,v){return v[0]&2048&&(i=null),i==null&&(i=m[11].filter(Gs).length===0),i?Zs:qs}let c=d(s,[-1,-1]),b=c(s);return{c(){e=f("div"),t=f("div"),Qe(l.$$.fragment),o=V(),b.c(),this.h()},l(m){e=h(m,"DIV",{class:!0});var v=_(e);t=h(v,"DIV",{class:!0});var p=_(t);Ye(l.$$.fragment,p),p.forEach(u),o=x(v),b.l(v),v.forEach(u),this.h()},h(){r(t,"class","ml-0.5 pr-3 my-auto flex items-center"),r(e,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(m,v){K(m,e,v),a(e,t),Xe(l,t,null),a(e,o),b.m(e,null),n=!0},p(m,v){const p={};v[0]&2048&&(p.state=m[11].filter(ml).length===m[11].length?"checked":"unchecked"),v[0]&2048&&(p.indeterminate=m[11].filter(gl).length>0&&m[11].filter(bl).length!==m[11].length),l.$set(p),c===(c=d(m,v))&&b?b.p(m,v):(b.d(1),b=c(m),b&&(b.c(),b.m(e,null)))},i(m){n||(xe(l.$$.fragment,m),n=!0)},o(m){Me(l.$$.fragment,m),n=!1},d(m){m&&u(e),Je(l),b.d()}}}function qs(s){let e,t,l=s[11].filter(wl).length+"",o,i,n,d,c,b,m=s[12].t("delete")+"",v,p,g;return{c(){e=f("div"),t=f("div"),o=P(l),i=P(" Selected"),n=V(),d=f("div"),c=f("button"),b=f("div"),v=P(m),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var D=_(t);o=B(D,l),i=B(D," Selected"),D.forEach(u),n=x(w),d=h(w,"DIV",{class:!0});var S=_(d);c=h(S,"BUTTON",{class:!0});var L=_(c);b=h(L,"DIV",{class:!0});var I=_(b);v=B(I,m),I.forEach(u),L.forEach(u),S.forEach(u),w.forEach(u),this.h()},h(){r(t,"class","text-xs font-medium py-0.5 self-center mr-1"),r(b,"class","text-xs font-medium self-center line-clamp-1"),r(c,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),r(d,"class","flex gap-1"),r(e,"class","flex-1 flex w-full justify-between items-center")},m(k,w){K(k,e,w),a(e,t),a(t,o),a(t,i),a(e,n),a(e,d),a(d,c),a(c,b),a(b,v),p||(g=le(c,"click",s[27]),p=!0)},p(k,w){w[0]&2048&&l!==(l=k[11].filter(wl).length+"")&&Z(o,l),w[0]&4096&&m!==(m=k[12].t("delete")+"")&&Z(v,m)},d(k){k&&u(e),p=!1,g()}}}function Zs(s){let e,t,l=s[12].t("all")+"",o,i,n,d,c,b=bt(s[5]),m=[];for(let v=0;v<b.length;v+=1)m[v]=pl(dl(s,b,v));return{c(){e=f("button"),t=f("div"),o=P(l),i=V();for(let v=0;v<m.length;v+=1)m[v].c();n=Ot(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var g=_(t);o=B(g,l),g.forEach(u),p.forEach(u),i=x(v);for(let k=0;k<m.length;k+=1)m[k].l(v);n=Ot(),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,p){K(v,e,p),a(e,t),a(t,o),K(v,i,p);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(v,p);K(v,n,p),d||(c=le(e,"click",s[25]),d=!0)},p(v,p){if(p[0]&4096&&l!==(l=v[12].t("all")+"")&&Z(o,l),p[0]&34){b=bt(v[5]);let g;for(g=0;g<b.length;g+=1){const k=dl(v,b,g);m[g]?m[g].p(k,p):(m[g]=pl(k),m[g].c(),m[g].m(n.parentNode,n))}for(;g<m.length;g+=1)m[g].d(1);m.length=b.length}},d(v){v&&(u(e),u(i),u(n)),Nt(m,v),d=!1,c()}}}function pl(s){let e,t,l,o=s[40]+"",i,n,d,c;function b(){return s[26](s[40])}return{c(){e=f("button"),t=f("div"),l=P("#"),i=P(o),n=V(),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var v=_(e);t=h(v,"DIV",{class:!0});var p=_(t);l=B(p,"#"),i=B(p,o),p.forEach(u),n=x(v),v.forEach(u),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(m,v){K(m,e,v),a(e,t),a(t,l),a(t,i),a(e,n),d||(c=le(e,"click",b),d=!0)},p(m,v){s=m,v[0]&32&&o!==(o=s[40]+"")&&Z(i,o)},d(m){m&&u(e),d=!1,c()}}}function zs(s){let e,t,l,o,i,n;return{c(){e=ze("svg"),t=ze("style"),l=P(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),o=ze("circle"),i=ze("circle"),n=ze("circle"),this.h()},l(d){e=Ke(d,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var c=_(e);t=Ke(c,"style",{});var b=_(t);l=B(b,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),b.forEach(u),o=Ke(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(o).forEach(u),i=Ke(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(i).forEach(u),n=Ke(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(n).forEach(u),c.forEach(u),this.h()},h(){r(o,"class","spinner_qM83"),r(o,"cx","4"),r(o,"cy","12"),r(o,"r","2.5"),r(i,"class","spinner_qM83 spinner_oXPr"),r(i,"cx","12"),r(i,"cy","12"),r(i,"r","2.5"),r(n,"class","spinner_qM83 spinner_ZTLf"),r(n,"cx","20"),r(n,"cy","12"),r(n,"r","2.5"),r(e,"class","w-6 h-6 translate-y-[0.5px]"),r(e,"fill","currentColor"),r(e,"viewBox","0 0 24 24"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(d,c){K(d,e,c),a(e,t),a(t,l),a(e,o),a(e,i),a(e,n)},d(d){d&&u(e)}}}function Ks(s){let e,t,l;return{c(){e=ze("svg"),t=ze("path"),l=ze("path"),this.h()},l(o){e=Ke(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=Ke(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),l=Ke(i,"path",{d:!0}),_(l).forEach(u),i.forEach(u),this.h()},h(){r(t,"fill-rule","evenodd"),r(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),r(t,"clip-rule","evenodd"),r(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 24 24"),r(e,"fill","currentColor"),r(e,"class","w-6 h-6")},m(o,i){K(o,e,i),a(e,t),a(e,l)},d(o){o&&u(e)}}}function _l(s){var U;let e,t,l,o,i,n,d,c,b,m,v,p=s[37].name+"",g,k,w=s[37].filename+"",D,S,L,I,T=s[37].title+"",M,H,C,A,te='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',$,z,re='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',se,F,ne,pe;l=new Sl({props:{state:((U=s[37])==null?void 0:U.selected)??"unchecked"}});function Q(E,O){return E[37]?Ks:zs}let Y=Q(s),N=Y(s);function G(...E){return s[28](s[37],...E)}function ae(...E){return s[29](s[37],...E)}function ee(){return s[30](s[37],s[38],s[39])}return{c(){e=f("button"),t=f("div"),Qe(l.$$.fragment),o=V(),i=f("div"),n=f("div"),d=f("div"),N.c(),c=V(),b=f("div"),m=f("div"),v=P("#"),g=P(p),k=P(" ("),D=P(w),S=P(")"),L=V(),I=f("div"),M=P(T),H=V(),C=f("div"),A=f("button"),A.innerHTML=te,$=V(),z=f("button"),z.innerHTML=re,se=V(),this.h()},l(E){e=h(E,"BUTTON",{class:!0});var O=_(e);t=h(O,"DIV",{class:!0});var oe=_(t);Ye(l.$$.fragment,oe),oe.forEach(u),o=x(O),i=h(O,"DIV",{class:!0});var q=_(i);n=h(q,"DIV",{class:!0});var W=_(n);d=h(W,"DIV",{class:!0});var we=_(d);N.l(we),we.forEach(u),c=x(W),b=h(W,"DIV",{class:!0});var ce=_(b);m=h(ce,"DIV",{class:!0});var X=_(m);v=B(X,"#"),g=B(X,p),k=B(X," ("),D=B(X,w),S=B(X,")"),X.forEach(u),L=x(ce),I=h(ce,"DIV",{class:!0});var ie=_(I);M=B(ie,T),ie.forEach(u),ce.forEach(u),W.forEach(u),q.forEach(u),H=x(O),C=h(O,"DIV",{class:!0});var j=_(C);A=h(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ue(A)!=="svelte-105zedk"&&(A.innerHTML=te),$=x(j),z=h(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ue(z)!=="svelte-13wl5iz"&&(z.innerHTML=re),j.forEach(u),se=x(O),O.forEach(u),this.h()},h(){r(t,"class","my-auto flex items-center"),r(d,"class","p-2.5 bg-red-400 text-white rounded-lg"),r(m,"class","font-bold line-clamp-1"),r(I,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),r(b,"class","self-center flex-1"),r(n,"class","flex items-center space-x-3"),r(i,"class","flex flex-1 space-x-4 cursor-pointer w-full"),r(A,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(A,"type","button"),r(z,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(z,"type","button"),r(C,"class","flex flex-row space-x-1 self-center"),r(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(E,O){K(E,e,O),a(e,t),Xe(l,t,null),a(e,o),a(e,i),a(i,n),a(n,d),N.m(d,null),a(n,c),a(n,b),a(b,m),a(m,v),a(m,g),a(m,k),a(m,D),a(m,S),a(b,L),a(b,I),a(I,M),a(e,H),a(e,C),a(C,A),a(C,$),a(C,z),a(e,se),F=!0,ne||(pe=[le(A,"click",G),le(z,"click",ae),le(e,"click",ee)],ne=!0)},p(E,O){var q;s=E;const oe={};O[0]&2048&&(oe.state=((q=s[37])==null?void 0:q.selected)??"unchecked"),l.$set(oe),Y!==(Y=Q(s))&&(N.d(1),N=Y(s),N&&(N.c(),N.m(d,null))),(!F||O[0]&2048)&&p!==(p=s[37].name+"")&&Z(g,p),(!F||O[0]&2048)&&w!==(w=s[37].filename+"")&&Z(D,w),(!F||O[0]&2048)&&T!==(T=s[37].title+"")&&Z(M,T)},i(E){F||(xe(l.$$.fragment,E),F=!0)},o(E){Me(l.$$.fragment,E),F=!1},d(E){E&&u(e),Je(l),N.d(),ne=!1,$e(pe)}}}function Fs(s){let e,t,l,o=s[9],i,n,d,c,b,m,v,p,g,k,w=s[12].t("Documents")+"",D,S,L,I,T,M,H,C,A=s[12].t("Document Settings")+"",te,$,z,re,se=s[12].t("Use '#' in the prompt input to load and select your documents.")+"",F,ne,pe,Q,Y,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',G,ae,ee,U,E,O,oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',q,W,we,ce,X,ie,j,fe,be,He,Ee,Se,_e=s[12].t("Import Documents Mapping")+"",Be,he,me,Oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',Ne,ge,ke,Ie=s[12].t("Export Documents Mapping")+"",Re,Ze,Ae,J='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',ue,De,ye;Ut.title=e=`
		`+s[12].t("Documents")+" | "+s[13]+`
	`;let Ve=s[10]&&fl(s),qe=hl(s);function Fe(y){s[19](y)}let _t={};s[7]!==void 0&&(_t.show=s[7]),n=new Rs({props:_t}),ht.push(()=>Vt(n,"show",Fe));function ct(y){s[20](y)}let Ge={};s[6]!==void 0&&(Ge.show=s[6]),b=new Cs({props:Ge}),ht.push(()=>Vt(b,"show",ct));let ve=s[5].length>0&&vl(s),et=bt(s[11]),Te=[];for(let y=0;y<et.length;y+=1)Te[y]=_l(cl(s,et,y));const We=y=>Me(Te[y],1,1,()=>{Te[y]=null});return{c(){t=V(),Ve&&Ve.c(),l=V(),qe.c(),i=V(),Qe(n.$$.fragment),c=V(),Qe(b.$$.fragment),v=V(),p=f("div"),g=f("div"),k=f("div"),D=P(w),S=V(),L=f("div"),I=f("button"),T=ze("svg"),M=ze("path"),H=V(),C=f("div"),te=P(A),$=V(),z=f("div"),re=P(" "),F=P(se),ne=V(),pe=f("div"),Q=f("div"),Y=f("div"),Y.innerHTML=N,G=V(),ae=f("input"),U=V(),E=f("div"),O=f("button"),O.innerHTML=oe,q=V(),W=f("hr"),we=V(),ve&&ve.c(),ce=V(),X=f("div");for(let y=0;y<Te.length;y+=1)Te[y].c();ie=V(),j=f("div"),fe=f("div"),be=f("input"),He=V(),Ee=f("button"),Se=f("div"),Be=P(_e),he=V(),me=f("div"),me.innerHTML=Oe,Ne=V(),ge=f("button"),ke=f("div"),Re=P(Ie),Ze=V(),Ae=f("div"),Ae.innerHTML=J,this.h()},l(y){Hl("svelte-vxyf60",Ut.head).forEach(u),t=x(y),Ve&&Ve.l(y),l=x(y),qe.l(y),i=x(y),Ye(n.$$.fragment,y),c=x(y),Ye(b.$$.fragment,y),v=x(y),p=h(y,"DIV",{class:!0});var Le=_(p);g=h(Le,"DIV",{class:!0});var je=_(g);k=h(je,"DIV",{class:!0});var Ce=_(k);D=B(Ce,w),Ce.forEach(u),S=x(je),L=h(je,"DIV",{});var tt=_(L);I=h(tt,"BUTTON",{class:!0,type:!0});var nt=_(I);T=Ke(nt,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var st=_(T);M=Ke(st,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(M).forEach(u),st.forEach(u),H=x(nt),C=h(nt,"DIV",{class:!0});var At=_(C);te=B(At,A),At.forEach(u),nt.forEach(u),tt.forEach(u),je.forEach(u),$=x(Le),z=h(Le,"DIV",{class:!0});var mt=_(z);re=B(mt," "),F=B(mt,se),mt.forEach(u),Le.forEach(u),ne=x(y),pe=h(y,"DIV",{class:!0});var kt=_(pe);Q=h(kt,"DIV",{class:!0});var yt=_(Q);Y=h(yt,"DIV",{class:!0,"data-svelte-h":!0}),Ue(Y)!=="svelte-v38fm1"&&(Y.innerHTML=N),G=x(yt),ae=h(yt,"INPUT",{class:!0,placeholder:!0}),yt.forEach(u),U=x(kt),E=h(kt,"DIV",{});var Et=_(E);O=h(Et,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(O)!=="svelte-1rxkyow"&&(O.innerHTML=oe),Et.forEach(u),kt.forEach(u),q=x(y),W=h(y,"HR",{class:!0}),we=x(y),ve&&ve.l(y),ce=x(y),X=h(y,"DIV",{class:!0});var Ct=_(X);for(let Tt=0;Tt<Te.length;Tt+=1)Te[Tt].l(Ct);Ct.forEach(u),ie=x(y),j=h(y,"DIV",{class:!0});var Pt=_(j);fe=h(Pt,"DIV",{class:!0});var dt=_(fe);be=h(dt,"INPUT",{id:!0,type:!0,accept:!0}),He=x(dt),Ee=h(dt,"BUTTON",{class:!0});var ft=_(Ee);Se=h(ft,"DIV",{class:!0});var Bt=_(Se);Be=B(Bt,_e),Bt.forEach(u),he=x(ft),me=h(ft,"DIV",{class:!0,"data-svelte-h":!0}),Ue(me)!=="svelte-aqr4dt"&&(me.innerHTML=Oe),ft.forEach(u),Ne=x(dt),ge=h(dt,"BUTTON",{class:!0});var It=_(ge);ke=h(It,"DIV",{class:!0});var at=_(ke);Re=B(at,Ie),at.forEach(u),Ze=x(It),Ae=h(It,"DIV",{class:!0,"data-svelte-h":!0}),Ue(Ae)!=="svelte-1n7zye"&&(Ae.innerHTML=J),It.forEach(u),dt.forEach(u),Pt.forEach(u),this.h()},h(){r(k,"class","text-lg font-semibold self-center"),r(M,"fill-rule","evenodd"),r(M,"d","M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z"),r(M,"clip-rule","evenodd"),r(T,"xmlns","http://www.w3.org/2000/svg"),r(T,"viewBox","0 0 16 16"),r(T,"fill","currentColor"),r(T,"class","w-4 h-4"),r(C,"class","text-xs"),r(I,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),r(I,"type","button"),r(g,"class","flex justify-between items-center"),r(z,"class","text-gray-500 text-xs mt-1"),r(p,"class","mb-3"),r(Y,"class","self-center ml-1 mr-3"),r(ae,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),r(ae,"placeholder",ee=s[12].t("Search Documents")),r(Q,"class","flex flex-1"),r(O,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),r(pe,"class","flex w-full space-x-2"),r(W,"class","dark:border-gray-850 my-2.5"),r(X,"class","my-3 mb-5"),r(be,"id","documents-import-input"),r(be,"type","file"),r(be,"accept",".json"),be.hidden=!0,r(Se,"class","self-center mr-2 font-medium"),r(me,"class","self-center"),r(Ee,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(ke,"class","self-center mr-2 font-medium"),r(Ae,"class","self-center"),r(ge,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(fe,"class","flex space-x-2"),r(j,"class","flex justify-end w-full mb-2")},m(y,R){K(y,t,R),Ve&&Ve.m(y,R),K(y,l,R),qe.m(y,R),K(y,i,R),Xe(n,y,R),K(y,c,R),Xe(b,y,R),K(y,v,R),K(y,p,R),a(p,g),a(g,k),a(k,D),a(g,S),a(g,L),a(L,I),a(I,T),a(T,M),a(I,H),a(I,C),a(C,te),a(p,$),a(p,z),a(z,re),a(z,F),K(y,ne,R),K(y,pe,R),a(pe,Q),a(Q,Y),a(Q,G),a(Q,ae),de(ae,s[0]),a(pe,U),a(pe,E),a(E,O),K(y,q,R),K(y,W,R),K(y,we,R),ve&&ve.m(y,R),K(y,ce,R),K(y,X,R);for(let Le=0;Le<Te.length;Le+=1)Te[Le]&&Te[Le].m(X,null);K(y,ie,R),K(y,j,R),a(j,fe),a(fe,be),s[31](be),a(fe,He),a(fe,Ee),a(Ee,Se),a(Se,Be),a(Ee,he),a(Ee,me),a(fe,Ne),a(fe,ge),a(ge,ke),a(ke,Re),a(ge,Ze),a(ge,Ae),ue=!0,De||(ye=[le(I,"click",s[21]),le(ae,"input",s[22]),le(O,"click",s[23]),le(be,"change",s[32]),le(be,"change",s[33]),le(Ee,"click",s[34]),le(ge,"click",s[35])],De=!0)},p(y,R){(!ue||R[0]&12288)&&e!==(e=`
		`+y[12].t("Documents")+" | "+y[13]+`
	`)&&(Ut.title=e),y[10]?Ve?R[0]&1024&&xe(Ve,1):(Ve=fl(y),Ve.c(),xe(Ve,1),Ve.m(l.parentNode,l)):Ve&&(St(),Me(Ve,1,1,()=>{Ve=null}),Mt()),R[0]&512&&ut(o,o=y[9])?(St(),Me(qe,1,1,it),Mt(),qe=hl(y),qe.c(),xe(qe,1),qe.m(i.parentNode,i)):qe.p(y,R);const Le={};!d&&R[0]&128&&(d=!0,Le.show=y[7],Dt(()=>d=!1)),n.$set(Le);const je={};if(!m&&R[0]&64&&(m=!0,je.show=y[6],Dt(()=>m=!1)),b.$set(je),(!ue||R[0]&4096)&&w!==(w=y[12].t("Documents")+"")&&Z(D,w),(!ue||R[0]&4096)&&A!==(A=y[12].t("Document Settings")+"")&&Z(te,A),(!ue||R[0]&4096)&&se!==(se=y[12].t("Use '#' in the prompt input to load and select your documents.")+"")&&Z(F,se),(!ue||R[0]&4096&&ee!==(ee=y[12].t("Search Documents")))&&r(ae,"placeholder",ee),R[0]&1&&ae.value!==y[0]&&de(ae,y[0]),y[5].length>0?ve?(ve.p(y,R),R[0]&32&&xe(ve,1)):(ve=vl(y),ve.c(),xe(ve,1),ve.m(ce.parentNode,ce)):ve&&(St(),Me(ve,1,1,()=>{ve=null}),Mt()),R[0]&68352){et=bt(y[11]);let Ce;for(Ce=0;Ce<et.length;Ce+=1){const tt=cl(y,et,Ce);Te[Ce]?(Te[Ce].p(tt,R),xe(Te[Ce],1)):(Te[Ce]=_l(tt),Te[Ce].c(),xe(Te[Ce],1),Te[Ce].m(X,null))}for(St(),Ce=et.length;Ce<Te.length;Ce+=1)We(Ce);Mt()}(!ue||R[0]&4096)&&_e!==(_e=y[12].t("Import Documents Mapping")+"")&&Z(Be,_e),(!ue||R[0]&4096)&&Ie!==(Ie=y[12].t("Export Documents Mapping")+"")&&Z(Re,Ie)},i(y){if(!ue){xe(Ve),xe(qe),xe(n.$$.fragment,y),xe(b.$$.fragment,y),xe(ve);for(let R=0;R<et.length;R+=1)xe(Te[R]);ue=!0}},o(y){Me(Ve),Me(qe),Me(n.$$.fragment,y),Me(b.$$.fragment,y),Me(ve),Te=Te.filter(Boolean);for(let R=0;R<Te.length;R+=1)Me(Te[R]);ue=!1},d(y){y&&(u(t),u(l),u(i),u(c),u(v),u(p),u(ne),u(pe),u(q),u(W),u(we),u(ce),u(X),u(ie),u(j)),Ve&&Ve.d(y),qe.d(y),Je(n,y),Je(b,y),ve&&ve.d(y),Nt(Te,y),s[31](null),De=!1,$e(ye)}}}const Gs=s=>(s==null?void 0:s.selected)==="checked",ml=s=>(s==null?void 0:s.selected)==="checked",gl=s=>(s==null?void 0:s.selected)==="checked",bl=s=>(s==null?void 0:s.selected)==="checked",wl=s=>(s==null?void 0:s.selected)==="checked";function Ws(s,e,t){let l,o,i;rt(s,lt,E=>t(2,l=E)),rt(s,Ol,E=>t(13,i=E));const{saveAs:n}=Cl,d=wt("i18n");rt(s,d,E=>t(12,o=E));let c="",b="",m,v=[],p=!1,g=!1,k=!1,w,D="",S=!1;const L=async E=>{await Wt(localStorage.token,E),await lt.set(await ot(localStorage.token))},I=async E=>{await Promise.all(E.map(async O=>await Wt(localStorage.token,O.name))),await lt.set(await ot(localStorage.token))},T=async E=>{const O=await xl(localStorage.token,"",E).catch(oe=>(Pe.error(oe),null));O&&(await jt(localStorage.token,O.collection_name,O.filename,Tl(O.filename),O.filename).catch(oe=>(Pe.error(oe),null)),await lt.set(await ot(localStorage.token)))};xt(()=>{lt.subscribe(W=>{t(5,v=W.reduce((we,ce,X,ie)=>{var j;return[...new Set([...we,...(((j=ce==null?void 0:ce.content)==null?void 0:j.tags)??[]).map(fe=>fe.name)])]},[]))});const E=document.querySelector("body"),O=W=>{W.preventDefault(),t(10,S=!0)},oe=()=>{t(10,S=!1)},q=async W=>{var we,ce;if(W.preventDefault(),(we=W.dataTransfer)!=null&&we.files){let X=new FileReader;X.onload=j=>{files=[...files,{type:"image",url:`${j.target.result}`}]};const ie=(ce=W.dataTransfer)==null?void 0:ce.files;if(ie&&ie.length>0)for(const j of ie)console.log(j,j.name.split(".").at(-1)),kl.includes(j.type)||yl.includes(j.name.split(".").at(-1))||Pe.error(`Unknown File Type '${j.type}', but accepting and treating as plain text`),T(j);else Pe.error(o.t("File not found."))}t(10,S=!1)};return E==null||E.addEventListener("dragover",O),E==null||E.addEventListener("drop",q),E==null||E.addEventListener("dragleave",oe),()=>{E==null||E.removeEventListener("dragover",O),E==null||E.removeEventListener("drop",q),E==null||E.removeEventListener("dragleave",oe)}});let M;function H(E){k=E,t(8,k)}function C(E){g=E,t(7,g)}function A(E){p=E,t(6,p)}const te=()=>{t(6,p=!p)};function $(){b=this.value,t(0,b)}const z=()=>{t(7,g=!0)},re=E=>{E.detail==="checked"?t(11,M=M.map(O=>({...O,selected:"checked"}))):E.detail==="unchecked"&&t(11,M=M.map(O=>({...O,selected:"unchecked"})))},se=async()=>{t(1,D="")},F=async E=>{t(1,D=E)},ne=async()=>{I(M.filter(E=>E.selected==="checked"))},pe=async(E,O)=>{O.stopPropagation(),t(8,k=!k),t(9,w=E)},Q=(E,O)=>{O.stopPropagation(),L(E.name)},Y=(E,O,oe)=>{(E==null?void 0:E.selected)==="checked"?t(11,O[oe].selected="unchecked",M):t(11,O[oe].selected="checked",M)};function N(E){ht[E?"unshift":"push"](()=>{m=E,t(4,m)})}function G(){c=this.files,t(3,c)}const ae=()=>{console.log(c);const E=new FileReader;E.onload=async O=>{const oe=JSON.parse(O.target.result);console.log(oe);for(const q of oe)await jt(localStorage.token,q.collection_name,q.filename,q.name,q.title).catch(W=>(Pe.error(W),null));await lt.set(await ot(localStorage.token))},E.readAsText(c[0])},ee=()=>{m.click()},U=async()=>{let E=new Blob([JSON.stringify(l)],{type:"application/json"});n(E,`documents-mapping-export-${Date.now()}.json`)};return s.$$.update=()=>{s.$$.dirty[0]&7&&t(11,M=l.filter(E=>{var O;return(D===""||(((O=E==null?void 0:E.content)==null?void 0:O.tags)??[]).map(oe=>oe.name).includes(D))&&(b===""||E.name.includes(b))}))},[b,D,l,c,m,v,p,g,k,w,S,M,o,i,n,d,L,I,H,C,A,te,$,z,re,se,F,ne,pe,Q,Y,N,G,ae,ee,U]}class Qs extends vt{constructor(e){super(),pt(this,e,Ws,Fs,ut,{},null,[-1,-1])}}function Ys(s){let e,t;return e=new Qs({}),{c(){Qe(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,o){Xe(e,l,o),t=!0},p:it,i(l){t||(xe(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}class ha extends vt{constructor(e){super(),pt(this,e,null,Ys,ut,{})}}export{ha as component};
//# sourceMappingURL=9.cff7205b.js.map
