import{v as c,O as s}from"./index.f3427c3e.js";import"./sha256.8dba905a.js";import{l as d}from"./index.b3b584e7.js";const g=async(a="")=>{let o=null;const e=await fetch(`${c}/config`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),"detail"in t?o=t.detail:o="Server connection failed",null));if(o)throw o;return e},j=async(a="",o)=>{let e=null;const t=await fetch(`${c}/config/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}},body:JSON.stringify({enable_ollama_api:o})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?e=n.detail:e="Server connection failed",null));if(e)throw e;return t},A=async(a="")=>{let o=null;const e=await fetch(`${c}/urls`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),"detail"in t?o=t.detail:o="Server connection failed",null));if(o)throw o;return e.OLLAMA_BASE_URLS},m=async(a="",o)=>{let e=null;const t=await fetch(`${c}/urls/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}},body:JSON.stringify({urls:o})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?e=n.detail:e="Server connection failed",null));if(e)throw e;return t.OLLAMA_BASE_URLS},$=async(a,o)=>{let e=null;const t=await fetch(`${c}/api/version${o?`/${o}`:""}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?e=n.detail:e="Server connection failed",null));if(e)throw e;return(t==null?void 0:t.version)??!1},S=async(a="",o)=>{let e=new AbortController,t=null;const n=await fetch(`${c}/api/chat`,{signal:e.signal,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(o)}).catch(i=>(t=i,null));if(t)throw t;return[n,e]},O=async(a,o,e)=>{let t=null;const n=await fetch(`${c}/api/create`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:o,modelfile:e})}).catch(i=>(t=i,null));if(t)throw t;return n},T=async(a,o,e=null)=>{let t=null;const n=await fetch(`${c}/api/delete${e!==null?`/${e}`:""}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:o})}).then(async i=>{if(!i.ok)throw await i.json();return i.json()}).then(i=>(console.log(i),!0)).catch(i=>(console.log(i),t=i,"detail"in i&&(t=i.detail),null));if(t)throw t;return n},C=async(a,o,e=null)=>{let t=null;const n=new AbortController,i=await fetch(`${c}/api/pull${e!==null?`/${e}`:""}`,{signal:n.signal,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:o})}).catch(l=>(console.log(l),t=l,"detail"in l&&(t=l.detail),null));if(t)throw t;return[i,n]},B=async(a,o,e=null)=>{let t=null;const n=await fetch(`${c}/models/download${e!==null?`/${e}`:""}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({url:o})}).catch(i=>(console.log(i),t=i,"detail"in i&&(t=i.detail),null));if(t)throw t;return n},P=async(a,o,e=null)=>{let t=null;const n=new FormData;n.append("file",o);const i=await fetch(`${c}/models/upload${e!==null?`/${e}`:""}`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:n}).catch(l=>(console.log(l),t=l,"detail"in l&&(t=l.detail),null));if(t)throw t;return i},E=async(a="")=>{let o=null;const e=await fetch(`${s}/config`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),"detail"in t?o=t.detail:o="Server connection failed",null));if(o)throw o;return e},b=async(a="",o)=>{let e=null;const t=await fetch(`${s}/config/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}},body:JSON.stringify({enable_openai_api:o})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?e=n.detail:e="Server connection failed",null));if(e)throw e;return t},z=async(a="")=>{let o=null;const e=await fetch(`${s}/urls`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),"detail"in t?o=t.detail:o="Server connection failed",null));if(o)throw o;return e.OPENAI_API_BASE_URLS},_=async(a="",o)=>{let e=null;const t=await fetch(`${s}/urls/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}},body:JSON.stringify({urls:o})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?e=n.detail:e="Server connection failed",null));if(e)throw e;return t.OPENAI_API_BASE_URLS},N=async(a="")=>{let o=null;const e=await fetch(`${s}/keys`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),"detail"in t?o=t.detail:o="Server connection failed",null));if(o)throw o;return e.OPENAI_API_KEYS},v=async(a="",o)=>{let e=null;const t=await fetch(`${s}/keys/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}},body:JSON.stringify({keys:o})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?e=n.detail:e="Server connection failed",null));if(e)throw e;return t.OPENAI_API_KEYS},I=async(a,o)=>{let e=null;const t=await fetch(`${s}/models${typeof o=="number"?`/${o}`:""}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>{var i;return e=`OpenAI: ${((i=n==null?void 0:n.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;return t},J=async(a="",o,e=s)=>{const t=new AbortController;let n=null;const i=await fetch(`${e}/chat/completions`,{signal:t.signal,method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(o)}).catch(l=>(console.log(l),n=l,null));if(n)throw n;return[i,t]},L=async(a="",o,e,t,n,i=s)=>{var p,u;let l=null;o=d(o,t),console.log(o);const h=await fetch(`${i}/chat/completions`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({model:e,messages:[{role:"user",content:o}],stream:!1,max_tokens:50,...n&&{chat_id:n},title:!0})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>(console.log(r),"detail"in r&&(l=r.detail),null));if(l)throw l;return((u=(p=h==null?void 0:h.choices[0])==null?void 0:p.message)==null?void 0:u.content.replace(/["']/g,""))??"New Chat"},U=async(a="",o,e,t,n=s)=>{var p,u;let i=null;const l=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(new Date),h=await fetch(`${n}/chat/completions`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({model:o,messages:[{role:"assistant",content:`You are tasked with generating web search queries. Give me an appropriate query to answer my question for google search. Answer with only the query. Today is ${l}.`},{role:"user",content:t}],stream:!1,max_tokens:30})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{console.log(r),"detail"in r&&(i=r.detail)});if(i)throw i;return((u=(p=h==null?void 0:h.choices[0])==null?void 0:p.message)==null?void 0:u.content.replace(/["']/g,""))??void 0};export{g as a,A as b,B as c,T as d,O as e,z as f,$ as g,N as h,I as i,E as j,_ as k,v as l,m,j as n,b as o,C as p,S as q,J as r,L as s,U as t,P as u};
//# sourceMappingURL=index.4f36ce5d.js.map
