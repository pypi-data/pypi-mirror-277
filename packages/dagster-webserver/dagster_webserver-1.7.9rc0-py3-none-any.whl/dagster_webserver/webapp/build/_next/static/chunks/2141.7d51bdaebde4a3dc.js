"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2141],{15686:function(e,n,s){s.d(n,{r:function(){return Q},$:function(){return F}});var r=s(73235),t=s(52322),i=s(40794),o=s(89130),l=s(14934),c=s(39013),d=s(49308),a=s(74580),x=s(35292),u=s(43212),h=s(16629),j=s(34147),p=s(89891),m=s(89776),g=s(35002),f=s(1747),y=s(37483),b=s(82469),v=s(53664);s(2784);var R=s(7267),w=s(47933),U=s(73407),E=s(89918),$=s(10539);let S={configuration:"Configuration",uses:"Uses"},O=e=>{let{repoAddress:n,resourceName:s,numUses:r}=e,i=(0,R.$B)(["/locations/:repoPath/resources/:name/:tab?"]),o=(null==i?void 0:i.params.tab)&&S[null==i?void 0:i.params.tab]||"Configuration";return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(U.mQ,{size:"large",selectedTabId:o,children:[(0,t.jsx)(E.f,{id:"Configuration",title:"Configuration",to:(0,$.$U)(n,"/resources/".concat(s))},"configuration"),(0,t.jsx)(E.f,{id:"Uses",title:(0,t.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:["Uses",(0,t.jsx)(u.V,{intent:"none",minimal:!0,children:r})]}),to:(0,$.$U)(n,"/resources/".concat(s,"/uses"))},"uses")]})})};var N=s(8068),L=s(78491),T=s(69737),_=s(84842),D=s(20171),P=s(79059),C=s(34219),I=s(59923),J=s(72311),k=s(20718);function q(){let e=(0,r._)(["\n  fragment ResourceDetailsFragment on ResourceDetails {\n    name\n    description\n    configFields {\n      name\n      description\n      configTypeKey\n      isRequired\n      defaultValueAsJson\n    }\n    configuredValues {\n      key\n      value\n      type\n    }\n    nestedResources {\n      name\n      type\n      resource {\n        name\n        resourceType\n        description\n      }\n    }\n    parentResources {\n      name\n      resource {\n        name\n        resourceType\n        description\n      }\n    }\n    assetKeysUsing {\n      path\n    }\n    schedulesUsing\n    sensorsUsing\n    jobsOpsUsing {\n      job {\n        id\n        name\n      }\n      opsUsing {\n        handleID\n        solid {\n          name\n        }\n      }\n    }\n    resourceType\n  }\n"]);return q=function(){return e},e}function A(){let e=(0,r._)(["\n  query ResourceRootQuery($resourceSelector: ResourceSelector!) {\n    topLevelResourceDetailsOrError(resourceSelector: $resourceSelector) {\n      ...ResourceDetailsFragment\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"]);return A=function(){return e},e}let V=e=>"StringSourceType"===e?"String":"IntSourceType"===e?"Int":"BoolSourceType"===e?"Bool":e,F=e=>(null==e?void 0:e.split(".").pop())||null,W=e=>e?e.name.startsWith("_nested_")?F(null==e?void 0:e.resourceType):e.name:null,z=e=>(0,t.jsx)(l.x,{padding:{left:24,vertical:16},background:c.gJ(),border:"all",children:e.children}),K=e=>e.split("\n").map(e=>e.replace(/^    /,"")).join("\n"),Q=e=>{var n,s,r,o;(0,T.Px)();let{repoAddress:f}=e,{resourceName:y}=(0,R.UO)();(0,D.j)("Resource: ".concat(y));let b={...(0,k.$)(f),resourceName:y},v=(0,i.a)(Z,{variables:{resourceSelector:b}});(0,C.Hu)(v,"ResourceRootQuery");let w=(null===(n=v.data)||void 0===n?void 0:n.topLevelResourceDetailsOrError.__typename)==="ResourceDetails"&&W(null===(s=v.data)||void 0===s?void 0:s.topLevelResourceDetailsOrError)||y,U=(null===(r=v.data)||void 0===r?void 0:r.topLevelResourceDetailsOrError.__typename)==="ResourceDetails"?v.data.topLevelResourceDetailsOrError.parentResources.length+v.data.topLevelResourceDetailsOrError.assetKeysUsing.length+v.data.topLevelResourceDetailsOrError.jobsOpsUsing.length+v.data.topLevelResourceDetailsOrError.schedulesUsing.length+v.data.topLevelResourceDetailsOrError.sensorsUsing.length:0,E=null===(o=(0,R.$B)(["/locations/:repoPath/resources/:name/:tab?"]))||void 0===o?void 0:o.params.tab;return(0,t.jsxs)(d.T,{style:{height:"100%",overflow:"hidden"},children:[(0,t.jsx)(a.m,{title:(0,t.jsx)(x.X6,{children:w}),tags:(0,t.jsxs)(u.V,{icon:"resource",children:["Resource in ",(0,t.jsx)(P.b,{repoAddress:f})]}),tabs:(0,t.jsx)(O,{repoAddress:f,resourceName:y,numUses:U})}),(0,t.jsx)(I.g,{queryResult:v,allowStaleData:!0,children:e=>{let{topLevelResourceDetailsOrError:n}=e;if("ResourceDetails"!==n.__typename){let e=null;return"PythonError"===n.__typename&&(e=n.message),(0,t.jsx)(h.b,{intent:"warning",title:(0,t.jsxs)(j.Z,{direction:"row",spacing:4,children:[(0,t.jsx)("div",{children:"Could not load resource."}),e&&(0,t.jsx)(p.Z,{color:c.Es(),underline:"always",onClick:()=>{(0,N._K)({title:"Python error",body:e})},children:"View error"})]})})}let s=F(n.resourceType);return(0,t.jsx)("div",{style:{height:"100%",display:"flex"},children:(0,t.jsx)(m.O,{identifier:"resource-explorer",firstInitialPercent:50,firstMinSize:400,first:(0,t.jsx)(l.x,{padding:{bottom:48},style:{overflowY:"auto"},children:"uses"===E?(0,t.jsx)(H,{resourceDetails:n,repoAddress:f,numUses:U}):(0,t.jsx)(B,{resourceDetails:n,repoAddress:f})}),second:(0,t.jsxs)(l.x,{padding:{bottom:48},style:{overflowY:"auto"},children:[(0,t.jsxs)(l.x,{flex:{gap:4,direction:"column"},margin:{left:24,right:12,vertical:16},children:[(0,t.jsx)(x.X6,{children:w}),(0,t.jsx)(g.u,{content:n.resourceType||"",children:(0,t.jsx)(x.fv,{children:s})})]}),(0,t.jsx)(l.x,{border:"top-and-bottom",background:c.gJ(),padding:{vertical:8,horizontal:24},style:{fontSize:"12px",fontWeight:500},children:"Description"}),(0,t.jsx)(l.x,{padding:{horizontal:24,vertical:16},children:n.description?(0,t.jsx)(J.U,{children:K(n.description)}):"None"})]})})})}})]})},B=e=>{let{resourceDetails:n,repoAddress:s}=e,r=Object.fromEntries(n.configuredValues.map(e=>[e.key,{value:e.value,type:e.type}])),i=n.nestedResources;return(0,t.jsxs)(t.Fragment,{children:[i.length>0&&(0,t.jsxs)(l.x,{children:[(0,t.jsx)(z,{children:(0,t.jsx)(x.pm,{children:"Resource dependencies"})}),(0,t.jsxs)(f.i,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{width:120},children:"Key"}),(0,t.jsx)("th",{style:{width:180},children:"Resource"})]})}),(0,t.jsx)("tbody",{children:i.map(e=>{let n="TOP_LEVEL"===e.type&&e.resource?(0,t.jsx)(M,{url:(0,$.$U)(s,"/resources/".concat(e.name)),name:W(e.resource)||"",description:e.resource.description||void 0},e.name):(0,t.jsx)(M,{name:e.name},e.name);return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:e.name})}),(0,t.jsx)("td",{colSpan:2,children:n})]},e.name)})})]})]}),(0,t.jsxs)(l.x,{children:[(0,t.jsx)(z,{children:(0,t.jsx)(x.pm,{children:"Configuration"})}),(0,t.jsxs)(f.i,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{width:120},children:"Key"}),(0,t.jsx)("th",{style:{width:90},children:"Type"}),(0,t.jsx)("th",{style:{width:90},children:"Value"})]})}),(0,t.jsx)("tbody",{children:0===n.configFields.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:3,children:(0,t.jsx)(l.x,{padding:{vertical:8},children:(0,t.jsx)(y.t,{icon:"settings",title:"No configuration",description:"This resource has no configuration fields."})})})}):n.configFields.map(e=>{let n=e.defaultValueAsJson,s=r.hasOwnProperty(e.name)?r[e.name].type:null,i=r.hasOwnProperty(e.name)?r[e.name].value:n,o="VALUE"===s&&n===i;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsxs)(l.x,{flex:{direction:"column",gap:4,alignItems:"flex-start"},children:[(0,t.jsx)("strong",{children:e.name}),(0,t.jsx)("div",{style:{fontSize:12,color:c.$()},children:e.description})]})}),(0,t.jsx)("td",{children:V(e.configTypeKey)}),(0,t.jsx)("td",{children:(0,t.jsxs)(l.x,{flex:{direction:"row",gap:16},children:[(0,t.jsx)(g.u,{content:(0,t.jsxs)(t.Fragment,{children:["Default: ",n]}),canShow:!o&&!!n,children:"ENV_VAR"===s?(0,t.jsx)(u.V,{children:i}):i}),o&&(0,t.jsx)(u.V,{children:"Default"}),"ENV_VAR"===s&&(0,t.jsx)(u.V,{intent:"success",children:"Env var"})]})})]},e.name)})})]})]})]})},H=e=>{let{resourceDetails:n,repoAddress:s,numUses:r}=e;if(0===r)return(0,t.jsx)(l.x,{padding:{vertical:16},children:(0,t.jsx)(y.t,{icon:"list",title:"No uses",description:"This resource is not used by any assets or resources."})});let i=n.parentResources;return(0,t.jsxs)(t.Fragment,{children:[i.length>0&&(0,t.jsxs)(l.x,{children:[(0,t.jsx)(z,{children:(0,t.jsx)(x.pm,{children:"Parent resources"})}),(0,t.jsxs)(f.i,{children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:(0,t.jsx)("th",{children:"Resource"})})}),(0,t.jsx)("tbody",{children:i.map(e=>e.resource&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsx)(M,{url:(0,$.$U)(s,"/resources/".concat(e.name)),name:W(e.resource)||"",description:e.resource.description||void 0})})},e.name))})]})]}),n.assetKeysUsing.length>0&&(0,t.jsxs)(l.x,{children:[(0,t.jsx)(z,{children:(0,t.jsx)(x.pm,{children:"Assets"})}),(0,t.jsxs)(f.i,{children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:(0,t.jsx)("th",{children:"Asset key"})})}),(0,t.jsx)("tbody",{children:n.assetKeysUsing.map(e=>(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsx)(_.R,{path:e.path,icon:"asset"},e.path.join("/"))})},e.path.join("/")))})]})]}),n.jobsOpsUsing.length>0&&(0,t.jsxs)(l.x,{children:[(0,t.jsx)(z,{children:(0,t.jsx)(x.pm,{children:"Jobs"})}),(0,t.jsxs)(f.i,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Job name"}),(0,t.jsx)("th",{children:"Ops"})]})}),(0,t.jsx)("tbody",{children:n.jobsOpsUsing.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[(0,t.jsx)(b.JO,{name:"job",color:c.md()}),(0,t.jsx)(w.rU,{to:(0,$.$U)(s,"/jobs/".concat(e.job.name)),children:(0,t.jsx)(v.g,{text:e.job.name})})]})}),(0,t.jsx)("td",{children:(0,t.jsx)(l.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:e.opsUsing.map(n=>(0,t.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[(0,t.jsx)(b.JO,{name:"op",color:c.md()}),(0,t.jsx)(w.rU,{to:(0,$.$U)(s,"/jobs/".concat(e.job.name,"/").concat(n.handleID.split(".").join("/"))),children:(0,t.jsx)(v.g,{text:n.solid.name})})]},n.handleID))})})]},e.job.name))})]})]}),[{name:"Schedules",objects:n.schedulesUsing,icon:(0,t.jsx)(b.JO,{name:"schedule",color:c.md()})},{name:"Sensors",objects:n.sensorsUsing,icon:(0,t.jsx)(b.JO,{name:"sensors",color:c.md()})}].filter(e=>{let{objects:n}=e;return n.length>0}).map(e=>{let{name:n,objects:r,icon:i}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)(z,{children:(0,t.jsx)(x.pm,{children:n})}),(0,t.jsxs)(f.i,{children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:(0,t.jsx)("th",{children:"Name"})})}),(0,t.jsx)("tbody",{children:r.map(e=>(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[i,(0,t.jsx)(w.rU,{to:(0,$.$U)(s,"/".concat(n.toLowerCase(),"/").concat(e)),children:(0,t.jsx)(v.g,{text:e})})]})})},n+":"+e))})]})]},n)})]})},M=e=>{let{url:n,name:s,description:r}=e;return(0,t.jsxs)(l.x,{flex:{direction:"column"},children:[(0,t.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:4},style:{maxWidth:"100%"},children:[(0,t.jsx)(b.JO,{name:"resource",color:c.L$()}),(0,t.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:n?(0,t.jsx)(w.rU,{to:n,style:{overflow:"hidden"},children:(0,t.jsx)(v.g,{text:s})}):(0,t.jsx)(v.g,{text:s})})]}),(0,t.jsx)(x.aU,{children:r})]})},X=(0,o.Ps)(q()),Z=(0,o.Ps)(A(),X,L.B)},3922:function(e,n,s){s.d(n,{K:function(){return m},f:function(){return g}});var r=s(52322),t=s(14934),i=s(82469),o=s(39013),l=s(53664),c=s(35292),d=s(35002),a=s(47933),x=s(35505),u=s(15686),h=s(17008),j=s(10539);let p="1.5fr 1fr 1fr",m=e=>{let{name:n,description:s,repoAddress:x,start:p,height:m,resourceType:g,parentResources:y,jobsOpsUsing:b,assetKeysUsing:v,schedulesUsing:R,sensorsUsing:w}=e,U=(0,u.$)(g),E=y.length+b.length+v.length+R.length+w.length;return(0,r.jsx)(h.X2,{$height:m,$start:p,children:(0,r.jsxs)(f,{border:"bottom",children:[(0,r.jsx)(h.E5,{children:(0,r.jsxs)(t.x,{flex:{direction:"column",gap:4},children:[(0,r.jsxs)(t.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,r.jsx)(i.JO,{name:"resource",color:o.md()}),(0,r.jsx)("span",{style:{fontWeight:500},children:(0,r.jsx)(a.rU,{to:(0,j.$U)(x,"/resources/".concat(n)),children:(0,r.jsx)(l.g,{text:n})})})]}),(0,r.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,r.jsx)(c.YS,{style:{color:o.$(),whiteSpace:"nowrap"},children:s})})]})}),(0,r.jsx)(h.E5,{children:(0,r.jsx)(d.u,{content:g,children:(0,r.jsx)(c.fv,{children:U})})}),(0,r.jsx)(h.E5,{children:(0,r.jsx)(a.rU,{to:(0,j.$U)(x,"/resources/".concat(n,"/uses")),children:E})})]})})},g=()=>(0,r.jsxs)(h.VJ,{templateColumns:p,sticky:!0,children:[(0,r.jsx)(h.qN,{children:"Name"}),(0,r.jsx)(h.qN,{children:"Type"}),(0,r.jsx)(h.qN,{children:"Uses"})]}),f=(0,x.ZP)(t.x).withConfig({componentId:"sc-b579ae3-0"})(["display:grid;grid-template-columns:",";height:100%;"],p)},71662:function(e,n,s){s.d(n,{L:function(){return N},g:function(){return O}});var r=s(73235),t=s(52322),i=s(40794),o=s(89130),l=s(14934),c=s(79106),d=s(39013),a=s(37483),x=s(74159),u=s(2784),h=s(88510),j=s(3922),p=s(17008);let m=e=>{let{repoAddress:n,resources:s}=e,r=(0,u.useRef)(null),i=(0,h.MG)({count:s.length,getScrollElement:()=>r.current,estimateSize:()=>64,overscan:10}),o=i.getTotalSize(),l=i.getVirtualItems();return(0,t.jsx)("div",{style:{overflow:"hidden"},children:(0,t.jsxs)(p.W2,{ref:r,children:[(0,t.jsx)(j.f,{}),(0,t.jsx)(p.Nh,{$totalHeight:o,children:l.map(e=>{let{index:r,key:i,size:o,start:l}=e,c=s[r];return(0,t.jsx)(j.K,{repoAddress:n,height:o,start:l,...c},i)})})]})})};var g=s(78491),f=s(16336),y=s(69737),b=s(20171),v=s(4378),R=s(34219),w=s(5842),U=s(22563),E=s(20718);function $(){let e=(0,r._)(["\n  fragment ResourceEntryFragment on ResourceDetails {\n    name\n    description\n    resourceType\n    parentResources {\n      name\n    }\n    assetKeysUsing {\n      path\n    }\n    jobsOpsUsing {\n      job {\n        id\n      }\n    }\n    schedulesUsing\n    sensorsUsing\n  }\n"]);return $=function(){return e},e}function S(){let e=(0,r._)(["\n  query WorkspaceResourcesQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        allTopLevelResourceDetails {\n          id\n          ...ResourceEntryFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return S=function(){return e},e}let O=e=>{let{repoAddress:n}=e;(0,y.Px)();let s=(0,U.Uz)(n);(0,b.j)("Resources: ".concat(s));let[r,o]=(0,v.q)({queryKey:"search",defaults:{search:""}}),h=(0,E.$)(n),j=(0,i.a)(L,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:h}});(0,R.Hu)(j,"WorkspaceResourcesQuery");let{data:p,loading:g}=j,$=(0,f.C4)(j,f.dT),S=r.trim().toLocaleLowerCase(),O=S.length>0,N=(0,u.useMemo)(()=>(null==p?void 0:p.repositoryOrError.__typename)==="Repository"?p.repositoryOrError.allTopLevelResourceDetails:[],[p]),T=(0,u.useMemo)(()=>{let e=S.toLocaleLowerCase();return N.filter(n=>{let{name:s}=n;return s.toLocaleLowerCase().includes(e)})},[N,S]);return(0,t.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,t.jsx)(w.h,{repoAddress:n,tab:"resources",refreshState:$,queryData:j}),(0,t.jsx)(l.x,{padding:{horizontal:24,vertical:16},children:(0,t.jsx)(x.oi,{icon:"search",value:r,onChange:e=>o(e.target.value),placeholder:"Filter by resource name…",style:{width:"340px"}})}),g&&!p?(0,t.jsx)(l.x,{padding:64,children:(0,t.jsx)(c.$,{purpose:"page"})}):g&&!p?(0,t.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,t.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,t.jsx)(c.$,{purpose:"body-text"}),(0,t.jsx)("div",{style:{color:d.$()},children:"Loading resources…"})]})}):T.length?(0,t.jsx)(m,{repoAddress:n,resources:T}):O?(0,t.jsx)(l.x,{padding:{top:20},children:(0,t.jsx)(a.t,{icon:"search",title:"No matching resources",description:(0,t.jsxs)("div",{children:["No resources matching ",(0,t.jsx)("strong",{children:r})," were found in ",s]})})}):(0,t.jsx)(l.x,{padding:{top:20},children:(0,t.jsx)(a.t,{icon:"search",title:"No resources",description:"No resources were found in ".concat(s)})})]})},N=(0,o.Ps)($()),L=(0,o.Ps)(S(),g.B,N)},63485:function(e,n,s){s.d(n,{I:function(){return W},b:function(){return F}});var r=s(73235),t=s(52322),i=s(3842),o=s(89130),l=s(53664),c=s(14934),d=s(2784),a=s(47933),x=s(35505),u=s(83738),h=s(46146),j=s(10539),p=s(16336),m=s(60603),g=s(79106),f=s(55010),y=s(35002),b=s(38491),v=s(82469),R=s(36803),w=s(32177),U=s(51701),E=s(88257),$=s(34219),S=s(83846),O=s(42519),N=s(43);function L(){let e=(0,r._)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        pipelineName\n        executionPlan {\n          artifactsPersisted\n          ...ExecutionPlanToGraphFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return L=function(){return e},e}let T=e=>{let{job:n,isAssetJob:s,repoAddress:r}=e,o=n.runs.length?n.runs[0]:null,l={pipelineName:n.name,repositoryName:r.name,repositoryLocationName:r.location},c=(0,w.DO)(n.name),a=(0,O.D)(),{permissions:{canLaunchPipelineReexecution:x,canLaunchPipelineExecution:u},disabledReasons:h}=(0,R.xz)(r.location),[p,U]=(0,i.t)(_),{data:L}=U;(0,$.Hu)(U,"RunReExecutionQuery");let T=(0,d.useCallback)(()=>{(null==o?void 0:o.id)&&p({variables:{runId:o.id}})},[o,p]),D=(null==L?void 0:L.pipelineRunOrError.__typename)==="Run"?null==L?void 0:L.pipelineRunOrError:null,P="loading"===s?(0,t.jsx)(m.sN,{icon:"execute",text:"Loading...",disabled:!0}):!0===s?(0,t.jsx)(m.sN,{icon:c.loading?(0,t.jsx)(g.$,{purpose:"caption-text"}):"execute",text:"Launch new run",disabled:!u,onClick:e=>c.onClick(l,e)}):(0,t.jsx)(N.U,{icon:"execute",text:"Launch new run",disabled:!u,to:(0,j.jT)({repoName:r.name,repoLocation:r.location,pipelineName:n.name,isJob:n.isJob,path:"/playground"})}),C=(0,t.jsx)(m.sN,{icon:"replay",text:"Re-execute latest run",onClick:()=>D?a(D,E.hmq.ALL_STEPS):void 0,disabled:!x||!D||!(0,S.EP)(D)}),I=(0,t.jsx)(m.sN,{icon:"sync_problem",text:"Re-execute latest run from failure",onClick:()=>D?a(D,E.hmq.FROM_FAILURE):void 0,disabled:!x||!D||!(0,S.VM)(D)});return(0,t.jsxs)(t.Fragment,{children:[c.launchpadElement,(0,t.jsx)(f.J,{onOpened:()=>T(),content:(0,t.jsxs)(m.v2,{children:[(0,t.jsx)(N.U,{to:(0,j.jT)({repoName:r.name,repoLocation:r.location,pipelineName:n.name,isJob:n.isJob}),icon:"job",text:"View job"}),(0,t.jsx)(N.U,{to:(0,j.jT)({repoName:r.name,repoLocation:r.location,pipelineName:n.name,isJob:n.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),u?P:(0,t.jsx)(y.u,{content:h.canLaunchPipelineExecution,display:"block",children:P}),x?C:(0,t.jsx)(y.u,{content:h.canLaunchPipelineReexecution,display:"block",children:C}),x?I:(0,t.jsx)(y.u,{content:h.canLaunchPipelineReexecution,display:"block",children:I})]}),position:"bottom-left",children:(0,t.jsx)(b.zx,{icon:(0,t.jsx)(v.JO,{name:"expand_more"})})})]})},_=(0,o.Ps)(L(),U.$);var D=s(60648),P=s(74283),C=s(84046),I=s(33182),J=s(4219),k=s(69698),q=s(17008);function A(){let e=(0,r._)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        isAssetJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return A=function(){return e},e}let V="1.5fr 1fr 180px 96px 80px",F=e=>{let{name:n,isJob:s,repoAddress:r,start:o,height:x}=e,[m,g]=(0,i.t)(Q,{variables:{selector:(0,h._T)(r,n)}});(0,$.Hu)(g,"SingleJobQuery"),(0,u.v5)(m),(0,p.C4)(g,p.dT);let{data:f}=g,y=(null==f?void 0:f.pipelineOrError.__typename)==="Pipeline"?null==f?void 0:f.pipelineOrError:void 0,{schedules:b,sensors:v}=(0,d.useMemo)(()=>{if(y){let{schedules:e,sensors:n}=y;return{schedules:e,sensors:n}}return{schedules:[],sensors:[]}},[y]),R=(0,d.useMemo)(()=>{if(y){let{runs:e}=y;if(e.length)return[...e]}return[]},[y]);return(0,t.jsx)(q.X2,{$height:x,$start:o,children:(0,t.jsxs)(z,{border:"bottom",children:[(0,t.jsxs)(q.E5,{children:[(0,t.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,t.jsx)(a.rU,{to:(0,j.$U)(r,"/jobs/".concat(n)),children:(0,t.jsx)(l.g,{text:n})})}),(0,t.jsx)(u.HB,{children:(null==y?void 0:y.description)||""})]}),(0,t.jsx)(q.E5,{children:b.length||v.length?(0,t.jsx)(c.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,t.jsx)(K,{children:(0,t.jsx)(P.I,{schedules:b,sensors:v,repoAddress:r})})}):(0,t.jsx)(u.mq,{queryResult:g})}),(0,t.jsx)(q.E5,{children:R[0]?(0,t.jsx)(D.Z,{run:R[0],showButton:!1,showHover:!0,showSummary:!1,name:n}):(0,t.jsx)(u.mq,{queryResult:g})}),(0,t.jsx)(q.E5,{children:R.length?(0,t.jsx)(c.x,{padding:{top:4},children:(0,t.jsx)(C.JH,{jobName:n,runs:[...R].reverse(),fade:!0})}):(0,t.jsx)(u.mq,{queryResult:g})}),(0,t.jsx)(q.E5,{children:(0,t.jsx)(c.x,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,t.jsx)(T,{job:{name:n,isJob:s,runs:R},isAssetJob:y?y.isAssetJob:"loading",repoAddress:r})})})]})})},W=()=>(0,t.jsxs)(q.VJ,{templateColumns:V,sticky:!0,children:[(0,t.jsx)(q.qN,{children:"Name"}),(0,t.jsx)(q.qN,{children:"Schedules/sensors"}),(0,t.jsx)(q.qN,{children:"Latest run"}),(0,t.jsx)(q.qN,{children:"Run history"}),(0,t.jsx)(q.qN,{})]}),z=(0,x.ZP)(c.x).withConfig({componentId:"sc-cd82bd61-0"})(["display:grid;grid-template-columns:",";height:100%;"],V),K=x.ZP.div.withConfig({componentId:"sc-cd82bd61-1"})(["width:100%;> .bp4-popover2-target{width:100%;}"]),Q=(0,o.Ps)(A(),I.$X,J.J,k.U)},5842:function(e,n,s){s.d(n,{h:function(){return y}});var r=s(52322),t=s(74580),i=s(14934),o=s(35292),l=s(39013),c=s(35002),d=s(38491),a=s(82469),x=s(47933),u=s(73407),h=s(10539),j=s(16336),p=s(89918);let m=e=>{let{repoAddress:n,refreshState:s,tab:t}=e;return(0,r.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,r.jsxs)(u.mQ,{selectedTabId:t,children:[(0,r.jsx)(p.f,{id:"assets",title:"Assets",to:(0,h.$U)(n,"/assets")}),(0,r.jsx)(p.f,{id:"jobs",title:"Jobs",to:(0,h.$U)(n,"/jobs")}),(0,r.jsx)(p.f,{id:"schedules",title:"Schedules",to:(0,h.$U)(n,"/schedules")}),(0,r.jsx)(p.f,{id:"sensors",title:"Sensors",to:(0,h.$U)(n,"/sensors")}),(0,r.jsx)(p.f,{id:"graphs",title:"Graphs",to:(0,h.$U)(n,"/graphs")}),(0,r.jsx)(p.f,{id:"ops",title:"Ops",to:(0,h.$U)(n,"/ops")}),(0,r.jsx)(p.f,{id:"resources",title:"Resources",to:(0,h.$U)(n,"/resources")})]}),s?(0,r.jsx)(i.x,{padding:{bottom:8},children:(0,r.jsx)(j.xi,{refreshState:s})}):null]})};var g=s(22563),f=s(22203);let y=e=>{let{repoAddress:n,tab:s,refreshState:u,queryData:h}=e;return(0,r.jsx)(t.m,{title:(0,r.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)(o.X6,{children:(0,r.jsx)(x.rU,{to:"/locations",style:{color:l.Ep()},children:"Deployment"})}),(0,r.jsx)(o.X6,{children:"/"}),(0,r.jsx)(o.X6,{style:{color:l.$()},children:(0,g.Uz)(n)})]}),tabs:(0,r.jsx)(m,{repoAddress:n,tab:s,refreshState:u,queryData:h}),right:(0,r.jsx)(f.s,{location:n.location,ChildComponent:e=>{let{tryReload:n,reloading:s,hasReloadPermission:t}=e;return(0,r.jsx)(c.u,{canShow:!t,content:t?"":f.H,useDisabledButtonTooltipFix:!0,children:(0,r.jsx)(d.zx,{onClick:()=>n(),loading:s,disabled:!t,icon:(0,r.jsx)(a.JO,{name:"refresh"}),outlined:!0,children:"Reload definitions"})})}})})}}}]);
//# sourceMappingURL=2141.7d51bdaebde4a3dc.js.map