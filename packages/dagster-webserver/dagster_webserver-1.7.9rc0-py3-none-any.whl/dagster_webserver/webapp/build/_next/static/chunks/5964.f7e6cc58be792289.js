"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5964],{63065:function(e,t,r){r.d(t,{e:function(){return P}});var s=r(73235),n=r(52322),i=r(40794),o=r(89130),l=r(14934),a=r(79106),c=r(39013),d=r(37483),u=r(74159),h=r(45774),x=r(2784),j=r(78491),p=r(16336),g=r(44900),v=r(4378),f=r(43250),m=r(35002),w=r(43212),y=r(88510),b=r(22921),C=r(17008),k=r(98956),A=r(50646),I=r(63485),L=r(83738),O=r(22563);let N=e=>{let{repos:t}=e,r=(0,x.useRef)(null),s=(0,x.useMemo)(()=>t.map(e=>{let{repoAddress:t}=e;return(0,O.Uz)(t)}),[t]),{expandedKeys:i,onToggle:o,onToggleAll:l}=(0,A.N)(b.y,s),a=(0,x.useMemo)(()=>{let e=[];return t.forEach(t=>{let{repoAddress:r,jobs:s}=t;e.push({type:"header",repoAddress:r,jobCount:s.length});let n=(0,O.Uz)(r);i.includes(n)&&s.forEach(t=>{let{isJob:s,name:n}=t;e.push({type:"job",repoAddress:r,isJob:s,name:n})})}),e},[t,i]),c=(0,k.w)(t.map(e=>{let{repoAddress:t}=e;return t.name})),d=(0,y.MG)({count:a.length,getScrollElement:()=>r.current,estimateSize:e=>{let t=a[e];return(null==t?void 0:t.type)==="header"?C.lo:64},overscan:10}),u=d.getTotalSize(),h=d.getVirtualItems();return(0,n.jsx)("div",{style:{overflow:"hidden"},children:(0,n.jsxs)(C.W2,{ref:r,children:[(0,n.jsx)(I.I,{}),(0,n.jsx)(C.Nh,{$totalHeight:u,children:h.map(e=>{let{index:t,key:r,size:s,start:d}=e,u=a[t];return"header"===u.type?(0,n.jsx)(L.vG,{repoAddress:u.repoAddress,height:s,start:d,onToggle:o,onToggleAll:l,expanded:i.includes((0,O.Uz)(u.repoAddress)),showLocation:c.has(u.repoAddress.name),rightElement:(0,n.jsx)(m.u,{content:1===u.jobCount?"1 job":"".concat(u.jobCount," jobs"),placement:"top",children:(0,n.jsx)(w.V,{children:u.jobCount})})},r):(0,n.jsx)(I.b,{name:u.name,isJob:u.isJob,repoAddress:u.repoAddress,height:s,start:d},r)})})]})})};var E=r(907),S=r(49455),T=r(34219),_=r(73658),z=r(46146),R=r(65822);function M(){let e=(0,s._)(["\n  query OverviewJobsQuery {\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                pipelines {\n                  id\n                  name\n                  isJob\n                }\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return M=function(){return e},e}let P=()=>{let{allRepos:e,visibleRepos:t,loading:r}=(0,x.useContext)(z.C5),[s,o]=(0,v.q)({queryKey:"search",defaults:{search:""}}),j=e.length,g=(0,i.a)(U,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0});(0,T.Hu)(g,"OverviewJobsQuery");let{data:m,loading:w}=g,y=(0,p.C4)(g,p.dT),b=(0,x.useMemo)(()=>{let e=(0,S.S)(t);return $(m).filter(t=>{let{repoAddress:r}=t;return e.has((0,O.Uz)(r))})},[m,t]),C=s.trim().toLocaleLowerCase(),k=C.length>0,A=(0,x.useMemo)(()=>{let e=C.toLocaleLowerCase();return b.map(t=>{let{repoAddress:r,jobs:s}=t;return{repoAddress:r,jobs:s.filter(t=>{let{name:r}=t;return r.toLocaleLowerCase().includes(e)})}}).filter(e=>{let{jobs:t}=e;return t.length>0})},[b,C]),I=r&&!j||w&&!m;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.x,{padding:{horizontal:24,vertical:16},flex:{direction:"row",alignItems:"center",justifyContent:"space-between",grow:0},children:[(0,n.jsxs)(l.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[j>1?(0,n.jsx)(f.C,{}):null,(0,n.jsx)(u.oi,{icon:"search",value:s,rightElement:I?(0,n.jsx)(_.W,{tooltipContent:"Loading jobs…"}):void 0,onChange:e=>o(e.target.value),placeholder:"Filter by job name…",style:{width:"340px"}})]}),(0,n.jsx)(p.xi,{refreshState:y})]}),w&&!j?(0,n.jsx)(l.x,{padding:64,children:(0,n.jsx)(h.f,{label:"Loading jobs…"})}):(()=>{if(w&&!m)return(0,n.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,n.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,n.jsx)(a.$,{purpose:"body-text"}),(0,n.jsx)("div",{style:{color:c.$()},children:"Loading jobs…"})]})});let r=e.length>t.length;return A.length?(0,n.jsx)(N,{repos:A}):k?(0,n.jsx)(l.x,{padding:{top:20},children:(0,n.jsx)(d.t,{icon:"search",title:"No matching jobs",description:r?(0,n.jsxs)("div",{children:["No jobs matching ",(0,n.jsx)("strong",{children:s})," were found in the selected code locations"]}):(0,n.jsxs)("div",{children:["No jobs matching ",(0,n.jsx)("strong",{children:s})," were found in your definitions"]})})}):(0,n.jsx)(l.x,{padding:{top:20},children:(0,n.jsx)(d.t,{icon:"search",title:"No jobs",description:r?"No jobs were found in the selected code locations":"No jobs were found in your definitions"})})})()]})},$=e=>{if((null==e?void 0:e.workspaceOrError.__typename)!=="Workspace")return[];let t=e.workspaceOrError.locationEntries.map(e=>e.locationOrLoadError),r=[];for(let e of t)if((null==e?void 0:e.__typename)==="RepositoryLocation")for(let t of e.repositories){let{name:s,pipelines:n}=t,i=(0,R.kQ)(s,e.name),o=n.filter(e=>{let{name:t}=e;return!(0,g.pv)(t)}).map(e=>({isJob:e.isJob,name:e.name}));o.length>0&&r.push({repoAddress:i,jobs:o})}return(0,E.S)(r)},U=(0,o.Ps)(M(),j.B)},5964:function(e,t,r){r.r(t),r.d(t,{OverviewRoot:function(){return eH},default:function(){return eK}});var s=r(52322),n=r(7267),i=r(38491),o=r(14934),l=r(2784),a=r(79106),c=r(74159),d=r(16629),u=r(60129),h=r(82469),x=r(43212),j=r(39013),p=r(46100),g=r(60603),v=r(35292),f=r(88510),m=r(47933),w=r(35505),y=r(23399),b=r(16336),C=r(69737),k=r(99048),A=r(98705),I=r(44900),L=r(46318),O=r(79342),N=r(32319),E=r(75442),S=r(20171),T=r(4378),_=r(79059),z=r(92322),R=r(17008),M=r(65822),P=r(10539);let $=e=>{let{Header:t,TabButton:r}=e;(0,C.Px)(),(0,S.j)("Overview | Assets");let{assets:n,query:i,error:u,loading:h}=(0,N.Zg)(),x=(0,b.bT)({refresh:i,intervalMs:b.dT,leading:!0}),j=l.useMemo(()=>n?function(e){let t={};return e.forEach(e=>{if(!e.definition)return;let r=e.definition.groupName,s=e.definition.repository.name,n="".concat(r,"||").concat(s),i=t[n]||{groupName:r,repositoryName:s,assets:[]};i.assets.push(e),t[n]=i}),Object.values(t)}(n):[],[n]),[p,g]=(0,T.q)({queryKey:"q",decode:e=>e.searchQuery?JSON.parse(e.searchQuery):"",encode:e=>({searchQuery:e?JSON.stringify(e):void 0})}),v=l.useMemo(()=>""===p?j:j.filter(e=>(e.groupName||F).toLowerCase().includes(p.toLowerCase())||e.repositoryName.toLowerCase().includes(p.toLowerCase())),[j,p]),w=l.useMemo(()=>{var e;return null!==(e=v.flatMap(e=>e.assets.map(e=>e.key)))&&void 0!==e?e:[]},[v]),{liveDataByNode:A}=(0,k.NY)(w,"OverviewAssetsRoot"),I=(0,z.se)("OverviewAssetsRoot"),L=Object.keys(A).length===w.length;l.useEffect(()=>{L&&I.endTrace()},[L,I]);let O=l.useRef(null),E=(0,f.MG)({count:v.length,getScrollElement:()=>O.current,estimateSize:()=>82,overscan:5}),_=E.getTotalSize(),M=E.getVirtualItems();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{position:"sticky",top:0,zIndex:1},children:[(0,s.jsx)(t,{refreshState:x}),(0,s.jsxs)(o.x,{padding:{horizontal:24,vertical:16},flex:{alignItems:"center",gap:12,grow:0},children:[(0,s.jsx)(r,{selected:"assets"}),(0,s.jsx)(c.oi,{value:p,onChange:e=>{g(e.target.value)},placeholder:"Filter asset groups…"})]}),(0,s.jsx)(o.x,{padding:{horizontal:24,vertical:16},border:"top",children:(0,s.jsx)(d.b,{intent:"info",title:"This Assets tab will be removed in an upcoming release.",description:(0,s.jsxs)(s.Fragment,{children:["Use the ",(0,s.jsx)(m.rU,{to:"/asset-groups",children:"global asset lineage page"})," to view grouped asset status details."]})})})]}),h?(0,s.jsx)(o.x,{flex:{alignItems:"center",justifyContent:"center",direction:"column",grow:1},style:{width:"100%"},children:(0,s.jsx)(a.$,{purpose:"page"})}):u?(0,s.jsx)(o.x,{flex:{alignItems:"center",justifyContent:"center",direction:"column",grow:1},style:{width:"100%"},children:(0,s.jsx)(y.T9,{error:u})}):(0,s.jsx)(o.x,{flex:{direction:"column"},style:{overflow:"hidden"},children:(0,s.jsxs)(R.W2,{ref:O,children:[(0,s.jsx)(q,{}),(0,s.jsx)(R.Nh,{$totalHeight:_,children:M.map(e=>{let{index:t,key:r,size:n,start:i}=e,o=v[t];return(0,s.jsx)(J,{start:i,height:n,group:o},r)})})]})})]})},U="5fr 1fr 1fr 1fr 1fr",q=()=>(0,s.jsxs)(R.VJ,{templateColumns:U,sticky:!0,children:[(0,s.jsx)(R.qN,{children:"Group name"}),(0,s.jsx)(R.qN,{children:"Missing"}),(0,s.jsx)(R.qN,{children:"Failed/Overdue"}),(0,s.jsx)(R.qN,{children:"In progress"}),(0,s.jsx)(R.qN,{children:"Materialized"})]}),F="Ungrouped Assets";function J(e){var t,r;let{height:n,start:i,group:c}=e,d=l.useMemo(()=>c.assets.map(e=>({path:e.key.path})),[c.assets]),{liveDataByNode:p}=(0,k.NY)(d),g=(0,z.se)("OverviewAssetsRoot:GroupBatch"),v=l.useMemo(()=>(0,L.s)(c.assets,p),[p,c.assets]),f=null===(r=c.assets.find(e=>{var t;return null===(t=e.definition)||void 0===t?void 0:t.repository}))||void 0===r?void 0:null===(t=r.definition)||void 0===t?void 0:t.repository,w=(0,M.kQ)((null==f?void 0:f.name)||"",(null==f?void 0:f.location.name)||""),{containerProps:y,viewport:b}=(0,u.S)(),C=d.length!==Object.keys(p).length,I=C?"":"0";return l.useEffect(()=>{C||g.endTrace()},[g,C]),(0,s.jsx)(R.X2,{$height:n,$start:i,children:(0,s.jsxs)(Q,{border:"bottom",children:[(0,s.jsx)(B,{children:(0,s.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",grow:1},children:[(0,s.jsxs)(o.x,{flex:{direction:"column",gap:2,grow:1},children:[(0,s.jsxs)(o.x,{flex:{direction:"row",gap:8},children:[(0,s.jsx)(h.JO,{name:"asset_group"}),c.groupName?(0,s.jsx)(m.rU,{style:{fontWeight:700},to:(0,P.$U)(w,"/asset-groups/".concat(c.groupName)),children:c.groupName}):F]}),(0,s.jsx)("div",{...y,children:(0,s.jsx)(V,{maxWidth:b.width,children:(0,s.jsx)(_.b,{repoAddress:w,showRefresh:!1})})})]}),(0,s.jsx)(o.x,{flex:{direction:"column",justifyContent:"center"},children:C?(0,s.jsx)(a.$,{purpose:"body-text"}):null})]})}),(0,s.jsx)(B,{children:v.missing.length?(0,s.jsx)(G,{assets:v.missing,getCount:e=>{let{status:t}=e;return t.case===A.KB.PARTITIONS_MISSING&&t.numMissing||0},adjective:"missing",children:(0,s.jsx)(x.V,{intent:"none",children:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",border:"2px solid ".concat(j.im()),borderRadius:"50%"}}),v.missing.length]})})}):I}),(0,s.jsx)(B,{children:v.failed.length?(0,s.jsx)(G,{assets:v.failed,getCount:e=>{let{status:t}=e;return t.case===A.KB.PARTITIONS_FAILED&&t.numFailed||0},adjective:"failed",children:(0,s.jsx)(x.V,{intent:"danger",children:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid red",display:"inline-block"}}),v.failed.length]})})}):I}),(0,s.jsx)(B,{children:v.inprogress.length?(0,s.jsx)(G,{assets:v.inprogress,getCount:e=>{let{status:t}=e;return t.case===A.KB.MATERIALIZING&&t.numMaterializing||0},adjective:"materializing",children:(0,s.jsx)(x.V,{intent:"primary",icon:"spinner",children:v.inprogress.length})}):I}),(0,s.jsx)(B,{children:v.successful.length?(0,s.jsx)(G,{assets:v.successful,getCount:e=>{let{status:t}=e;return t.case===A.KB.PARTITIONS_MATERIALIZED&&t.numMaterialized||0},adjective:"materialized",children:(0,s.jsx)(x.V,{intent:"success",children:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{backgroundColor:j.fA(),width:"10px",height:"10px",borderRadius:"50%"}}),v.successful.length]})})}):I})]})})}let Q=(0,w.ZP)(o.x).withConfig({componentId:"sc-5a3ca5ca-0"})(["display:grid;grid-template-columns:",";height:100%;> *{vertical-align:middle;}"],U),B=e=>{let{children:t}=e;return(0,s.jsx)(R.E5,{style:{color:j.Ep()},children:(0,s.jsx)(o.x,{flex:{direction:"row",alignItems:"center",grow:1},children:t})})},V=w.ZP.div.withConfig({componentId:"sc-5a3ca5ca-1"})(["font-size:12px;pointer-events:none;a{color:",";pointer-events:none;max-width:",";}"],j.$(),e=>{let{maxWidth:t}=e;return t?"unset":"".concat(t,"px")});function G(e){let{assets:t,children:r,getCount:n,adjective:i}=e;return(0,s.jsx)(W,{children:(0,s.jsx)(p.P,{items:t,itemPredicate:(e,t)=>(0,I.ll)(t.asset.key).toLocaleLowerCase().includes(e.toLocaleLowerCase()),itemRenderer:e=>{let t=n(e);return(0,s.jsx)(H,{to:(0,E.p)(e.asset.key),target:"_blank",children:(0,s.jsx)(g.sN,{text:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,s.jsx)("div",{style:{paddingLeft:"4px"},children:(0,s.jsx)(h.JO,{name:"asset"})}),(0,s.jsx)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,I.ll)(e.asset.key)}),t&&t>0?(0,s.jsxs)(v.YS,{style:{color:j.$()},children:[(0,O._e)(t)," ",i]}):null]})},(0,I.ll)(e.asset.key))})},onItemSelect:()=>{},children:r})})}let W=w.ZP.div.withConfig({componentId:"sc-5a3ca5ca-2"})(["cursor:pointer;&:hover{font-weight:600;}"]),H=(0,w.ZP)(m.rU).withConfig({componentId:"sc-5a3ca5ca-3"})(["&:hover{text-decoration:none;}"]);var K=r(74580);let Z=(0,r(65297).f)("OverviewPageAlerts");var D=r(73407),X=r(49438),Y=r(87171),ee=r(39268),et=r(71348),er=r(89918);let es=e=>{let{refreshState:t,tab:r}=e,{flagSettingsPage:n}=(0,X.gV)(),i=(0,et.dx)(),c=(0,ee.I)(),{enableAssetHealthOverviewPreview:d}=(0,l.useContext)(Y.G);return(0,s.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,s.jsxs)(D.mQ,{selectedTabId:r,children:[(0,s.jsx)(er.f,{id:"activity",title:"Timeline",to:"/overview/activity"}),d&&(0,s.jsx)(er.f,{id:"asset-health",title:"Asset health",to:"/overview/asset-health"}),n?null:(0,s.jsx)(er.f,{id:"jobs",title:"Jobs",to:"/overview/jobs"}),n?null:(0,s.jsx)(er.f,{id:"schedules",title:"Schedules",to:"/overview/schedules"}),n?null:(0,s.jsx)(er.f,{id:"sensors",title:"Sensors",to:"/overview/sensors"}),n||"has-global-amp"!==c?null:(0,s.jsx)(er.f,{id:"amp",title:(0,s.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,s.jsx)("div",{children:"Auto-materialize"}),i.loading?(0,s.jsx)(a.$,{purpose:"body-text"}):(0,s.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:!1===i.paused?j.L$():j.md()}})]}),to:"/overview/automation"}),(0,s.jsx)(er.f,{id:"resources",title:"Resources",to:"/overview/resources"}),n?null:(0,s.jsx)(er.f,{id:"backfills",title:"Backfills",to:"/overview/backfills"})]}),t?(0,s.jsx)(o.x,{padding:{bottom:8},children:(0,s.jsx)(b.xi,{refreshState:t})}):null]})},en=e=>{let{tab:t,queryData:r,refreshState:n,...i}=e;return(0,s.jsx)(K.m,{title:(0,s.jsx)(v.X6,{children:"Overview"}),tabs:(0,s.jsxs)(o.x,{flex:{direction:"column",gap:8},children:[(0,s.jsx)(es,{tab:t,queryData:r,refreshState:n}),(0,s.jsx)(Z,{})]}),...i})};var ei=r(64895),eo=r(17872),el=r(30001),ea=r(38267);let ec=()=>{(0,S.j)("Overview | Activity");let e=l.useCallback(e=>{let{refreshState:t}=e;return(0,s.jsx)(en,{tab:"activity",refreshState:t})},[]),[t,r]=(0,el.U)("overview-activity-tab",e=>["timeline","assets"].includes(e)?e:"timeline"),{enableAssetHealthOverviewPreview:a}=l.useContext(Y.G),c=a?"timeline":t,d=l.useCallback(e=>{let{selected:t}=e;return a?null:(c!==t&&r(t),(0,s.jsxs)(i.zH,{children:[(0,s.jsx)(ea.Q1,{$active:"timeline"===t,to:"/overview/activity/timeline",children:"Timeline"}),(0,s.jsx)(ea.Q1,{$active:"assets"===t,to:"/overview/activity/assets",children:"Assets"})]}))},[c,r,a]);return(0,s.jsx)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:(0,s.jsxs)(n.rs,{children:[!a&&(0,s.jsx)(eo.A,{path:"/overview/activity/assets",children:(0,s.jsx)($,{Header:e,TabButton:d})}),(0,s.jsx)(eo.A,{path:"/overview/activity/timeline",children:(0,s.jsx)(ei.U,{Header:e,TabButton:d})}),(0,s.jsx)(eo.A,{path:"*",render:l.useCallback(()=>"timeline"===c?(0,s.jsx)(n.l_,{to:"/overview/activity/timeline"}):(0,s.jsx)(n.l_,{to:"/overview/activity/assets"}),[c])})]})})};var ed=r(63065);let eu=()=>((0,C.Px)(),(0,S.j)("Overview | Jobs"),(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(K.m,{title:(0,s.jsx)(v.X6,{children:"Overview"}),tabs:(0,s.jsx)(es,{tab:"jobs"})}),(0,s.jsx)(ed.e,{})]}));var eh=r(73235),ex=r(40794),ej=r(89130),ep=r(37483),eg=r(35002),ev=r(22921),ef=r(3922),em=r(98956),ew=r(50646),ey=r(83738),eb=r(22563);let eC=e=>{let{repos:t}=e,r=(0,l.useRef)(null),n=(0,l.useMemo)(()=>t.map(e=>{let{repoAddress:t}=e;return(0,eb.Uz)(t)}),[t]),{expandedKeys:i,onToggle:o,onToggleAll:a}=(0,ew.N)(ev.y,n),c=(0,l.useMemo)(()=>{let e=[];return t.forEach(t=>{let{repoAddress:r,resources:s}=t;e.push({type:"header",repoAddress:r,resourceCount:s.length});let n=(0,eb.Uz)(r);i.includes(n)&&s.forEach(t=>{e.push({type:"resource",repoAddress:r,...t})})}),e},[t,i]),d=(0,em.w)(t.map(e=>{let{repoAddress:t}=e;return t.name})),u=(0,f.MG)({count:c.length,getScrollElement:()=>r.current,estimateSize:e=>{let t=c[e];return(null==t?void 0:t.type)==="header"?32:64},overscan:10}),h=u.getTotalSize(),j=u.getVirtualItems();return(0,s.jsx)("div",{style:{overflow:"hidden"},children:(0,s.jsxs)(R.W2,{ref:r,children:[(0,s.jsx)(ef.f,{}),(0,s.jsx)(R.Nh,{$totalHeight:h,children:j.map(e=>{let{index:t,key:r,size:n,start:l}=e,u=c[t];return"header"===u.type?(0,s.jsx)(ey.vG,{repoAddress:u.repoAddress,height:n,start:l,onToggle:o,onToggleAll:a,expanded:i.includes((0,eb.Uz)(u.repoAddress)),showLocation:d.has(u.repoAddress.name),rightElement:(0,s.jsx)(eg.u,{content:1===u.resourceCount?"1 resource":"".concat(u.resourceCount," resources"),placement:"top",children:(0,s.jsx)(x.V,{children:u.resourceCount})})},r):(0,s.jsx)(ef.K,{height:n,start:l,...u},r)})})]})})};var ek=r(907),eA=r(49455),eI=r(78491),eL=r(43250),eO=r(34219),eN=r(71662),eE=r(73658),eS=r(46146);function eT(){let e=(0,eh._)(["\n  query OverviewResourcesQuery {\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                allTopLevelResourceDetails {\n                  id\n                  ...ResourceEntryFragment\n                }\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return eT=function(){return e},e}let e_=()=>{(0,C.Px)(),(0,S.j)("Overview | Resources");let{allRepos:e,visibleRepos:t,loading:r}=(0,l.useContext)(eS.C5),[n,i]=(0,T.q)({queryKey:"search",defaults:{search:""}}),d=e.length,u=(0,ex.a)(eR,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),{data:h,loading:x}=u;(0,eO.Hu)(u,"OverviewResourcesQuery");let p=(0,b.C4)(u,b.dT),g=(0,l.useMemo)(()=>{let e=(0,eA.S)(t);return ez(h).filter(t=>{let{repoAddress:r}=t;return e.has((0,eb.Uz)(r))})},[h,t]),v=n.trim().toLocaleLowerCase(),f=v.length>0,m=(0,l.useMemo)(()=>{let e=v.toLocaleLowerCase();return g.map(t=>{let{repoAddress:r,resources:s}=t;return{repoAddress:r,resources:s.filter(t=>{let{name:r}=t;return r.toLocaleLowerCase().includes(e)})}}).filter(e=>{let{resources:t}=e;return t.length>0})},[g,v]),w=r&&!d||x&&!h;return(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(en,{tab:"resources",refreshState:p}),(0,s.jsxs)(o.x,{padding:{horizontal:24,vertical:16},flex:{direction:"row",alignItems:"center",gap:12,grow:0},children:[d>1?(0,s.jsx)(eL.C,{}):null,(0,s.jsx)(c.oi,{icon:"search",value:n,rightElement:w?(0,s.jsx)(eE.W,{tooltipContent:"Loading resources…"}):void 0,onChange:e=>i(e.target.value),placeholder:"Filter by resource name…",style:{width:"340px"}})]}),x&&!d?(0,s.jsx)(o.x,{padding:64,children:(0,s.jsx)(a.$,{purpose:"page"})}):(()=>{if(x&&!h)return(0,s.jsx)(o.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,s.jsx)(a.$,{purpose:"body-text"}),(0,s.jsx)("div",{style:{color:j.$()},children:"Loading resources…"})]})});let r=e.length>t.length;return m.length?(0,s.jsx)(eC,{repos:m}):f?(0,s.jsx)(o.x,{padding:{top:20},children:(0,s.jsx)(ep.t,{icon:"search",title:"No matching resources",description:r?(0,s.jsxs)("div",{children:["No resources matching ",(0,s.jsx)("strong",{children:n})," were found in the selected code locations"]}):(0,s.jsxs)("div",{children:["No resources matching ",(0,s.jsx)("strong",{children:n})," were found in your definitions"]})})}):(0,s.jsx)(o.x,{padding:{top:20},children:(0,s.jsx)(ep.t,{icon:"search",title:"No resources",description:r?"No resources were found in the selected code locations":"No resources were found in your definitions"})})})()]})},ez=e=>{if((null==e?void 0:e.workspaceOrError.__typename)!=="Workspace")return[];let t=e.workspaceOrError.locationEntries.map(e=>e.locationOrLoadError),r=[];for(let e of t)if((null==e?void 0:e.__typename)==="RepositoryLocation")for(let t of e.repositories){let{name:s,allTopLevelResourceDetails:n}=t,i=(0,M.kQ)(s,e.name);n.length>0&&r.push({repoAddress:i,resources:n})}return(0,ek.S)(r)},eR=(0,ej.Ps)(eT(),eI.B,eN.L);var eM=r(6685);let eP=()=>((0,C.Px)(),(0,S.j)("Overview | Schedules"),(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(en,{tab:"schedules"}),(0,s.jsx)(eM.z,{})]}));var e$=r(80089);let eU=()=>((0,C.Px)(),(0,S.j)("Overview | Sensors"),(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(en,{tab:"sensors"}),(0,s.jsx)(e$.n,{})]}));var eq=r(49308),eF=r(26954),eJ=r(71406);let eQ=()=>{let e=(0,ee.I)();switch(e){case"unknown":return(0,s.jsx)("div",{});case"has-global-amp":return(0,s.jsx)(eB,{});case"has-sensor-amp":return(0,s.jsx)(n.l_,{to:"/overview/sensors"});default:(0,eJ.UT)(e)}},eB=()=>((0,C.Px)(),(0,S.j)("Overview | Auto-materialize"),(0,s.jsxs)(eq.T,{children:[(0,s.jsx)(en,{tab:"amp"}),(0,s.jsx)(eF.$,{})]}));var eV=r(7870);let eG=()=>((0,C.Px)(),(0,S.j)("Overview | Backfills"),(0,s.jsxs)(eq.T,{children:[(0,s.jsx)(en,{tab:"backfills"}),(0,s.jsx)(eV.A,{})]}));var eW=r(95075);let eH=()=>{let{flagSettingsPage:e}=(0,X.gV)();return(0,s.jsxs)(n.rs,{children:[(0,s.jsx)(eo.A,{path:"/overview/activity",children:(0,s.jsx)(ec,{})}),(0,s.jsx)(eo.A,{path:"/overview/jobs",render:()=>e?(0,s.jsx)(n.l_,{to:"/jobs"}):(0,s.jsx)(eu,{})}),(0,s.jsx)(eo.A,{path:"/overview/schedules",render:()=>e?(0,s.jsx)(n.l_,{to:"/automation/schedules"}):(0,s.jsx)(eP,{})}),(0,s.jsx)(eo.A,{path:"/overview/sensors",render:()=>e?(0,s.jsx)(n.l_,{to:"/automation/sensors"}):(0,s.jsx)(eU,{})}),(0,s.jsx)(eo.A,{path:"/overview/automation",render:()=>e?(0,s.jsx)(n.l_,{to:"/automation"}):(0,s.jsx)(eQ,{})}),(0,s.jsx)(eo.A,{path:"/overview/backfills/:backfillId",render:t=>{let{match:r}=t;return e?(0,s.jsx)(n.l_,{to:"/automation/backfills/".concat(r.params.backfillId)}):(0,s.jsx)(eW.t4,{})}}),(0,s.jsx)(eo.A,{path:"/overview/backfills",exact:!0,render:()=>e?(0,s.jsx)(n.l_,{to:"/automation/backfills"}):(0,s.jsx)(eG,{})}),(0,s.jsx)(eo.A,{path:"/overview/resources",children:(0,s.jsx)(e_,{})}),(0,s.jsx)(eo.A,{path:"*",render:()=>(0,s.jsx)(n.l_,{to:"/overview/activity"})})]})};var eK=eH}}]);
//# sourceMappingURL=5964.f7e6cc58be792289.js.map