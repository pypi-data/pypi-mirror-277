import{bn as I,c2 as C,r as e,c5 as E,br as f,bo as y,c4 as T,bp as k,bu as O,bq as R,bs as m,bt as _,c6 as S,c7 as z,cd as j,bm as K,c8 as G,c9 as H,ca as L,cb as q,j as x,an as A}from"./index-d317a0cb.js";const w="Popover",[F,fe]=I(w,[C]),g=C(),[U,l]=F(w),V=o=>{const{__scopePopover:d,children:t,open:r,defaultOpen:c,onOpenChange:n,modal:a=!1}=o,s=g(d),i=e.useRef(null),[u,b]=e.useState(!1),[v=!1,p]=y({prop:r,defaultProp:c,onChange:n});return e.createElement(T,s,e.createElement(U,{scope:d,contentId:k(),triggerRef:i,open:v,onOpenChange:p,onOpenToggle:e.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:u,onCustomAnchorAdd:e.useCallback(()=>b(!0),[]),onCustomAnchorRemove:e.useCallback(()=>b(!1),[]),modal:a},t))},W="PopoverAnchor",ie=e.forwardRef((o,d)=>{const{__scopePopover:t,...r}=o,c=l(W,t),n=g(t),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=c;return e.useEffect(()=>(a(),()=>s()),[a,s]),e.createElement(E,f({},n,r,{ref:d}))}),Z="PopoverTrigger",B=e.forwardRef((o,d)=>{const{__scopePopover:t,...r}=o,c=l(Z,t),n=g(t),a=O(d,c.triggerRef),s=e.createElement(R.button,f({type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":N(c.open)},r,{ref:a,onClick:m(o.onClick,c.onOpenToggle)}));return c.hasCustomAnchor?s:e.createElement(E,f({asChild:!0},n),s)}),D="PopoverPortal",[J,Q]=F(D,{forceMount:void 0}),X=o=>{const{__scopePopover:d,forceMount:t,children:r,container:c}=o,n=l(D,d);return e.createElement(J,{scope:d,forceMount:t},e.createElement(_,{present:t||n.open},e.createElement(S,{asChild:!0,container:c},r)))},$="PopoverContent",Y=e.forwardRef((o,d)=>{const t=Q($,o.__scopePopover),{forceMount:r=t.forceMount,...c}=o,n=l($,o.__scopePopover);return e.createElement(_,{present:r||n.open},n.modal?e.createElement(ee,f({},c,{ref:d})):e.createElement(oe,f({},c,{ref:d})))}),ee=e.forwardRef((o,d)=>{const t=l($,o.__scopePopover),r=e.useRef(null),c=O(d,r),n=e.useRef(!1);return e.useEffect(()=>{const a=r.current;if(a)return z(a)},[]),e.createElement(j,{as:K,allowPinchZoom:!0},e.createElement(M,f({},o,{ref:c,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(o.onCloseAutoFocus,a=>{var s;a.preventDefault(),n.current||(s=t.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:m(o.onPointerDownOutside,a=>{const s=a.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0,u=s.button===2||i;n.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:m(o.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})))}),oe=e.forwardRef((o,d)=>{const t=l($,o.__scopePopover),r=e.useRef(!1),c=e.useRef(!1);return e.createElement(M,f({},o,{ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var a;if((a=o.onCloseAutoFocus)===null||a===void 0||a.call(o,n),!n.defaultPrevented){var s;r.current||(s=t.triggerRef.current)===null||s===void 0||s.focus(),n.preventDefault()}r.current=!1,c.current=!1},onInteractOutside:n=>{var a,s;(a=o.onInteractOutside)===null||a===void 0||a.call(o,n),n.defaultPrevented||(r.current=!0,n.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const i=n.target;((s=t.triggerRef.current)===null||s===void 0?void 0:s.contains(i))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&c.current&&n.preventDefault()}}))}),M=e.forwardRef((o,d)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:c,onCloseAutoFocus:n,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:b,...v}=o,p=l($,t),h=g(t);return G(),e.createElement(H,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:c,onUnmountAutoFocus:n},e.createElement(L,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:b,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1)},e.createElement(q,f({"data-state":N(p.open),role:"dialog",id:p.contentId},h,v,{ref:d,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function N(o){return o?"open":"closed"}const te=V,ce=B,ne=X,P=Y,pe=te,le=ce,re=e.forwardRef(({className:o,align:d="center",sideOffset:t=4,...r},c)=>x.jsx(ne,{children:x.jsx(P,{ref:c,align:d,sideOffset:t,className:A("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...r})}));re.displayName=P.displayName;const ae=e.forwardRef(({className:o,align:d="center",sideOffset:t=4,...r},c)=>x.jsx(P,{ref:c,align:d,sideOffset:t,className:A("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...r}));ae.displayName=P.displayName;const se=e.forwardRef((o,d)=>e.createElement(R.label,f({},o,{ref:d,onMouseDown:t=>{var r;(r=o.onMouseDown)===null||r===void 0||r.call(o,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),ue=se;export{ie as $,pe as P,le as a,re as b,ae as c,ue as d,se as e};
