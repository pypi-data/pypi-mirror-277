import{r as l,t as N,A as g,s as v,u as b,j as e,b as i,am as w,v as $,S as I}from"./index-71c35d0b.js";import{$ as S,a as c,b as d,c as y,d as o,e as C}from"./index-86bb14e4.js";import{I as E}from"./index-6658e47c.js";import{I as A}from"./input-8d6f9961.js";import"./index-f9760e62.js";function k(){const[u,m]=l.useState(N),{password:t,username:n}=u,{login:x,isAuthenticated:D,setUserData:L,setIsAdmin:R}=l.useContext(g),f=v(),p=b(s=>s.setErrorData);function r({target:{name:s,value:a}}){m(j=>({...j,[s]:a}))}function h(){const s={username:n.trim(),password:t.trim()};$(s).then(a=>{x(a.access_token),f("/")}).catch(a=>{p({title:I,list:[a.response.data.detail]})})}return e.jsx(S,{onSubmit:s=>{if(t===""){s.preventDefault();return}h(),Object.fromEntries(new FormData(s.currentTarget)),s.preventDefault()},className:"h-full w-full",children:e.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center bg-muted",children:e.jsxs("div",{className:"flex w-72 flex-col items-center justify-center gap-2",children:[e.jsx("span",{className:"mb-4 text-5xl",children:"⛓️"}),e.jsx("span",{className:"mb-6 text-2xl font-semibold text-primary",children:"Sign in to Langflow"}),e.jsx("div",{className:"mb-3 w-full",children:e.jsxs(c,{name:"username",children:[e.jsxs(d,{className:"data-[invalid]:label-invalid",children:["Username ",e.jsx("span",{className:"font-medium text-destructive",children:"*"})]}),e.jsx(y,{asChild:!0,children:e.jsx(A,{type:"username",onChange:({target:{value:s}})=>{r({target:{name:"username",value:s}})},value:n,className:"w-full",required:!0,placeholder:"Username"})}),e.jsx(o,{match:"valueMissing",className:"field-invalid",children:"Please enter your username"})]})}),e.jsx("div",{className:"mb-3 w-full",children:e.jsxs(c,{name:"password",children:[e.jsxs(d,{className:"data-[invalid]:label-invalid",children:["Password ",e.jsx("span",{className:"font-medium text-destructive",children:"*"})]}),e.jsx(E,{onChange:s=>{r({target:{name:"password",value:s}})},value:t,isForm:!0,password:!0,required:!0,placeholder:"Password",className:"w-full"}),e.jsx(o,{className:"field-invalid",match:"valueMissing",children:"Please enter your password"})]})}),e.jsx("div",{className:"w-full",children:e.jsx(C,{asChild:!0,children:e.jsx(i,{className:"mr-3 mt-6 w-full",type:"submit",children:"Sign in"})})}),e.jsx("div",{className:"w-full",children:e.jsx(w,{to:"/signup",children:e.jsxs(i,{className:"w-full",variant:"outline",type:"button",children:["Don't have an account? ",e.jsx("b",{children:"Sign Up"})]})})})]})})})}export{k as default};
