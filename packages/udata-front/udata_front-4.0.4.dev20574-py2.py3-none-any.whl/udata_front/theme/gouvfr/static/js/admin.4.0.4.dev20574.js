import{shallowRef as zt,inject as oe,unref as _,shallowReactive as xt,nextTick as It,defineComponent as F,reactive as qt,computed as U,h as pt,provide as Ae,ref as D,watch as Tt,resolveComponent as ee,openBlock as S,createElementBlock as q,createElementVNode as u,normalizeClass as Ie,createCommentVNode as G,createVNode as x,withCtx as H,createTextVNode as K,toDisplayString as y,onMounted as pe,Fragment as ve,renderList as qe,createBlock as X,renderSlot as _t,watchEffect as je,Teleport as gt,withModifiers as Te,createApp as Lt}from"vue";import{_ as vt,c as J,j as he,m as Bt,b as Nt,q as Ht,i as jt,e as Ve,a as bt,I as Vt,K as Dt,a7 as Ut,aw as Gt,ax as Xe,ay as Kt,az as Wt,ad as Ft,aA as Qt,aB as Yt,aC as Zt,aD as Xt,aE as Jt,d as en,an as tn,aj as nn,aq as Le,ar as sn,ae as on,as as rn,Y as an,at as ln,au as cn,av as un}from"./sentry.4.0.4.dev20574.js";import"./_commonjsHelpers.4.0.4.dev20574.js";function _r(){import.meta.url,import("_").catch(()=>1);async function*e(){}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const se=typeof window<"u";function dn(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const P=Object.assign;function Me(e,t){const n={};for(const s in t){const o=t[s];n[s]=W(o)?o.map(e):e(o)}return n}const de=()=>{},W=Array.isArray,fn=/\/$/,hn=e=>e.replace(fn,"");function Oe(e,t,n="/"){let s,o={},c="",h="";const m=t.indexOf("#");let a=t.indexOf("?");return m<a&&m>=0&&(a=-1),a>-1&&(s=t.slice(0,a),c=t.slice(a+1,m>-1?m:t.length),o=e(c)),m>-1&&(s=s||t.slice(0,m),h=t.slice(m,t.length)),s=gn(s!=null?s:t,n),{fullPath:s+(c&&"?")+c+h,path:s,query:o,hash:h}}function mn(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Je(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function pn(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&re(t.matched[s],n.matched[o])&&yt(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function re(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function yt(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!_n(e[n],t[n]))return!1;return!0}function _n(e,t){return W(e)?et(e,t):W(t)?et(t,e):e===t}function et(e,t){return W(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function gn(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let c=n.length-1,h,m;for(h=0;h<s.length;h++)if(m=s[h],m!==".")if(m==="..")c>1&&c--;else break;return n.slice(0,c).join("/")+"/"+s.slice(h-(h===s.length?1:0)).join("/")}var me;(function(e){e.pop="pop",e.push="push"})(me||(me={}));var fe;(function(e){e.back="back",e.forward="forward",e.unknown=""})(fe||(fe={}));function vn(e){if(!e)if(se){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hn(e)}const bn=/^[^#]+#/;function yn(e,t){return e.replace(bn,"#")+t}function wn(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const we=()=>({left:window.pageXOffset,top:window.pageYOffset});function Rn(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=wn(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function tt(e,t){return(history.state?history.state.position-t:-1)+e}const Be=new Map;function kn(e,t){Be.set(e,t)}function En(e){const t=Be.get(e);return Be.delete(e),t}let $n=()=>location.protocol+"//"+location.host;function wt(e,t){const{pathname:n,search:s,hash:o}=t,c=e.indexOf("#");if(c>-1){let m=o.includes(e.slice(c))?e.slice(c).length:1,a=o.slice(m);return a[0]!=="/"&&(a="/"+a),Je(a,"")}return Je(n,e)+s+o}function Cn(e,t,n,s){let o=[],c=[],h=null;const m=({state:f})=>{const v=wt(e,location),R=n.value,I=t.value;let O=0;if(f){if(n.value=v,t.value=f,h&&h===R){h=null;return}O=I?f.position-I.position:0}else s(v);o.forEach(k=>{k(n.value,R,{delta:O,type:me.pop,direction:O?O>0?fe.forward:fe.back:fe.unknown})})};function a(){h=n.value}function d(f){o.push(f);const v=()=>{const R=o.indexOf(f);R>-1&&o.splice(R,1)};return c.push(v),v}function r(){const{history:f}=window;f.state&&f.replaceState(P({},f.state,{scroll:we()}),"")}function l(){for(const f of c)f();c=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",r)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",r,{passive:!0}),{pauseListeners:a,listen:d,destroy:l}}function nt(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?we():null}}function Sn(e){const{history:t,location:n}=window,s={value:wt(e,n)},o={value:t.state};o.value||c(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function c(a,d,r){const l=e.indexOf("#"),f=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+a:$n()+e+a;try{t[r?"replaceState":"pushState"](d,"",f),o.value=d}catch(v){console.error(v),n[r?"replace":"assign"](f)}}function h(a,d){const r=P({},t.state,nt(o.value.back,a,o.value.forward,!0),d,{position:o.value.position});c(a,r,!0),s.value=a}function m(a,d){const r=P({},o.value,t.state,{forward:a,scroll:we()});c(r.current,r,!0);const l=P({},nt(s.value,a,null),{position:r.position+1},d);c(a,l,!1),s.value=a}return{location:s,state:o,push:m,replace:h}}function Pn(e){e=vn(e);const t=Sn(e),n=Cn(e,t.state,t.location,t.replace);function s(c,h=!0){h||n.pauseListeners(),history.go(c)}const o=P({location:"",base:e,go:s,createHref:yn.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function An(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Pn(e)}function Mn(e){return typeof e=="string"||e&&typeof e=="object"}function Rt(e){return typeof e=="string"||typeof e=="symbol"}const Y={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},kt=Symbol("");var st;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(st||(st={}));function ae(e,t){return P(new Error,{type:e,[kt]:!0},t)}function Q(e,t){return e instanceof Error&&kt in e&&(t==null||!!(e.type&t))}const ot="[^/]+?",On={sensitive:!1,strict:!1,start:!0,end:!0},zn=/[.+*?^${}()[\]/\\]/g;function xn(e,t){const n=P({},On,t),s=[];let o=n.start?"^":"";const c=[];for(const d of e){const r=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let l=0;l<d.length;l++){const f=d[l];let v=40+(n.sensitive?.25:0);if(f.type===0)l||(o+="/"),o+=f.value.replace(zn,"\\$&"),v+=40;else if(f.type===1){const{value:R,repeatable:I,optional:O,regexp:k}=f;c.push({name:R,repeatable:I,optional:O});const $=k||ot;if($!==ot){v+=10;try{new RegExp("(".concat($,")"))}catch(V){throw new Error('Invalid custom RegExp for param "'.concat(R,'" (').concat($,"): ")+V.message)}}let N=I?"((?:".concat($,")(?:/(?:").concat($,"))*)"):"(".concat($,")");l||(N=O&&d.length<2?"(?:/".concat(N,")"):"/"+N),O&&(N+="?"),o+=N,v+=20,O&&(v+=-8),I&&(v+=-20),$===".*"&&(v+=-50)}r.push(v)}s.push(r)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const h=new RegExp(o,n.sensitive?"":"i");function m(d){const r=d.match(h),l={};if(!r)return null;for(let f=1;f<r.length;f++){const v=r[f]||"",R=c[f-1];l[R.name]=v&&R.repeatable?v.split("/"):v}return l}function a(d){let r="",l=!1;for(const f of e){(!l||!r.endsWith("/"))&&(r+="/"),l=!1;for(const v of f)if(v.type===0)r+=v.value;else if(v.type===1){const{value:R,repeatable:I,optional:O}=v,k=R in d?d[R]:"";if(W(k)&&!I)throw new Error('Provided param "'.concat(R,'" is an array but it is not repeatable (* or + modifiers)'));const $=W(k)?k.join("/"):k;if(!$)if(O)f.length<2&&(r.endsWith("/")?r=r.slice(0,-1):l=!0);else throw new Error('Missing required param "'.concat(R,'"'));r+=$}}return r||"/"}return{re:h,score:s,keys:c,parse:m,stringify:a}}function In(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function qn(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const c=In(s[n],o[n]);if(c)return c;n++}if(Math.abs(o.length-s.length)===1){if(rt(s))return 1;if(rt(o))return-1}return o.length-s.length}function rt(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Tn={type:0,value:""},Ln=/[a-zA-Z0-9_]/;function Bn(e){if(!e)return[[]];if(e==="/")return[[Tn]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(v){throw new Error("ERR (".concat(n,')/"').concat(d,'": ').concat(v))}let n=0,s=n;const o=[];let c;function h(){c&&o.push(c),c=[]}let m=0,a,d="",r="";function l(){d&&(n===0?c.push({type:0,value:d}):n===1||n===2||n===3?(c.length>1&&(a==="*"||a==="+")&&t("A repeatable param (".concat(d,") must be alone in its segment. eg: '/:ids+.")),c.push({type:1,value:d,regexp:r,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),d="")}function f(){d+=a}for(;m<e.length;){if(a=e[m++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(d&&l(),h()):a===":"?(l(),n=1):f();break;case 4:f(),n=s;break;case 1:a==="("?n=2:Ln.test(a)?f():(l(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&m--);break;case 2:a===")"?r[r.length-1]=="\\"?r=r.slice(0,-1)+a:n=3:r+=a;break;case 3:l(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&m--,r="";break;default:t("Unknown state");break}}return n===2&&t('Unfinished custom RegExp for param "'.concat(d,'"')),l(),h(),o}function Nn(e,t,n){const s=xn(Bn(e.path),n),o=P(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Hn(e,t){const n=[],s=new Map;t=lt({strict:!1,end:!0,sensitive:!1},t);function o(r){return s.get(r)}function c(r,l,f){const v=!f,R=jn(r);R.aliasOf=f&&f.record;const I=lt(t,r),O=[R];if("alias"in r){const N=typeof r.alias=="string"?[r.alias]:r.alias;for(const V of N)O.push(P({},R,{components:f?f.record.components:R.components,path:V,aliasOf:f?f.record:R}))}let k,$;for(const N of O){const{path:V}=N;if(l&&V[0]!=="/"){const w=l.record.path,A=w[w.length-1]==="/"?"":"/";N.path=l.record.path+(V&&A+V)}if(k=Nn(N,l,I),f?f.alias.push(k):($=$||k,$!==k&&$.alias.push(k),v&&r.name&&!it(k)&&h(r.name)),R.children){const w=R.children;for(let A=0;A<w.length;A++)c(w[A],k,f&&f.children[A])}f=f||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&a(k)}return $?()=>{h($)}:de}function h(r){if(Rt(r)){const l=s.get(r);l&&(s.delete(r),n.splice(n.indexOf(l),1),l.children.forEach(h),l.alias.forEach(h))}else{const l=n.indexOf(r);l>-1&&(n.splice(l,1),r.record.name&&s.delete(r.record.name),r.children.forEach(h),r.alias.forEach(h))}}function m(){return n}function a(r){let l=0;for(;l<n.length&&qn(r,n[l])>=0&&(r.record.path!==n[l].record.path||!Et(r,n[l]));)l++;n.splice(l,0,r),r.record.name&&!it(r)&&s.set(r.record.name,r)}function d(r,l){let f,v={},R,I;if("name"in r&&r.name){if(f=s.get(r.name),!f)throw ae(1,{location:r});I=f.record.name,v=P(at(l.params,f.keys.filter($=>!$.optional).map($=>$.name)),r.params&&at(r.params,f.keys.map($=>$.name))),R=f.stringify(v)}else if("path"in r)R=r.path,f=n.find($=>$.re.test(R)),f&&(v=f.parse(R),I=f.record.name);else{if(f=l.name?s.get(l.name):n.find($=>$.re.test(l.path)),!f)throw ae(1,{location:r,currentLocation:l});I=f.record.name,v=P({},l.params,r.params),R=f.stringify(v)}const O=[];let k=f;for(;k;)O.unshift(k.record),k=k.parent;return{name:I,path:R,params:v,matched:O,meta:Dn(O)}}return e.forEach(r=>c(r)),{addRoute:c,resolve:d,removeRoute:h,getRoutes:m,getRecordMatcher:o}}function at(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function jn(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Vn(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Vn(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function it(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Dn(e){return e.reduce((t,n)=>P(t,n.meta),{})}function lt(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Et(e,t){return t.children.some(n=>n===e||Et(e,n))}const $t=/#/g,Un=/&/g,Gn=/\//g,Kn=/=/g,Wn=/\?/g,Ct=/\+/g,Fn=/%5B/g,Qn=/%5D/g,St=/%5E/g,Yn=/%60/g,Pt=/%7B/g,Zn=/%7C/g,At=/%7D/g,Xn=/%20/g;function De(e){return encodeURI(""+e).replace(Zn,"|").replace(Fn,"[").replace(Qn,"]")}function Jn(e){return De(e).replace(Pt,"{").replace(At,"}").replace(St,"^")}function Ne(e){return De(e).replace(Ct,"%2B").replace(Xn,"+").replace($t,"%23").replace(Un,"%26").replace(Yn,"`").replace(Pt,"{").replace(At,"}").replace(St,"^")}function es(e){return Ne(e).replace(Kn,"%3D")}function ts(e){return De(e).replace($t,"%23").replace(Wn,"%3F")}function ns(e){return e==null?"":ts(e).replace(Gn,"%2F")}function ye(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function ss(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const c=s[o].replace(Ct," "),h=c.indexOf("="),m=ye(h<0?c:c.slice(0,h)),a=h<0?null:ye(c.slice(h+1));if(m in t){let d=t[m];W(d)||(d=t[m]=[d]),d.push(a)}else t[m]=a}return t}function ct(e){let t="";for(let n in e){const s=e[n];if(n=es(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(W(s)?s.map(c=>c&&Ne(c)):[s&&Ne(s)]).forEach(c=>{c!==void 0&&(t+=(t.length?"&":"")+n,c!=null&&(t+="="+c))})}return t}function os(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=W(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const rs=Symbol(""),ut=Symbol(""),Ue=Symbol(""),Ge=Symbol(""),He=Symbol("");function ue(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Z(e,t,n,s,o){const c=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((h,m)=>{const a=l=>{l===!1?m(ae(4,{from:n,to:t})):l instanceof Error?m(l):Mn(l)?m(ae(2,{from:t,to:l})):(c&&s.enterCallbacks[o]===c&&typeof l=="function"&&c.push(l),h())},d=e.call(s&&s.instances[o],t,n,a);let r=Promise.resolve(d);e.length<3&&(r=r.then(a)),r.catch(l=>m(l))})}function ze(e,t,n,s){const o=[];for(const c of e)for(const h in c.components){let m=c.components[h];if(!(t!=="beforeRouteEnter"&&!c.instances[h]))if(as(m)){const d=(m.__vccOpts||m)[t];d&&o.push(Z(d,n,s,c,h))}else{let a=m();o.push(()=>a.then(d=>{if(!d)return Promise.reject(new Error("Couldn't resolve component \"".concat(h,'" at "').concat(c.path,'"')));const r=dn(d)?d.default:d;c.components[h]=r;const f=(r.__vccOpts||r)[t];return f&&Z(f,n,s,c,h)()}))}}return o}function as(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function dt(e){const t=oe(Ue),n=oe(Ge),s=U(()=>t.resolve(_(e.to))),o=U(()=>{const{matched:a}=s.value,{length:d}=a,r=a[d-1],l=n.matched;if(!r||!l.length)return-1;const f=l.findIndex(re.bind(null,r));if(f>-1)return f;const v=ft(a[d-2]);return d>1&&ft(r)===v&&l[l.length-1].path!==v?l.findIndex(re.bind(null,a[d-2])):f}),c=U(()=>o.value>-1&&us(n.params,s.value.params)),h=U(()=>o.value>-1&&o.value===n.matched.length-1&&yt(n.params,s.value.params));function m(a={}){return cs(a)?t[_(e.replace)?"replace":"push"](_(e.to)).catch(de):Promise.resolve()}return{route:s,href:U(()=>s.value.href),isActive:c,isExactActive:h,navigate:m}}const is=F({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dt,setup(e,{slots:t}){const n=qt(dt(e)),{options:s}=oe(Ue),o=U(()=>({[ht(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ht(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const c=t.default&&t.default(n);return e.custom?c:pt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},c)}}}),ls=is;function cs(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function us(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!W(o)||o.length!==s.length||s.some((c,h)=>c!==o[h]))return!1}return!0}function ft(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ht=(e,t,n)=>e!=null?e:t!=null?t:n,ds=F({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=oe(He),o=U(()=>e.route||s.value),c=oe(ut,0),h=U(()=>{let d=_(c);const{matched:r}=o.value;let l;for(;(l=r[d])&&!l.components;)d++;return d}),m=U(()=>o.value.matched[h.value]);Ae(ut,U(()=>h.value+1)),Ae(rs,m),Ae(He,o);const a=D();return Tt(()=>[a.value,m.value,e.name],([d,r,l],[f,v,R])=>{r&&(r.instances[l]=d,v&&v!==r&&d&&d===f&&(r.leaveGuards.size||(r.leaveGuards=v.leaveGuards),r.updateGuards.size||(r.updateGuards=v.updateGuards))),d&&r&&(!v||!re(r,v)||!f)&&(r.enterCallbacks[l]||[]).forEach(I=>I(d))},{flush:"post"}),()=>{const d=o.value,r=e.name,l=m.value,f=l&&l.components[r];if(!f)return mt(n.default,{Component:f,route:d});const v=l.props[r],R=v?v===!0?d.params:typeof v=="function"?v(d):v:null,O=pt(f,P({},R,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(l.instances[r]=null)},ref:a}));return mt(n.default,{Component:O,route:d})||O}}});function mt(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const fs=ds;function hs(e){const t=Hn(e.routes,e),n=e.parseQuery||ss,s=e.stringifyQuery||ct,o=e.history,c=ue(),h=ue(),m=ue(),a=zt(Y);let d=Y;se&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const r=Me.bind(null,i=>""+i),l=Me.bind(null,ns),f=Me.bind(null,ye);function v(i,g){let p,b;return Rt(i)?(p=t.getRecordMatcher(i),b=g):b=i,t.addRoute(b,p)}function R(i){const g=t.getRecordMatcher(i);g&&t.removeRoute(g)}function I(){return t.getRoutes().map(i=>i.record)}function O(i){return!!t.getRecordMatcher(i)}function k(i,g){if(g=P({},g||a.value),typeof i=="string"){const E=Oe(n,i,g.path),B=t.resolve({path:E.path},g),ce=o.createHref(E.fullPath);return P(E,B,{params:f(B.params),hash:ye(E.hash),redirectedFrom:void 0,href:ce})}let p;if("path"in i)p=P({},i,{path:Oe(n,i.path,g.path).path});else{const E=P({},i.params);for(const B in E)E[B]==null&&delete E[B];p=P({},i,{params:l(E)}),g.params=l(g.params)}const b=t.resolve(p,g),M=i.hash||"";b.params=r(f(b.params));const L=mn(s,P({},i,{hash:Jn(M),path:b.path})),C=o.createHref(L);return P({fullPath:L,hash:M,query:s===ct?os(i.query):i.query||{}},b,{redirectedFrom:void 0,href:C})}function $(i){return typeof i=="string"?Oe(n,i,a.value.path):P({},i)}function N(i,g){if(d!==i)return ae(8,{from:g,to:i})}function V(i){return T(i)}function w(i){return V(P($(i),{replace:!0}))}function A(i){const g=i.matched[i.matched.length-1];if(g&&g.redirect){const{redirect:p}=g;let b=typeof p=="function"?p(i):p;return typeof b=="string"&&(b=b.includes("?")||b.includes("#")?b=$(b):{path:b},b.params={}),P({query:i.query,hash:i.hash,params:"path"in b?{}:i.params},b)}}function T(i,g){const p=d=k(i),b=a.value,M=i.state,L=i.force,C=i.replace===!0,E=A(p);if(E)return T(P($(E),{state:typeof E=="object"?P({},M,E.state):M,force:L,replace:C}),g||p);const B=p;B.redirectedFrom=g;let ce;return!L&&pn(s,b,p)&&(ce=ae(16,{to:B,from:b}),Ye(b,b,!0,!1)),(ce?Promise.resolve(ce):Ke(B,b)).catch(j=>Q(j)?Q(j,2)?j:Ce(j):$e(j,B,b)).then(j=>{if(j){if(Q(j,2))return T(P({replace:C},$(j.to),{state:typeof j.to=="object"?P({},M,j.to.state):M,force:L}),g||B)}else j=Fe(B,b,!0,C,M);return We(B,b,j),j})}function z(i,g){const p=N(i,g);return p?Promise.reject(p):Promise.resolve()}function te(i){const g=ge.values().next().value;return g&&typeof g.runWithContext=="function"?g.runWithContext(i):i()}function Ke(i,g){let p;const[b,M,L]=ms(i,g);p=ze(b.reverse(),"beforeRouteLeave",i,g);for(const E of b)E.leaveGuards.forEach(B=>{p.push(Z(B,i,g))});const C=z.bind(null,i,g);return p.push(C),ne(p).then(()=>{p=[];for(const E of c.list())p.push(Z(E,i,g));return p.push(C),ne(p)}).then(()=>{p=ze(M,"beforeRouteUpdate",i,g);for(const E of M)E.updateGuards.forEach(B=>{p.push(Z(B,i,g))});return p.push(C),ne(p)}).then(()=>{p=[];for(const E of L)if(E.beforeEnter)if(W(E.beforeEnter))for(const B of E.beforeEnter)p.push(Z(B,i,g));else p.push(Z(E.beforeEnter,i,g));return p.push(C),ne(p)}).then(()=>(i.matched.forEach(E=>E.enterCallbacks={}),p=ze(L,"beforeRouteEnter",i,g),p.push(C),ne(p))).then(()=>{p=[];for(const E of h.list())p.push(Z(E,i,g));return p.push(C),ne(p)}).catch(E=>Q(E,8)?E:Promise.reject(E))}function We(i,g,p){m.list().forEach(b=>te(()=>b(i,g,p)))}function Fe(i,g,p,b,M){const L=N(i,g);if(L)return L;const C=g===Y,E=se?history.state:{};p&&(b||C?o.replace(i.fullPath,P({scroll:C&&E&&E.scroll},M)):o.push(i.fullPath,M)),a.value=i,Ye(i,g,p,C),Ce()}let le;function Mt(){le||(le=o.listen((i,g,p)=>{if(!Ze.listening)return;const b=k(i),M=A(b);if(M){T(P(M,{replace:!0}),b).catch(de);return}d=b;const L=a.value;se&&kn(tt(L.fullPath,p.delta),we()),Ke(b,L).catch(C=>Q(C,12)?C:Q(C,2)?(T(C.to,b).then(E=>{Q(E,20)&&!p.delta&&p.type===me.pop&&o.go(-1,!1)}).catch(de),Promise.reject()):(p.delta&&o.go(-p.delta,!1),$e(C,b,L))).then(C=>{C=C||Fe(b,L,!1),C&&(p.delta&&!Q(C,8)?o.go(-p.delta,!1):p.type===me.pop&&Q(C,20)&&o.go(-1,!1)),We(b,L,C)}).catch(de)}))}let Ee=ue(),Qe=ue(),_e;function $e(i,g,p){Ce(i);const b=Qe.list();return b.length?b.forEach(M=>M(i,g,p)):console.error(i),Promise.reject(i)}function Ot(){return _e&&a.value!==Y?Promise.resolve():new Promise((i,g)=>{Ee.add([i,g])})}function Ce(i){return _e||(_e=!i,Mt(),Ee.list().forEach(([g,p])=>i?p(i):g()),Ee.reset()),i}function Ye(i,g,p,b){const{scrollBehavior:M}=e;if(!se||!M)return Promise.resolve();const L=!p&&En(tt(i.fullPath,0))||(b||!p)&&history.state&&history.state.scroll||null;return It().then(()=>M(i,g,L)).then(C=>C&&Rn(C)).catch(C=>$e(C,i,g))}const Se=i=>o.go(i);let Pe;const ge=new Set,Ze={currentRoute:a,listening:!0,addRoute:v,removeRoute:R,hasRoute:O,getRoutes:I,resolve:k,options:e,push:V,replace:w,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:c.add,beforeResolve:h.add,afterEach:m.add,onError:Qe.add,isReady:Ot,install(i){const g=this;i.component("RouterLink",ls),i.component("RouterView",fs),i.config.globalProperties.$router=g,Object.defineProperty(i.config.globalProperties,"$route",{enumerable:!0,get:()=>_(a)}),se&&!Pe&&a.value===Y&&(Pe=!0,V(o.location).catch(M=>{}));const p={};for(const M in Y)Object.defineProperty(p,M,{get:()=>a.value[M],enumerable:!0});i.provide(Ue,g),i.provide(Ge,xt(p)),i.provide(He,a);const b=i.unmount;ge.add(i),i.unmount=function(){ge.delete(i),ge.size<1&&(d=Y,le&&le(),le=null,a.value=Y,Pe=!1,_e=!1),b()}}};function ne(i){return i.reduce((g,p)=>g.then(()=>te(p)),Promise.resolve())}return Ze}function ms(e,t){const n=[],s=[],o=[],c=Math.max(t.matched.length,e.matched.length);for(let h=0;h<c;h++){const m=t.matched[h];m&&(e.matched.find(d=>re(d,m))?s.push(m):n.push(m));const a=e.matched[h];a&&(t.matched.find(d=>re(d,a))||o.push(a))}return[n,s,o]}function ps(){return oe(Ge)}const _s={class:"fr-sidemenu__item"},gs=["innerHTML"],vs=F({__name:"AdminSidebarLink",props:{label:{},icon:{},iconHtml:{},to:{}},setup(e){return(t,n)=>{const s=ee("router-link");return S(),q("li",_s,[u("div",{class:Ie([{"fr-icon-svg fr-icon--sm":t.iconHtml},"fr-enlarge-link fr-sidemenu__link fr-mb-1w"])},[t.iconHtml?(S(),q("div",{key:0,class:"fr-mr-1w fr-grid-row",innerHTML:t.iconHtml},null,8,gs)):t.icon?(S(),q("div",{key:1,class:Ie([t.icon,"fr-mr-1w fr-icon--sm"]),"aria-hidden":"true"},null,2)):G("",!0),x(s,{to:t.to},{default:H(()=>[K(y(t.label),1)]),_:1},8,["to"])],2)])}}});const be=vt(vs,[["__scopeId","data-v-6240fbee"]]),bs='<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5 12V18C5 18 5 21 12 21C19 21 19 18 19 18V12" stroke="currentColor" stroke-width="1.5"/>\n<path d="M5 6V12C5 12 5 15 12 15C19 15 19 12 19 12V6" stroke="currentColor" stroke-width="1.5"/>\n<path d="M12 3C19 3 19 6 19 6C19 6 19 9 12 9C5 9 5 6 5 6C5 6 5 3 12 3Z" stroke="currentColor" stroke-width="1.5"/>\n</svg>\n',ys=["aria-expanded","aria-controls","aria-current"],ws={class:"logo logo--sm"},Rs={class:"fr-mx-1w fr-col text-overflow-ellipsis"},ks=["id"],Es={class:"fr-sidemenu__list fr-mx-1w fr-my-3v"},$s=F({__name:"AdminSidebarOrganizationMenu",props:{organization:{},isOpened:{type:Boolean}},setup(e){const{t}=J(),n=he("organization-menu");return(s,o)=>(S(),q("li",{class:Ie(["fr-sidemenu__item",{"fr-sidemenu__item--active":s.isOpened}])},[u("button",{class:"fr-sidemenu__btn","aria-expanded":s.isOpened,"aria-controls":_(n),"aria-current":s.isOpened},[u("div",ws,[x(Bt,{type:"organization",src:s.organization.logo_thumbnail,size:20},null,8,["src"])]),u("p",Rs,y(s.organization.name),1)],8,ys),u("div",{class:"fr-collapse","data-fr-js-collapse":"",id:_(n)},[u("ul",Es,[x(be,{iconHtml:_(bs),label:_(t)("Datasets"),to:{name:"organization-datasets",params:{oid:s.organization.id}}},null,8,["iconHtml","label","to"]),x(be,{icon:"fr-icon-line-chart-line",label:_(t)("Reuses"),to:{name:"organization-reuses",params:{oid:s.organization.id}}},null,8,["label","to"]),x(be,{icon:"fr-icon-parent-line",label:_(t)("Members"),to:{name:"organization-members",params:{oid:s.organization.id}}},null,8,["label","to"])])],8,ks)],2))}});const Cs=vt($s,[["__scopeId","data-v-88e26365"]]);let xe;function Re(){return Nt(),xe||(xe=Ht.get(jt("me/")).then(e=>e.data))}const Ss={class:"fr-container--fluid h-100"},Ps={class:"fr-grid-row h-100 bg-grey-50"},As={class:"fr-col-12 fr-col-md-4 fr-col-lg-3 fr-col-xl-2"},Ms=["aria-label"],Os={class:"fr-sidemenu__inner"},zs=["aria-controls"],xs=["id"],Is={class:"fr-sidemenu__list"},qs={class:"fr-sidemenu__item"},Ts=["aria-controls"],Ls={class:"fr-mx-1v"},Bs=["id"],Ns={class:"fr-col-12 fr-col-md-8 fr-col-lg-9 fr-col-xl-10 h-100 fr-px-2w"},Hs=F({__name:"Admin",setup(e){const{t}=J(),n=ps(),s=he("menu"),o=he("profil-submenu"),c=D(null),h=D(null);function m(a){return a===h.value}return pe(async()=>{c.value=await Re(),c.value.organizations.length>0&&(n.params.oid?h.value=n.params.oid:h.value=c.value.organizations[0].id)}),(a,d)=>{const r=ee("router-view");return S(),q("div",Ss,[u("div",Ps,[u("div",As,[u("nav",{class:"fr-sidemenu","aria-label":_(t)("Administration menu")},[u("div",Os,[u("button",{class:"fr-sidemenu__btn",hidden:"","aria-controls":_(s),"aria-expanded":"false"},y(_(t)("Open menu")),9,zs),u("div",{class:"fr-collapse",id:_(s)},[u("ul",Is,[u("li",qs,[u("button",{class:"fr-sidemenu__btn border-bottom border-default-grey","aria-expanded":"false","aria-controls":_(o)},[x(Ve,{user:_(bt),size:24,rounded:!0},null,8,["user"]),u("p",Ls,y(_(t)("My Profil")),1)],8,Ts),u("div",{class:"fr-collapse",id:_(o)},[x(be,{icon:"fr-icon-account-circle-line",label:_(t)("Me"),to:"/me"},null,8,["label"])],8,Bs)]),c.value?(S(!0),q(ve,{key:0},qe(c.value.organizations,l=>(S(),X(Cs,{organization:l,"is-opened":m(l.id)},null,8,["organization","is-opened"]))),256)):G("",!0)])],8,xs)])],8,Ms)]),u("div",Ns,[(S(),X(r,{key:_(n).fullPath}))])])])}}});const js=["aria-label"],Vs={class:"fr-breadcrumb__list"},ke={__name:"Breadcrumb",setup(e){const{t}=J();return(n,s)=>(S(),q("nav",{rol:"navigation","aria-label":_(t)("You're here:"),class:"fr-breadcrumb fr-mb-5v"},[u("ol",Vs,[_t(n.$slots,"default")])],8,js))}},Ds={class:"fr-container--fluid"},Us={key:0},Gs={class:"fr-breadcrumb__link","aria-current":"page"},Ks={class:"fr-alert fr-alert--info"},Ws={class:"fr-alert__title"},Fs=F({__name:"Datasets",props:{oid:{}},setup(e){const{t}=J(),n=e,s="/admin/organization/".concat(n.oid,"/"),o=D(null),c=D(null);return pe(async()=>o.value=await Re()),je(()=>{var h,m;c.value=(m=(h=o.value)==null?void 0:h.organizations.find(a=>a.id===n.oid))!=null?m:null}),(h,m)=>{const a=ee("router-link");return S(),q("div",Ds,[x(ke,null,{default:H(()=>[u("li",null,[x(a,{class:"fr-breadcrumb__link",to:"/"},{default:H(()=>[K(y(_(t)("Administration")),1)]),_:1})]),c.value?(S(),q("li",Us,[x(a,{class:"fr-breadcrumb__link",to:"/"},{default:H(()=>[K(y(c.value.name),1)]),_:1})])):G("",!0),u("li",null,[u("a",Gs,y(_(t)("Datasets")),1)])]),_:1}),u("div",Ks,[u("h3",Ws,y(_(t)("This is a WIP page")),1),u("p",null,[u("a",{href:s},y(_(t)("You can manage your datasets on the current admin.")),1)])])])}}}),Qs={class:"fr-container--fluid"},Ys={key:0},Zs={class:"fr-breadcrumb__link","aria-current":"page"},Xs={class:"fr-alert fr-alert--info"},Js={class:"fr-alert__title"},eo=F({__name:"Reuses",props:{oid:{}},setup(e){const{t}=J(),n=e,s="/admin/organization/".concat(n.oid,"/"),o=D(null),c=D(null);return pe(async()=>o.value=await Re()),je(()=>{var h,m;c.value=(m=(h=o.value)==null?void 0:h.organizations.find(a=>a.id===n.oid))!=null?m:null}),(h,m)=>{const a=ee("router-link");return S(),q("div",Qs,[x(ke,null,{default:H(()=>[u("li",null,[x(a,{class:"fr-breadcrumb__link",to:"/"},{default:H(()=>[K(y(_(t)("Administration")),1)]),_:1})]),c.value?(S(),q("li",Ys,[x(a,{class:"fr-breadcrumb__link",to:"/"},{default:H(()=>[K(y(c.value.name),1)]),_:1})])):G("",!0),u("li",null,[u("a",Zs,y(_(t)("Reuses")),1)])]),_:1}),u("div",Xs,[u("h3",Js,y(_(t)("This is a WIP page")),1),u("p",null,[u("a",{href:s},y(_(t)("You can manage your reuses on the current admin.")),1)])])])}}}),to={class:"fr-container--fluid"},no={class:"fr-breadcrumb__link","aria-current":"page"},so={key:0,class:"fr-h1"},oo={class:"fr-alert fr-alert--info"},ro={class:"fr-alert__title"},ao={href:"/admin/me/"},io=F({__name:"Me",setup(e){const{t}=J(),n=D(null);return pe(async()=>n.value=await Re()),(s,o)=>{const c=ee("router-link");return S(),q("div",to,[x(ke,null,{default:H(()=>[u("li",null,[x(c,{class:"fr-breadcrumb__link",to:"/"},{default:H(()=>[K(y(_(t)("Administration")),1)]),_:1})]),u("li",null,[u("a",no,y(_(t)("Me")),1)])]),_:1}),n.value?(S(),q("h1",so,y(n.value.first_name)+" "+y(n.value.last_name),1)):G("",!0),u("div",oo,[u("h3",ro,y(_(t)("This is a WIP page")),1),u("p",null,[u("a",ao,y(_(t)("You can edit your profil on the current admin.")),1)])])])}}}),lo={class:"fr-grid-row fr-grid-row--gutters fr-grid-row--middle"},co=F({__name:"AdminDangerZone",setup(e){return(t,n)=>(S(),X(_(Vt),{color:"error",type:"secondary",weight:"regular"},{default:H(()=>[u("div",lo,[_t(t.$slots,"default")])]),_:3}))}}),uo={class:"fr-mt-n9v fr-mb-2w"},fo={class:"fr-badge fr-badge--info fr-badge--no-icon"},ho=u("span",{class:"fr-icon-user-add-line","aria-hidden":"true"},null,-1),mo={class:"fr-grid-row fr-grid-row--gutters fr-grid-row--middle"},po={class:"fr-col"},_o={class:"fr-grid-row fr-grid-row--middle"},go={class:"fr-ml-3v fr-mt-1-5v fr-mb-0 filet filet-default-grey fr-text--sm"},vo={key:0,class:"fr-col-auto fr-grid-row flex-direction-column"},bo=["disabled"],yo=["disabled","aria-controls"],wo=["aria-labelledby","id"],Ro={class:"fr-container fr-container--fluid fr-container-md"},ko={class:"fr-grid-row fr-grid-row--center"},Eo={class:"fr-col-12 fr-col-md-8"},$o={class:"fr-modal__body"},Co={class:"fr-modal__header"},So=["title","aria-controls"],Po={class:"fr-modal__content"},Ao=["id"],Mo={class:"fr-grid-row fr-grid-row--gutters fr-grid-row--right"},Oo={class:"fr-col-auto"},zo=["disabled"],xo={class:"fr-col-auto"},Io=["disabled"],qo=F({__name:"MembershipRequest",props:{loading:{type:Boolean},oid:{},request:{},showActions:{type:Boolean}},emits:["accept","refuse"],setup(e,{emit:t}){const n=e,s=t,{t:o}=J(),c=D(""),h=he("modal"),m=he("modalTitle");function a(){const l=document.getElementById(h);globalThis.dsfr(l).modal.conceal()}function d(){s("refuse",n.request.id,c.value),a()}function r(){c.value="",a()}return(l,f)=>{const v=ee("MembershipRequest",!0);return S(),X(Dt,{class:"drop-shadow rounded-xxs fr-mt-3w"},{default:H(()=>[u("div",uo,[u("p",fo,[ho,K(" "+y(_(o)("Membership Request")),1)])]),u("div",mo,[u("div",po,[u("div",_o,[x(Ve,{class:"fr-mr-1v",user:l.request.user,rounded:!0,size:24},null,8,["user"]),K(" "+y(_(o)("{fullName} asks to join the organization.",{fullName:l.request.user.first_name+" "+l.request.user.last_name})),1)]),u("div",go,y(l.request.comment),1)]),l.showActions?(S(),q("div",vo,[u("button",{class:"fr-btn fr-btn--sm fr-btn--icon-left fr-mb-1w fr-icon-check-line",onClick:f[0]||(f[0]=R=>l.$emit("accept",l.request.id)),disabled:l.loading,"data-testid":"accept"},y(_(o)("Accept request")),9,bo),u("button",{class:"fr-btn fr-btn--icon-left fr-btn--sm fr-btn--secondary fr-btn--secondary--error fr-icon-close-line",disabled:l.loading,"data-fr-opened":"false","aria-controls":_(h),"data-testid":"refuse"},y(_(o)("Refuse")),9,yo),(S(),X(gt,{to:"body"},[u("dialog",{"aria-labelledby":_(m),role:"dialog",id:_(h),class:"fr-modal","data-testid":"modal"},[u("div",Ro,[u("div",ko,[u("div",Eo,[u("div",$o,[u("div",Co,[u("button",{class:"fr-btn--close fr-btn",title:_(o)("Close the modal dialog"),"aria-controls":_(h),onClick:Te(r,["prevent"])},y(_(o)("Close")),9,So)]),u("div",Po,[u("h1",{id:_(m),class:"fr-modal__title fr-mb-2w"},y(_(o)("Refuse membership request")),9,Ao),x(v,{class:"fr-mt-4w fr-mb-2w",loading:!1,oid:l.oid,request:l.request,"show-actions":!1},null,8,["oid","request"]),u("form",{onSubmit:Te(d,["prevent"]),onReset:r},[x(Ut,{label:_(o)("You can provide the refusal reason:"),modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=R=>c.value=R),"data-testid":"comment-group"},null,8,["label","modelValue"]),u("div",Mo,[u("div",Oo,[u("button",{class:"fr-btn fr-btn--secondary fr-btn--secondary-grey-500",type:"reset",disabled:l.loading,"data-testid":"cancel-modal-button"},y(_(o)("Cancel")),9,zo)]),u("div",xo,[u("button",{class:"fr-btn",type:"submit",disabled:l.loading,"data-testid":"refuse-modal-button"},y(_(o)("Refuse request")),9,Io)])])],32)])])])])])],8,wo)]))])):G("",!0)])]),_:1})}}}),To={key:0},Lo=u("li",null,null,-1),Bo={class:"fr-h1 fr-mb-2w"},No={class:"subtitle subtitle--uppercase"},Ho={class:"subtitle subtitle--uppercase fr-mt-2w fr-mb-1v"},jo={class:"fr-table fr-table--layout-fixed"},Vo={scope:"col"},Do={scope:"col"},Uo={key:0,scope:"col"},Go={class:"fr-badge"},Ko={key:0},Wo=["aria-controls"],Fo=["aria-labelledby","id"],Qo={class:"fr-container fr-container--fluid fr-container-md"},Yo={class:"fr-grid-row fr-grid-row--center"},Zo={class:"fr-col-12 fr-col-md-8"},Xo={class:"fr-modal__body"},Jo={class:"fr-modal__header"},er=["title","aria-controls"],tr={class:"fr-modal__content"},nr=["id"],sr={class:"fr-grid-row fr-grid-row--middle fr-text--bold fr-mb-2w"},or=["onSubmit"],rr={class:"fr-col"},ar={class:"fr-col-auto"},ir=["disabled"],lr={class:"fr-col"},cr={class:"fr-m-0 text-grey-500"},ur={class:"fr-m-0 fr-text--xs text-default-error"},dr={class:"fr-col-auto"},fr=["disabled","onClick"],hr=F({__name:"Members",props:{oid:{}},setup(e){const t=e,{t:n}=J(),{toast:s}=en(),o=D([]),c=U(()=>Gt||a.value.some(w=>{var A;return w.user.id===((A=bt)==null?void 0:A.id)&&w.role==="admin"})),h=D([]),m={name:"SomeName"},a=D([]),d=D(!1);function r(w){return"fr-modal-user-"+w}function l(w){return"fr-modal-title-user-"+w}function f(w){const A=document.getElementById(r(w));globalThis.dsfr(A).modal.conceal()}async function v(w){if(!w.newRole){f(w.user.id);return}try{d.value=!0,await Qt(t.oid,w.user.id,w.newRole),k(),f(w.user.id)}catch(A){s.error(n("An error occurred while updating the member role."))}finally{d.value=!1}}async function R(w){try{d.value=!0,await Yt(t.oid,w.user.id),k()}catch(A){s.error(n("An error occurred while removing this member."))}finally{d.value=!1}}function I(w){var A,T;return(T=(A=h.value.find(z=>z.value===w))==null?void 0:A.label)!=null?T:w}function O(w){return h.value.map(A=>{const T={...A};return T.value===w&&(T.selected=!0),T})}async function k(){const w=await Zt(t.oid);a.value=w.members}async function $(){const w=await Xe(t.oid);o.value=w}async function N(w){d.value=!0;const A=[];try{await Xt(t.oid,w),A.push($()),A.push(k())}catch(T){s.error(n("An error occurred while accepting this membership."))}finally{Promise.all(A).finally(()=>d.value=!1)}}async function V(w,A){d.value=!0;const T=[];try{await Jt(t.oid,w,A),T.push($()),T.push(k())}catch(z){s.error(n("An error occurred while refusing this membership."))}finally{Promise.all(T).finally(()=>d.value=!1)}}return je(()=>{c.value&&Xe(t.oid).then(w=>o.value=w)}),pe(()=>{Kt().then(Wt).then(w=>h.value=w),k()}),(w,A)=>{const T=ee("router-link");return S(),q("div",null,[x(ke,null,{default:H(()=>[u("li",null,[x(T,{class:"fr-breadcrumb__link",to:"/"},{default:H(()=>[K(y(_(n)("Administration")),1)]),_:1})]),m?(S(),q("li",To,[x(T,{class:"fr-breadcrumb__link",to:"/"},{default:H(()=>[K(y(m.name),1)]),_:1})])):G("",!0),Lo]),_:1}),u("h1",Bo,y(_(n)("Members")),1),o.value.length?(S(),q(ve,{key:0},[u("h2",No,y(_(n)("{n} requests",{n:o.value.length})),1),(S(!0),q(ve,null,qe(o.value,z=>(S(),X(qo,{class:"fr-mb-4w",key:z.id,loading:d.value,oid:w.oid,request:z,"show-actions":!0,onAccept:N,onRefuse:V},null,8,["loading","oid","request"]))),128))],64)):G("",!0),u("h2",Ho,y(_(n)("{n} members",{n:a.value.length})),1),u("div",jo,[u("table",null,[u("thead",null,[u("tr",null,[u("th",Vo,y(_(n)("Members")),1),u("th",Do,y(_(n)("Status")),1),c.value?(S(),q("th",Uo,y(_(n)("Action")),1)):G("",!0)])]),u("tbody",null,[(S(!0),q(ve,null,qe(a.value,z=>(S(),q("tr",{key:z.user.id},[u("td",null,y(z.user.first_name)+" "+y(z.user.last_name),1),u("td",null,[u("p",Go,y(I(z.role)),1)]),c.value?(S(),q("td",Ko,[u("button",{class:"fr-btn fr-btn--sm fr-btn--tertiary-no-outline fr-icon-pencil-line","data-fr-opened":"false","aria-controls":r(z.user.id)},y(_(n)("Edit")),9,Wo),(S(),X(gt,{to:"body"},[u("dialog",{"aria-labelledby":l(z.user.id),role:"dialog",id:r(z.user.id),class:"fr-modal"},[u("div",Qo,[u("div",Yo,[u("div",Zo,[u("div",Xo,[u("div",Jo,[u("button",{class:"fr-btn--close fr-btn",title:_(n)("Close the modal dialog"),"aria-controls":r(z.user.id)},y(_(n)("Close")),9,er)]),u("div",tr,[u("h1",{id:l(z.user.id),class:"fr-modal__title fr-mb-2w"},y(_(n)("Edit member")),9,nr),u("p",sr,[x(Ve,{class:"fr-mr-1v",user:z.user,rounded:!0,size:24},null,8,["user"]),K(" "+y(z.user.first_name)+" "+y(z.user.last_name),1)]),u("form",{class:"fr-grid-row fr-grid-row--gutters fr-grid-row--bottom",onSubmit:Te(te=>v(z),["prevent"])},[u("div",rr,[h.value.length>0?(S(),X(Ft,{key:0,label:_(n)("Role of the member"),"model-value":z.role,"onUpdate:modelValue":te=>z.newRole=te,options:O(z.role)},null,8,["label","model-value","onUpdate:modelValue","options"])):G("",!0)]),u("div",ar,[u("button",{class:"fr-btn",type:"submit",disabled:d.value},y(_(n)("Validate")),9,ir)])],40,or),x(co,{class:"fr-mt-2w"},{default:H(()=>[u("div",lr,[u("p",cr,y(_(n)("Remove member from the organization")),1),u("p",ur,y(_(n)("Be careful, this action can't be reverse.")),1)]),u("div",dr,[u("button",{class:"fr-btn fr-btn--secondary fr-btn--secondary--error fr-btn--icon-left fr-icon-logout-box-r-line",disabled:d.value,onClick:te=>R(z)},y(_(n)("Remove member")),9,fr)])]),_:2},1024)])])])])])],8,Fo)]))])):G("",!0)]))),128))])])])])}}});tn({admin_root:nn,default_lang:Le.global.locale.value,explorable_resources:sn,only_locales:Le.global.locale.value,schema_documentation_url:on,schema_validata_url:rn,show_copy_resource_permalink:!0,title:an});const mr=[{path:"/me",component:io},{path:"/organizations/:oid",children:[{path:"datasets",component:Fs,props:!0,name:"organization-datasets"},{path:"reuses",component:eo,props:!0,name:"organization-reuses"},{path:"members",component:hr,props:!0,name:"organization-members"}]}],pr=hs({history:An(),routes:mr}),ie=Lt(Hs);ln(ie);ie.use(cn);ie.use(un);ie.use(Le);ie.use(pr);ie.mount("#admin");globalThis.dsfr.start();console.log("JS is injected !");export{_r as __vite_legacy_guard};
