<!DOCTYPE html>
<html lang="en">
<head>
    <title>BOM Diff Summary</title>
    <style>
        th, td {
            border: 1px solid black;
            padding: 15px;
            vertical-align: top;
            text-align: left;
        }

        .table_summary {
            display: grid;
            grid-template-columns: 5% 90% 5%;
        }

        .table_summary2 {
            display: grid;
            grid-template-columns: 75% 20% 5%;
        }

    </style>
</head>
<body>
<div class="table_summary2">
    <div></div>
    <div>
        <table style="width: 100%;">
            <tr>
                <th colspan="2" style="text-align: center; background-color: #d7ddde">Overall
                    Summary
                </th>
            </tr>
            {% if not comp_only %}
                {% for item in stats %}
                    <tr>
                        <td>{{ item[0] }}</td>
                        <td style="text-align: right">{{ item[1] }}</td>

                    </tr>
                {% endfor %}
            {% endif %}
            {% if comp_only %}
                <tr>
                    <td>{{ stats[0][0] }}</td>
                    <td style="text-align: right">{{ stats[0][1] }}</td>

                </tr>
            {% endif %}
        </table>

    </div>
</div>
<div><h1 style="text-align:center;">BOM Diff Summary</h1></div>
<div class="table_summary">
    <div></div>
    <div>
        <table class="master_table" style="width: 100%">
            <tr>
                <th colspan="3" style="text-align: center; background-color: #d7ddde">Component
                    Diff
                </th>
            </tr>
            <tr>
                <th style="width: 8%"></th>
                <th style="text-align: center; width: 46%">{{ bom_1 }}</th>
                <th style="text-align: center; width: 46%">{{ bom_2 }}</th>
            </tr>
            {% if not (diff_apps_1 or diff_apps_2 or diff_frameworks_1 or diff_frameworks_2 or diff_lib_1 or diff_lib_2 or diff_other_1 or diff_other_2) %}
                <tr>
                    <td colspan="3" style="text-align: center">No differences found.</td>
                </tr>
            {% endif %}
            {% if diff_apps_1 or diff_apps_2 %}
                <tr>
                    <th>applications</th>
                    <td>{% for item in diff_apps_1 %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                    <td>{% for item in diff_apps_2 %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                </tr>
            {% endif %}
            {% if diff_frameworks_1 or diff_frameworks_2 %}
                <tr>
                    <th>frameworks</th>
                    <td>{% for item in diff_frameworks_1 %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                    <td>{% for item in diff_frameworks_2 %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                </tr>
            {% endif %}
            {% if diff_lib_1 or diff_lib_2 %}
                <tr>
                    <th>libraries</th>
                    <td>{% for item in diff_lib_1 %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["hashes", "licenses", "properties", "evidence"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}

                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                    <td>{% for item in diff_lib_2 %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                </tr>
            {% endif %}
            {% if diff_other_comp_1 or diff_other_comp_2 %}
                <tr>
                    <th>other types</th>
                    <td>{% for item in diff_other_comp_1 %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                    <td>{% for item in diff_other_comp_2 %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                </tr>
            {% endif %}
            {% if not comp_only %}
                {% if diff_services_1 or diff_services_2 %}
                    <tr>
                        <th>services</th>
                        <td>{% for item in diff_services_1 %}
                            <details>
                                <summary>{{ item['name'] }}</summary>
                                <ul>
                                    {% for key, value in item|items %}
                                        {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                            <li>{{ key }}: {{ value }}</li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                            </details>
                        {% endfor %}</td>
                        <td>{% for item in diff_services_2 %}
                            <details>
                                <summary>{{ item['name'] }}</summary>
                                <ul>
                                    {% for key, value in item|items %}
                                        {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                            <li>{{ key }}: {{ value }}</li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                            </details>
                        {% endfor %}</td>
                    </tr>
                {% endif %}
                {% if diff_deps_1 or diff_deps_2 %}
                    <tr>
                        <th>dependencies</th>
                        <td>{% for item in diff_deps_1 %}
                            <details>
                                <summary>{{ item['short_ref'] }}</summary>
                                <ul>
                                    <li>ref: {{ item['ref'] }}</li>
                                    <li>dependencies:
                                        <ul>
                                            {% for dep in item['dependsOn'] %}
                                                <li>{{ dep }}</li>
                                            {% endfor %}
                                        </ul>
                                    </li>
                                </ul>

                            </details>
                        {% endfor %}</td>
                        <td>{% for item in diff_deps_2 %}
                            <details>
                                <summary>{{ item['short_ref'] }}</summary>
                                <ul>
                                    <li>ref: {{ item['ref'] }}</li>
                                    <li>dependencies:
                                        <ul>
                                            {% for dep in item['dependsOn'] %}
                                                <li>{{ dep }}</li>
                                            {% endfor %}
                                        </ul>
                                    </li>
                                </ul>

                            </details>
                        {% endfor %}</td>
                    </tr>
                {% endif %}
            {% endif %}
        </table>
    </div>
    <div></div>
</div>
<p></p>
<div class="table_summary">
    <div></div>
    <div>
        <table class="master_table" style="width: 100%">
            <tr>
                <th colspan="2" style="text-align: center; background-color: #d7ddde">Common
                    Components
                </th>
            </tr>
            {% if not (common_apps or common_frameworks or common_lib or common_other) %}
                <tr>
                    <td colspan="2" style="text-align: center">No commonalities found.</td>
                </tr>
            {% endif %}
            {% if common_apps %}
                <tr>
                    <th style="width: 8%">applications</th>
                    <td style="width: 41%">{% for item in common_apps %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                </tr>
            {% endif %}
            {% if common_frameworks %}
                <tr>
                    <th style="width: 8%">frameworks</th>
                    <td style="width: 41%">{% for item in common_frameworks %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                </tr>
            {% endif %}
            {% if common_lib %}
                <tr>
                    <th style="width: 8%">libraries</th>
                    <td style="width: 41%">{% for item in common_lib %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                </tr>
            {% endif %}

            {% if common_other %}
                <tr>
                    <th>other types</th>
                    <td>{% for item in common_other %}
                        <details>
                            <summary>{{ item['name'] }}@{{ item['version'] }}</summary>
                            <ul>
                                {% for key, value in item|items %}
                                    {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                        <li>{{ key }}: {{ value }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </details>
                    {% endfor %}</td>
                </tr>
            {% endif %}
            {% if not comp_only %}
                {% if common_services %}
                    <tr>
                        <th style="width: 8%">services</th>
                        <td style="width: 41%">{% for item in common_services %}
                            <details>
                                <summary>{{ item['name'] }}</summary>
                                <ul>
                                    {% for key, value in item|items %}
                                        {% if value != "" and key not in ["properties","evidence","hashes","licenses"] %}
                                            <li>{{ key }}: {{ value }}</li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                            </details>
                        {% endfor %}</td>
                    </tr>
                {% endif %}
                {% if common_deps %}
                    <tr>
                        <th style="width: 8%">dependencies</th>
                        <td style="width: 41%">                {% for item in common_deps %}
                            <details>
                                <summary>{{ item['short_ref'] }}</summary>
                                <ul>
                                    <li>ref: {{ item['ref'] }}</li>
                                    <li>dependencies:
                                        <ul>
                                            {% for dep in item['dependsOn'] %}
                                                <li>{{ dep }}</li>
                                            {% endfor %}
                                        </ul>
                                    </li>
                                </ul>

                            </details>
                        {% endfor %}</td>
                    </tr>
                {% endif %}
            {% endif %}
        </table>
    </div>
    <div></div>
</div>
<p></p>
</body>
</html>