export const id=1339;export const ids=[1339];export const modules={32872:(e,o,a)=>{a.d(o,{x:()=>i});const i=(e,o)=>e&&e.config.components.includes(o)},14656:(e,o,a)=>{a.d(o,{v:()=>i});const i=(e,o,a,i)=>{const[d,s,t]=e.split(".",3);return Number(d)>o||Number(d)===o&&(void 0===i?Number(s)>=a:Number(s)>a)||void 0!==i&&Number(d)===o&&Number(s)===a&&Number(t)>=i}},11339:(e,o,a)=>{a.r(o),a.d(o,{HaAddonSelector:()=>c});var i=a(62659),d=a(5546),s=a(196),t=a(32872),r=a(33167),n=a(66412),l=a(14656);const u=e=>e.data;new Set([502,503,504]);a(91074),a(66442),a(9484);const h=e=>d.qy`<ha-list-item twoline graphic="icon"> <span>${e.name}</span> <span slot="secondary">${e.slug}</span> ${e.icon?d.qy`<img alt="" slot="graphic" .src="/api/hassio/addons/${e.slug}/icon">`:""} </ha-list-item>`;(0,i.A)([(0,s.EM)("ha-addon-picker")],(function(e,o){return{F:class extends o{constructor(...o){super(...o),e(this)}},d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"value",value:()=>""},{kind:"field",decorators:[(0,s.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_addons",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,s.P)("ha-combo-box")],key:"_comboBox",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_error",value:void 0},{kind:"method",key:"open",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.open()}},{kind:"method",key:"focus",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.focus()}},{kind:"method",key:"firstUpdated",value:function(){this._getAddons()}},{kind:"method",key:"render",value:function(){return this._error?d.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:this._addons?d.qy` <ha-combo-box .hass="${this.hass}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.addon-picker.addon"):this.label}" .value="${this._value}" .required="${this.required}" .disabled="${this.disabled}" .helper="${this.helper}" .renderer="${h}" .items="${this._addons}" item-value-path="slug" item-id-path="slug" item-label-path="name" @value-changed="${this._addonChanged}"></ha-combo-box> `:d.s6}},{kind:"method",key:"_getAddons",value:async function(){try{if((0,t.x)(this.hass,"hassio")){const e=await(async e=>(0,l.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/addons",method:"get"}):u(await e.callApi("GET","hassio/addons")))(this.hass);this._addons=e.addons.filter((e=>e.version)).sort(((e,o)=>(0,n.x)(e.name,o.name,this.hass.locale.language)))}else this._error=this.hass.localize("ui.components.addon-picker.error.no_supervisor")}catch(e){this._error=this.hass.localize("ui.components.addon-picker.error.fetch_addons")}}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_addonChanged",value:function(e){e.stopPropagation();const o=e.detail.value;o!==this._value&&this._setValue(o)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,setTimeout((()=>{(0,r.r)(this,"value-changed",{value:e}),(0,r.r)(this,"change")}),0)}}]}}),d.WF);let c=(0,i.A)([(0,s.EM)("ha-selector-addon")],(function(e,o){return{F:class extends o{constructor(...o){super(...o),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"required",value:()=>!0},{kind:"method",key:"render",value:function(){return d.qy`<ha-addon-picker .hass="${this.hass}" .value="${this.value}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" allow-custom-entity></ha-addon-picker>`}},{kind:"field",static:!0,key:"styles",value:()=>d.AH`ha-addon-picker{width:100%}`}]}}),d.WF)}};
//# sourceMappingURL=1339.Kuv_-rdsfmo.js.map