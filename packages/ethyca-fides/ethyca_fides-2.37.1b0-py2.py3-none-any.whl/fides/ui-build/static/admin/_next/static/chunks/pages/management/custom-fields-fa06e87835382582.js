(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4815],{63238:function(e,t,n){"use strict";n.d(t,{Tg:function(){return s}});var r=n(6848),i=n(67788),o=n(24246),s=function(e){return(0,r.C)(i.uu).filter((function(t){return e.includes(t)})).length>0};t.ZP=function(e){var t=e.scopes,n=e.children;return s(t)?(0,o.jsx)(o.Fragment,{children:n}):null}},44845:function(e,t,n){"use strict";var r=n(90849),i=n(90089),o=n(28841),s=n(24246),l=["search","onChange","withIcon","onClear","placeholder"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.search,n=e.onChange,r=e.withIcon,a=e.onClear,u=e.placeholder,d=(0,i.Z)(e,l);return(0,s.jsxs)(o.BZy,{size:"sm",minWidth:"308px",children:[r?(0,s.jsx)(o.Z8_,{pointerEvents:"none",children:(0,s.jsx)(o.PTu,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,s.jsx)(o.IIB,c({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return n(e.target.value)},placeholder:u||""},d)),a?(0,s.jsx)(o.xHT,{children:(0,s.jsx)(o.zxk,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:a,children:"Clear"})}):null]})}},86054:function(e,t,n){"use strict";var r=n(90849),i=n(90089),o=n(28841),s=n(38687),l=n(24246),a=["title","tooltip","children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.title,n=e.tooltip,r=e.children,c=(0,i.Z)(e,a);return(0,l.jsxs)(o.xuv,u(u({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},c),{},{children:[(0,l.jsxs)(o.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,n?(0,l.jsx)(o.xvT,{as:"span",mx:1,children:(0,l.jsx)(s.Z,{label:n})}):void 0]}),(0,l.jsx)(o.Kqy,{p:6,spacing:6,children:r})]}))}},29073:function(e,t,n){"use strict";var r=n(28841),i=n(24246);t.Z=function(e){var t=e.title,n=e.description,o=e.button;return(0,i.jsxs)(r.Ugi,{backgroundColor:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",py:4,px:6,"data-testid":"empty-state",children:[(0,i.jsx)(r.iid,{alignSelf:"start",color:"blue.400",mt:.5}),(0,i.jsxs)(r.xuv,{flexGrow:1,children:[(0,i.jsx)(r.xvT,{fontWeight:"bold",fontSize:"sm",mb:1,children:t}),(0,i.jsx)(r.xvT,{fontSize:"sm",color:"gray.600",lineHeight:"5",children:n})]}),o]})}},63636:function(e,t,n){"use strict";n.d(t,{N0:function(){return m},S1:function(){return x},YT:function(){return p},gk:function(){return f},tU:function(){return h}});var r=n(55732),i=n(34707),o=n.n(i),s=n(28841),l=(n(27378),n(56602)),a=n(78624),c=n(2458),u=n(24753),d=n(24246),p=function(e){var t=e.value;return(0,d.jsx)(s.xvT,{fontWeight:"semibold",color:"gray.600",children:t})},f=function(e){var t=e.value;return(0,d.jsx)(s.xvT,{whiteSpace:"normal",children:t})},h=function(e){var t=e.value;return(0,d.jsxs)(s.kCb,{alignItems:"center",children:[(0,d.jsx)(s.xvT,{mr:4,children:t}),(0,d.jsx)(l.Z,{copyText:t})]})},m=function(e){var t,n=e.map,r=e.value,i=e.isPlainText,o=null!==(t=n.get(r))&&void 0!==t?t:r;return i?(0,d.jsx)(s.xvT,{whiteSpace:"normal",p:2,children:o}):(0,d.jsx)(s.Cts,{size:"sm",width:"fit-content","data-testid":"status-badge",textTransform:"uppercase",fontWeight:"400",color:"gray.600",px:2,children:o})},x=function(e){var t=e.value,n=e.column,i=e.onToggle,l=e.title,p=e.message,f=e.isDisabled,h=(0,s.qY0)(),m=(0,s.pmc)(),x=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enable,e.next=3,i(n);case 3:r=e.sent,(0,a.D4)(r)&&m((0,u.Vo)((0,a.e$)(r.error)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=6;break}return e.next=4,x({enable:!0});case 4:e.next=7;break;case 6:h.onOpen();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.rsf,{colorScheme:"complimentary",isChecked:!t,"data-testid":"toggle-".concat(n.Header),disabled:f||n.disabled,onChange:v}),(0,d.jsx)(c.Z,{isOpen:h.isOpen,onClose:h.onClose,onConfirm:function(){x({enable:!1}),h.onClose()},title:l,message:(0,d.jsx)(s.xvT,{color:"gray.500",children:p}),continueButtonText:"Confirm",isCentered:!0,icon:(0,d.jsx)(s.aNP,{color:"orange.100"})})]})}},95319:function(e,t,n){"use strict";n.d(t,{S1:function(){return r.S1},iX:function(){return g},vr:function(){return b},N0:function(){return r.N0},YT:function(){return r.YT},gk:function(){return r.gk}});var r=n(63636),i=n(90849),o=n(90089),s=n(73679),l=n(28841),a=n(27378),c=n(60378),u=n(85249),d=n(24246),p=["key"],f=["key"],h=["key"],m=["key"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.columns,n=e.data,r=e.showSearchBar,i=e.searchBarPlaceHolder,x=e.footer,g=e.onRowClick,b=e.customHooks,j=(0,a.useMemo)((function(){return b?[c.useGlobalFilter,c.useSortBy].concat((0,s.Z)(b)):[c.useGlobalFilter,c.useSortBy]}),[b]),y=c.useTable.apply(void 0,[{columns:t,data:n,autoResetSortBy:!1}].concat((0,s.Z)(j))),w=y.getTableProps,O=y.getTableBodyProps,_=y.headerGroups,C=y.rows,T=y.prepareRow;return(0,d.jsxs)(l.xJi,{children:[r?(0,d.jsx)(l.kCb,{flexGrow:1,marginBottom:3,children:(0,d.jsx)(u.Z,{globalFilter:y.state.globalFilter,setGlobalFilter:y.setGlobalFilter,placeholder:i})}):null,(0,d.jsxs)(l.iA_,v(v({},w()),{},{borderRadius:"6px 6px 0px 0px",border:"1px solid",borderColor:"gray.200",fontSize:"sm",children:[(0,d.jsx)(l.hrZ,{backgroundColor:"gray.50",children:_.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=(0,o.Z)(t,p);return(0,d.jsx)(l.Tr,v(v({},r),{},{children:e.headers.map((function(e){var t=e.getHeaderProps(e.getSortByToggleProps()),n=t.key,r=(0,o.Z)(t,f),i=null;return e.isSorted&&(i=e.isSortedDesc?(0,d.jsx)(l.veu,{color:"gray.500"}):(0,d.jsx)(l.Hf3,{color:"gray.500"})),(0,d.jsx)(l.Th,v(v({},r),{},{textTransform:"none",fontSize:"sm",p:4,"data-testid":"column-".concat(e.Header),children:(0,d.jsxs)(l.xvT,{_hover:{backgroundColor:"gray.100"},p:1,borderRadius:"4px",pr:i?0:3.5,children:[e.render("Header"),i]})}),n)}))}),n)}))}),(0,d.jsx)(l.p3B,v(v({},O()),{},{children:C.map((function(e){T(e);var t=e.getRowProps(),n=t.key,r=(0,o.Z)(t,h),i=e.original.name,s=e.original.id;return(0,d.jsx)(l.Tr,v(v({},r),{},{_hover:g?{backgroundColor:"gray.50",cursor:"pointer"}:void 0,"data-testid":"row-".concat(null!==i&&void 0!==i?i:s),children:e.cells.map((function(t){var n=t.getCellProps(),r=n.key,i=(0,o.Z)(n,m);return(0,d.jsx)(l.Td,v(v({},i),{},{p:5,verticalAlign:"baseline",width:t.column.width,onClick:"Enable"!==t.column.Header&&g?function(){g(e.original)}:void 0,children:t.render("Cell")}),r)}))}),n)}))})),x]}))]})},b=function(e){var t=e.totalColumns,n=e.children;return(0,d.jsx)(l.$RU,{backgroundColor:"gray.50",children:(0,d.jsx)(l.Tr,{children:(0,d.jsx)(l.Td,{colSpan:t,px:4,py:3.5,children:n})})})}},85249:function(e,t,n){"use strict";var r=n(28841),i=n(27378),o=n(60378),s=n(44845),l=n(24246);t.Z=function(e){var t=e.globalFilter,n=e.setGlobalFilter,a=e.placeholder,c=(0,i.useState)(t),u=c[0],d=c[1],p=(0,o.useAsyncDebounce)((function(e){n(e||void 0)}),200);return(0,l.jsx)(r.xuv,{maxWidth:"510px",width:"100%",children:(0,l.jsx)(s.Z,{onChange:function(e){d(e),p(e)},onClear:function(){d(void 0),n(void 0)},search:u||"",placeholder:a})})}},71576:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var r=n(51471),i=n(28841),o=n(27378),s=n(73679),l=n(55732),a=n(97865),c=n(34707),u=n.n(c),d=n(63238),p=n(95319),f=n(29073),h=n(6848),m=n(78624),x=n(24753),v=n(44047),g=n(288),b=n(90849),j=n(2458),y=new Map([["string","Single Select"],["string[]","Multi Select"],["open-text","Open Text"]]),w=new Map([[g.P6.SYSTEM,"system:information"],[g.P6.DATA_USE,"taxonomy:data use"],[g.P6.DATA_CATEGORY,"taxonomy:data category"],[g.P6.DATA_SUBJECT,"taxonomy:data subject"],[g.P6.PRIVACY_DECLARATION,"system:data use"]]),O=n(24246);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){var t,n=null!==(t=w.get(e.value))&&void 0!==t?t:e.value;return(0,O.jsx)(p.gk,C(C({},e),{},{value:n}))},P=function(e){var t=e.row.original.allow_list_id?e.value:"open-text";return(0,O.jsx)(p.N0,C(C({map:y},e),{},{value:t}))},S=function(e){var t=(0,v.yM)(),n=(0,a.Z)(t,1)[0],r=e.row,i=function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(C(C({},r.original),{},{active:t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,O.jsx)(p.S1,C(C({},e),{},{onToggle:i,title:"Disable custom field",message:"Are you sure you want to disable this custom field?"}))},E={_hover:{color:"complimentary.500"}},k=function(e){var t=e.row,n=e.column,r=(0,i.qY0)();return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(i.v2r,{size:"sm",children:[(0,O.jsx)(i.j2t,{as:i.zxk,variant:"outline","data-testid":"more-actions-btn",size:"xs",onClick:function(e){e.stopPropagation()},children:(0,O.jsx)(i.nXP,{})}),(0,O.jsxs)(i.qyq,{children:[(0,O.jsx)(d.ZP,{scopes:[g.Sh.CUSTOM_FIELD_DELETE],children:(0,O.jsx)(i.sNh,C(C({},E),{},{onClick:function(e){e.stopPropagation(),r.onOpen()},"data-testid":"delete-btn",children:"Delete"}))}),(0,O.jsx)(d.ZP,{scopes:[g.Sh.CUSTOM_FIELD_UPDATE],children:(0,O.jsx)(i.sNh,C(C({},E),{},{onClick:function(e){e.stopPropagation(),n.onEdit(t.original)},"data-testid":"edit-btn",children:"Edit"}))})]})]}),(0,O.jsx)(j.Z,{isOpen:r.isOpen,onClose:r.onClose,onConfirm:function(){n.onDelete(t.original),r.onClose()},title:"Delete custom field",message:(0,O.jsx)(i.xvT,{color:"gray.500",children:"Are you sure you want to delete this custom field? This will remove the custom field and all stored values and this action can't be undone."}),continueButtonText:"Confirm",isCentered:!0,icon:(0,O.jsx)(i.aNP,{})})]})},D=n(14275),Z=n(9408),L=n(34090),z=n(14633),A=n(83640),N=n(7280),I=n(86054),R=n(43139),U=n(96156);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=H(H({},A.s),{},{minWidth:"unset"}),M=function(e){var t=e.values,n=e.validationSchema,r=e.errors,s=e.dirty,a=e.isValid,c=e.isSubmitting,d=e.isLoading,p=e.onClose,f=e.handleDropdownChange,h=e.isEditing,m=(0,L.u6)().validateForm;return(0,o.useEffect)((function(){m()}),[n,m]),(0,O.jsxs)(L.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,O.jsx)(i.xuv,{py:3,children:(0,O.jsxs)(I.Z,{title:"Field Information",children:[(0,O.jsx)(A.Z,{displayHelpIcon:!0,isRequired:!0,label:"Name",name:"name",customLabelProps:B}),(0,O.jsx)(A.Z,{displayHelpIcon:!0,label:"Description",name:"description",customLabelProps:B}),(0,O.jsx)(R.AP,{label:"Location",name:"resource_type",options:D.C7,labelProps:B,isDisabled:h})]})}),(0,O.jsx)(i.xuv,{py:3,children:(0,O.jsxs)(I.Z,{title:"Configuration",children:[(0,O.jsx)(R.AP,{label:"Field Type",name:"field_type",options:D.Hn,onChange:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),t.field_type!==D.Uv.OPEN_TEXT?(0,O.jsx)(i.kCb,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:(0,O.jsx)(L.F2,{name:"allow_list.allowed_values",render:function(e){var n=t.allow_list.allowed_values;return(0,O.jsxs)(i.kCb,{flexDirection:"column",gap:"6",pl:"6",children:[(0,O.jsx)(i.kCb,{flexDirection:"column",children:n.map((function(t,r){return(0,O.jsxs)(i.kCb,{flexGrow:1,gap:"3",mt:r>0?3:void 0,children:[(0,O.jsx)(A.Z,{customLabelProps:{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",minW:"126px",pr:"8px"},displayHelpIcon:!1,isRequired:!0,label:"List item ".concat(r+1),name:"allow_list.allowed_values[".concat(r,"]")}),(0,O.jsx)(i.hU,{"aria-label":"Remove this list value","data-testid":"remove-list-value-btn-".concat(r),icon:(0,O.jsx)(U.l,{}),isDisabled:n.length<=1,onClick:function(){return e.remove(r)},size:"sm",variant:"ghost"})]},r)}))}),(0,O.jsxs)(i.kCb,{alignItems:"center",children:[(0,O.jsx)(i.xvT,{color:"gray.600",fontSize:"xs",fontWeight:"500",lineHeight:"16px",pr:"8px",children:"Add a list value"}),(0,O.jsx)(i.hU,{"aria-label":"Add a list value","data-testid":"add-list-value-btn",icon:(0,O.jsx)(N.d,{h:"7px",w:"7px"}),onClick:function(){e.push("")},size:"xs",variant:"outline"}),0===n.length&&null!==r&&void 0!==r&&r.allow_list?(0,O.jsx)(i.xvT,{color:"red.500",pl:"18px",size:"sm",children:r.allow_list.allowed_values}):null]})]})}})}):null]})}),(0,O.jsxs)(i.kCb,{justifyContent:"space-between",width:"100%",children:[(0,O.jsx)(i.zxk,{size:"sm",variant:"outline",mr:3,onClick:p,"data-testid":"cancel-btn",isDisabled:d||c,children:"Cancel"}),(0,O.jsx)(i.zxk,{size:"sm",type:"submit",colorScheme:"primary","data-testid":"save-btn",isLoading:d,isDisabled:!s||!a||c,children:"Save"})]})]})};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={description:"",field_type:D.Uv.OPEN_TEXT,name:"",resource_type:g.P6.SYSTEM,allow_list:{name:"",description:"",allowed_values:[]}},X=z.IX(z.Z_().optional().label("allowed_values")),Y=z.IX(z.Z_().required("List item is required")).min(1,"Must add at least one list value").label("allowed_values"),V=z.Ry().shape({name:z.Z_().required("Name is required").trim(),allow_list:z.Ry().shape({allowed_values:X})}),$=z.Ry().shape({name:z.Z_().required("Name is required").trim(),allow_list:z.Ry().shape({allowed_values:Y})}),J=function(e){var t=e.isOpen,n=e.onClose,r=e.isLoading,s=e.customField,c=(0,Z.VY)(),d=c.errorAlert,p=c.successAlert,f=(0,v.Ld)(),h=(0,a.Z)(f,1)[0],x=(0,v.yM)(),b=(0,a.Z)(x,1)[0],j=(0,v.Nt)(),y=(0,a.Z)(j,1)[0],w=(0,v.vA)(null===s||void 0===s?void 0:s.allow_list_id,{skip:!(null!==s&&void 0!==s&&s.allow_list_id)}),_=w.data,C=w.isLoading,T=(0,o.useState)(V),P=T[0],S=T[1];if(C||!t)return null;var E=function(e,t){var n,r,i;if(e){var o;e.field_type!==g.AL.STRING||e.allow_list_id||(o=D.Uv.OPEN_TEXT),e.field_type===g.AL.STRING&&e.allow_list_id&&(o=D.Uv.SINGLE_SELECT),e.field_type===g.AL.STRING_&&e.allow_list_id&&(o=D.Uv.MULTIPLE_SELECT);var s=t?{name:null!==(n=t.name)&&void 0!==n?n:"",description:null!==(r=t.description)&&void 0!==r?r:"",allowed_values:null!==(i=t.allowed_values)&&void 0!==i?i:[]}:W.allow_list;return q(q({},e),{},{field_type:o||D.Uv.OPEN_TEXT,allow_list:s})}}(s,_),k=!!E,z=E||W,A=function(e){e===D.Uv.OPEN_TEXT?S(V):S($)},N=function(){var e=(0,l.Z)(u().mark((function e(t){var r,i,o,l,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(![D.Uv.SINGLE_SELECT,D.Uv.MULTIPLE_SELECT].includes(t.field_type)){e.next=12;break}if(!(new Set(null===(r=t.allow_list)||void 0===r?void 0:r.allowed_values.map((function(e){return e.toLowerCase().trim()})).map((function(e){return e}))).size<t.allow_list.allowed_values.length)){e.next=5;break}return d("List item value must be unique"),e.abrupt("return");case 5:return i=t.allow_list,t.allow_list_id&&(i.id=t.allow_list_id),i.name||(i.name=Date.now().toString()+Math.random().toString()),e.next=10,y(i);case 10:"error"in(o=e.sent)||t.allow_list_id||(t.allow_list_id=null===(l=o.data)||void 0===l?void 0:l.id);case 12:if(t.field_type===D.Uv.OPEN_TEXT&&(t.allow_list_id=void 0),[D.Uv.SINGLE_SELECT,D.Uv.OPEN_TEXT].includes(t.field_type)&&(t.field_type=g.AL.STRING),t.field_type===D.Uv.MULTIPLE_SELECT&&(t.field_type=g.AL.STRING_),delete(a=q({},t)).allow_list,!s){e.next=23;break}return e.next=20,b(a);case 20:e.t0=e.sent,e.next=26;break;case 23:return e.next=25,h(a);case 25:e.t0=e.sent;case 26:"error"in(c=e.t0)?d((0,m.e$)(c.error),"Custom field has failed to save due to the following:"):(n(),p("Custom field successfully saved"));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,O.jsxs)(i.u_l,{id:"custom-field-modal-hello-world",isOpen:t,onClose:n,size:"lg",returnFocusOnClose:!1,isCentered:!0,children:[(0,O.jsx)(i.ZAr,{}),(0,O.jsxs)(i.hzk,{id:"modal-content",textAlign:"center","data-testid":"custom-field-modal",maxHeight:"80%",overflowY:"auto",children:[(0,O.jsx)(i.xBx,{id:"modal-header",fontWeight:"semibold",lineHeight:5,fontSize:"sm",textAlign:"left",py:"18px",px:6,height:"56px",backgroundColor:"gray.50",borderColor:"gray.200",borderWidth:"0px 0px 1px 1p",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxSizing:"border-box",children:s?"Manage Custom Field":"Add a custom field"}),(0,O.jsx)(i.fef,{px:6,py:0,children:(0,O.jsx)(L.J9,{initialValues:z,validationSchema:P,onSubmit:N,enableReinitialize:!0,validateOnChange:!0,children:function(e){return(0,O.jsx)(M,q({isEditing:k,validationSchema:P,isLoading:r,onClose:n,handleDropdownChange:A},e))}})})]})]})},K=function(){var e=(0,i.pmc)(),t=(0,v.GH)().isLoading,n=(0,h.C)(v.fN),r=(0,v.UF)(),c=(0,a.Z)(r,1)[0],b=(0,i.qY0)(),j=b.isOpen,y=b.onClose,w=b.onOpen,_=(0,o.useState)(void 0),C=_[0],E=_[1],D=(0,d.Tg)([g.Sh.CUSTOM_FIELD_UPDATE]),Z=(0,d.Tg)([g.Sh.CUSTOM_FIELD_DELETE]),L=function(e){D&&(E(e),w())},z=function(){var t=(0,l.Z)(u().mark((function t(n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Z||!n.id){t.next=8;break}return t.next=3,c({id:n.id});case 3:if(r=t.sent,!(0,m.D4)(r)){t.next=7;break}return e((0,x.Vo)((0,m.e$)(r.error))),t.abrupt("return");case 7:e((0,x.t5)("Custom field deleted"));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){E(void 0),y()},N=(0,o.useMemo)((function(){return[{Header:"Label",accessor:"name",Cell:p.YT},{Header:"Description",accessor:"description",Cell:p.gk},{Header:"Field Type",accessor:"field_type",Cell:P},{Header:"Locations",accessor:"resource_type",Cell:T},{Header:"Enable",accessor:function(e){return!e.active},disabled:!D,Cell:S}]}),[D]);if(t)return(0,O.jsx)(i.kCb,{height:"100%",justifyContent:"center",alignItems:"center",children:(0,O.jsx)(i.$jN,{})});var I=(0,O.jsx)(d.ZP,{scopes:[g.Sh.CUSTOM_FIELD_DEFINITION_CREATE],children:(0,O.jsx)(i.zxk,{size:n.length>0?"xs":"sm",colorScheme:n.length>0?"primary":void 0,variant:0===n.length?"outline":void 0,fontWeight:0===n.length?"semibold":void 0,minWidth:0===n.length?"auto":void 0,"data-testid":"add-custom-field-btn",onClick:w,children:"Add a custom field +"})});return 0===n.length?(0,O.jsxs)(i.xuv,{maxWidth:"720px",children:[(0,O.jsx)(i.xvT,{fontSize:"sm",lineHeight:5,fontWeight:"medium",marginBottom:6,children:"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."}),(0,O.jsx)(f.Z,{title:"It looks like it\u2019s your first time here!",button:I,description:(0,O.jsxs)(O.Fragment,{children:["You haven\u2019t created any custom fields yet. To create a custom field, click on the"," ",(0,O.jsx)("strong",{children:'"Add a custom field"'})," button"]})}),j?(0,O.jsx)(J,{customField:C,isOpen:j,onClose:A,isLoading:!1}):null]}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i.xuv,{maxWidth:"600px",children:(0,O.jsx)(i.xvT,{marginBottom:10,fontSize:"sm",children:n.length>0?"Custom fields enable you to capture metrics specific to your organization and have those metrics appear in the data map and in reports.":"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."})}),(0,O.jsxs)(i.xuv,{padding:2,"data-testid":"custom-fields-page",children:[(0,O.jsx)(p.iX,{columns:N,data:n,showSearchBar:!0,searchBarPlaceHolder:"Search for a custom field",onRowClick:D?L:void 0,customHooks:[function(e){(D||Z)&&e.visibleColumns.push((function(e){return[].concat((0,s.Z)(e),[{id:"more-actions",Header:function(){return null},Cell:k,width:"50px",onEdit:L,onDelete:z}])}))}],footer:(0,O.jsx)(p.vr,{totalColumns:N.length+1,children:I})}),j?(0,O.jsx)(J,{customField:C,isOpen:j,onClose:A,isLoading:!1}):null]})]})},Q=function(){return(0,O.jsx)(r.Z,{title:"Custom fields",children:(0,O.jsxs)(i.xuv,{"data-testid":"custom-fields-management",children:[(0,O.jsx)(i.X6q,{marginBottom:4,fontSize:"2xl",children:"Manage custom fields"}),(0,O.jsx)(K,{})]})})}},37143:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/management/custom-fields",function(){return n(71576)}])}},function(e){e.O(0,[2160,378,338,3702,3119,9774,2888,179],(function(){return t=37143,e(e.s=t);var t}));var t=e.O();_N_E=t}]);