<!DOCTYPE html>
<html data-bs-theme="light" lang="en-GB">
<head>
    <title>{{ config.module_code }}{% if page.title %} - {{ page.title }}{% endif %}</title>
    <!--- External CSS --->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" rel="stylesheet"
          type="text/css"/>
    <!--- Internal CSS --->
    <link href="{{ 'css/bootstrap.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/prism.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/admonition.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/button.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/code.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/diagrams.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/footer.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/header.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/headings.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/images.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/listings.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/main.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/sidebar.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/table.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/tabs.css' | url }}" rel="stylesheet" type="text/css"/>
    <link href="{{ 'css/custom/video.css' | url }}" rel="stylesheet" type="text/css"/>
    <!--- External JS --->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src=" https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js "></script>
    {%- for path in config.extra_css %}
    <link href="{{ path | url }}" rel="stylesheet">
    {%- endfor %}
</head>
<body class="bg-body-tertiary">
{% if "lectures" in page.url %}
{% set group = "Lectures - " %}
{% elif "lab_activities" in page.url %}
{% set group = "Lab Activities - " %}
{% endif %}
<header class="bg-header m-3 p-3 rounded-4">
    <div class="align-items-center d-flex flex-row">
        <a href="../../../" class="text-decoration-none">
            <span class="d-none d-sm-none d-md-inline-block d-lg-inline-block d-xl-inline-block logo me-3"></span>
        </a>
        <div class="d-flex flex-column flex-grow-1 lh-1">
            <div class="d-flex flex-row">
                <span class="fs-3 fw-bold text-white me-2 mb-1">{{ config.module_code }}</span>
                <span class="fs-3 fw-light text-white d-none d-sm-none d-md-none d-lg-inline-block d-xl-inline-block mb-0">{{ config.module_title }}</span>
            </div>
            <span class="fs-6 fst-italic fw-light text-white mt-0 p-0">{{ group }} {{ page.title }}</span>
        </div>
        <button id="themeDropdown" class="text-white btn btn-sm fs-5" type="button" data-bs-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
            <i id="themeIcon" class="bi bi-circle-half"></i>
        </button>
        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="themeDropdown">
            <a id="lightThemeOption" class="dropdown-item theme-dd-option py-2" onclick="setTheme('light')">
                <i class="bi bi-brightness-high-fill me-2"></i>Light
            </a>
            <a id="darkThemeOption" class="dropdown-item theme-dd-option py-2" onclick="setTheme('dark')">
                <i class="bi bi-moon-stars-fill me-2"></i>Dark
            </a>
        </div>
    </div>
</header>

<main class="container-fluid p-0 m-0">
    <section class="row mx-3">
        <article class="col-lg-2 ps-0 pe-0">
            <ul id="navigation-sidebar" class="d-flex flex-lg-column flex-row list-group list-unstyled mb-sm-3">
                {% for nav_item in nav %}

                {% if nav_item.title == "Lectures" %}
                {% set icon = "bi-journals" %}
                {% elif nav_item.title == "Lab Activities" %}
                {% set icon = "bi-pen" %}
                {% elif nav_item.title == "Your Assessment" %}
                {% set icon = "bi-journal-code" %}
                {% elif nav_item.title == "Getting Started" %}
                {% set icon = "bi-flag" %}
                {% elif nav_item.title == "Support" %}
                {% set icon = "bi-info-circle" %}
                {% elif nav_item.title == "Module Essentials" %}
                {% set icon = "bi-journal-bookmark" %}
                {% endif %}

                <li class="{% if loop.last %} pe-0 pe-sm-0 pe-md-0 pe-lg-2 pe-xl-2 {% else %} pe-2 {% endif %} mb-3 mb-sm-0 mb-md-0 mb-lg-2 mb-xl-2 w-100">
                    {% if nav_item.children %}
                    <button id="btn-{{ nav_item.title.replace(' ', '-')|lower  }}"
                            class="btn btn-bd-primary px-3 py-2 w-100 mb-0 d-flex flex-row"
                            data-bs-toggle="collapse" data-bs-target="#{{ nav_item.title.replace(' ', '-')|lower }}"
                            aria-expanded="false" aria-controls="{{ nav_item.title.replace(' ', '-')|lower }}">
                        <i class="bi {{ icon }} d-md-inline-block d-lg-none d-xl-inline-block me-2"></i>
                        <span class="d-none d-sm-none d-md-none d-lg-inline-flex d-xl-inline-flex">{{ nav_item.title }}</span>
                    </button>
                    <ul class="collapse list-unstyled px-3 pb-3 sidebar-navigation-children"
                        id="{{ nav_item.title.replace(' ', '-')|lower }}">
                        {% for nav_item in nav_item.children %}
                        <li class="py-1">
                            <a class="text-decoration-none" href="{{ nav_item.url | url }}">{{ nav_item.title }}</a>
                        </li>
                        {% endfor %}
                    </ul>
                    {% else %}
                    <button class="btn btn-bd-primary px-3 py-2 w-100" onclick="window.location='{{ nav_item.url | url }}'">
                        <i class="bi {{ icon }} d-md-inline-block d-lg-none d-xl-inline-block me-2"></i>
                        <span class="d-none d-sm-none d-md-none d-lg-inline-block d-xl-inline-block">{{ nav_item.title }}</span>
                    </button>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </article>
        <article class="col-lg-10 pe-0">
            {{ page.content }}
        </article>
    </section>
</main>

<footer class="bg-body-secondary p-3 rounded-4 small text-center text-muted">
    Errors or Questions? Contact Ian Cornelius, <a href="mailto:ab6459@coventry.ac.uk">ab6459@coventry.ac.uk</a>
</footer>

<script src=" {{ 'js/prism.js' | url }} "></script>
<script src=" {{ 'js/bootstrap.bundle.min.js' | url }} "></script>
<script src=" {{ 'js/custom/check_stata.js' | url }} "></script>
<script src=" {{ 'js/custom/collapse_state.js' | url }} "></script>
<script src=" {{ 'js/custom/darkmode.js' | url }} "></script>
{%- for script in config.extra_javascript %}
{{ script | script_tag }}
{%- endfor %}
</body>
<script>
    $('h2').each(function() {
        $(this).nextUntil('p').addBack().wrapAll('<div class="wrapper">');
    });

    $('div.wrapper').each(function() {
        $(this).nextUntil('div.wrapper').addBack().wrapAll('<div class="wrapper">');
    })

    $('blockquote').wrap(`<div id="blockquote-wrap">`);

    $('table').wrap(`<div id="table"><div class="table">`)

    $('.mermaid').wrap(`<div id="mermaid">`)

    var counter = 1;
    $('details.activity').each(function() {
        $(this).attr('id', `task-${counter}`);
        counter += 1;
    });

    $('details.activity > summary').each(function() {
        $(this).prepend(`
            <input type="checkbox" hidden />
            <span class="me-2 badge fs-6">Not Completed</span>
        `);
    })

    $('details.activity summary > p:first-of-type').each(function() {
        $(this).before(`
            <input class="mt-2 btn btn-sm btn-success" type="button" value="Mark as Completed"/>
        `);
    })

    var counter2 = 1;
    $('details.activity > summary span').each(function() {
        $(this).attr('id', `task-check-${counter2}`);
        counter2 += 1;
    });

    var counter3 = 1;
    $('details.activity > input[type="button"]').each(function() {
        $(this).attr('id', `task-check-${counter3}`);
        counter3 += 1;
    });

    var counter4 = 1;
    $('details.activity > summary input[type="checkbox"]').each(function() {
        $(this).attr('id', `task-check-${counter4}`);
        counter4 += 1;
    });

    $('p:empty').each(function() {
        $(this).remove();
    });

</script>
</html>