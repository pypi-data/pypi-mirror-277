"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[7003,1504,404],{57003:function(e,n,r){r.r(n),r.d(n,{InputThemedForm:function(){return Z},TemplateVariablesThemedForm:function(){return j},default:function(){return y}});var t=r(1413),i=r(29439),a=r(96720),o=r(8988),s=r(16290),u=r(66161),l=r(38121),c=r(13366),d=r(7276),f=r(9229),m=r(25926),h=r(43286),p=r(41504),x=r(45263),v=function(e){var n=function(e){var n=("string"===typeof e?e:JSON.stringify(e)).matchAll(/{{(.*?)}}/g);return Array.from(n,(function(e){return e[1]}))}(e),r={type:"object",properties:{}};return n.forEach((function(e){r.properties[e]={type:"string",title:e}})),r};function Z(e){var n=(0,f.FV)(m.$5),r=(0,i.Z)(n,2),t=r[0],a=r[1];return(0,x.jsx)(p.default,{schema:e.schema,uiSchema:e.uiSchema,formData:t,validator:c.ZP,onChange:function(e){var n=e.formData;a(n)},disableAdvanced:!0})}function j(e){var n=(0,f.FV)(m.pQ),r=(0,i.Z)(n,2),t=r[0],a=r[1],o=(0,f.sJ)(m.$5);return(0,x.jsx)(p.default,{schema:o&&""!==o?v(o):{},uiSchema:e.uiSchema,formData:t,validator:c.ZP,onChange:function(e){var n=e.formData;a(n)}})}function y(e){var n,r,c,f=d.useState("form"),m=(0,i.Z)(f,2),p=m[0],v=m[1],j=e.schema?JSON.parse(JSON.stringify(e.schema)):{},y=e.uiSchema?JSON.parse(JSON.stringify(e.uiSchema)):{},g=null!==e&&void 0!==e&&null!==(n=e.schema)&&void 0!==n&&n.title?null===e||void 0===e||null===(r=e.schema)||void 0===r?void 0:r.title:"Input Form";return null!==e&&void 0!==e&&null!==(c=e.schema)&&void 0!==c&&c.title&&(j.title="",j.description=""),(0,x.jsx)(u.Z,{sx:{width:"100%"},children:(0,x.jsxs)(a.ZP,{value:p,children:[(0,x.jsx)(u.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,x.jsx)(o.Z,{onChange:function(e,n){v(n)},"aria-label":"Config form tabs",children:(0,x.jsx)(l.Z,{label:g||"Input Form",value:"form"})})}),(0,x.jsx)(s.Z,{value:"form",sx:{padding:"4px"},children:0===Object.keys(e.schema).length?(0,x.jsx)(h.H,(0,t.Z)({},e)):(0,x.jsx)(Z,{schema:j,uiSchema:y,submitBtn:e.submitBtn})})]})})}},41504:function(e,n,r){r.r(n);var t=r(45987),i=r(29439),a=r(1413),o=r(16390),s=r(60103),u=r(54730),l=r(32399),c=r(68134),d=r(92628),f=r(97519),m=r(73462),h=r(49305),p=r(25861),x=r(52720),v=r(66161),Z=r(85535),j=r(76399),y=r(22644),g=r(62652),b=r(7276),S=r(45263),C=["schema","uiSchema","formData","onChange","submitBtn","theme","validator","templates","widgets","disableAdvanced"],P=(0,b.lazy)((function(){return Promise.all([r.e(9907),r.e(2580),r.e(6783)]).then(r.bind(r,62580))})),z=(0,b.lazy)((function(){return r.e(1393).then(r.bind(r,63890))})),w=(0,b.lazy)((function(){return r.e(935).then(r.bind(r,80935))})),D=(0,b.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(5539),r.e(111),r.e(4880),r.e(686),r.e(6374)]).then(r.bind(r,16374))})),T=(0,b.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(111),r.e(3667),r.e(6279),r.e(7458)]).then(r.bind(r,96279))})),I=(0,b.lazy)((function(){return Promise.all([r.e(7420),r.e(2341)]).then(r.bind(r,16214))})),N=(0,b.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(5539),r.e(111),r.e(4880),r.e(686),r.e(5831)]).then(r.bind(r,75831))})),k=(0,b.lazy)((function(){return r.e(8781).then(r.bind(r,68781))})),F=(0,b.lazy)((function(){return r.e(6317).then(r.bind(r,6317))})),R=(0,b.lazy)((function(){return r.e(4843).then(r.bind(r,64843))})),_=(0,b.lazy)((function(){return Promise.all([r.e(2789),r.e(111),r.e(2384)]).then(r.bind(r,12384))})),A=(0,b.lazy)((function(){return r.e(7437).then(r.bind(r,97437))})),E=(0,b.lazy)((function(){return Promise.all([r.e(7902),r.e(7533)]).then(r.bind(r,57533))})),O=(0,b.lazy)((function(){return r.e(4881).then(r.bind(r,34881))}));function B(e){return(0,S.jsx)(N,(0,a.Z)({},e))}function J(e){return(0,S.jsx)(F,(0,a.Z)({},e))}function L(e){return(0,S.jsx)(O,(0,a.Z)({},e))}function W(e){var n=e.id,r=e.children,t=e.classNames,a=e.style,o=e.disabled,l=e.displayLabel,c=e.hidden,d=e.label,f=e.onDropPropertyClick,m=e.onKeyChange,h=e.readonly,p=e.required,x=e.rawErrors,v=void 0===x?[]:x,Z=e.errors,j=e.help,y=e.rawDescription,C=e.schema,P=e.uiSchema,z=e.registry,w=(0,b.useState)(!1),D=(0,i.Z)(w,2),T=D[0],I=D[1],N=(0,g.LI)(P),k=(0,g.t4)("WrapIfAdditionalTemplate",z,N);return c?(0,S.jsx)("div",{style:{display:"none"},children:r}):(0,S.jsx)(k,{classNames:t,style:a,disabled:o,id:n,label:d,onDropPropertyClick:f,onKeyChange:m,readonly:h,required:p,schema:C,uiSchema:P,registry:z,children:(0,S.jsxs)(s.Z,{fullWidth:!0,error:!!v.length,required:p,onFocus:function(e){I(!0)},onBlur:function(e){I(!1)},children:[r,l&&y?(0,S.jsx)(u.Z,{id:n,focused:T,children:y}):null,Z,j]})})}function q(e){var n=e.options,r=e.registry,t=(0,g.t4)("BaseInputTemplate",r,n),i=5;return"string"!==typeof n.rows&&"number"!==typeof n.rows||(i=n.rows),(0,S.jsx)(t,(0,a.Z)((0,a.Z)({sx:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid rgb(204, 204, 204)"}}}},e),{},{multiline:!0,rows:i,variant:"outlined"}))}function M(e){return(0,S.jsx)(_,(0,a.Z)({},e))}function V(e){return(0,S.jsx)(I,(0,a.Z)({},e))}function H(e){var n=e.chat_message;if(n.content)return(0,S.jsx)(l.Z,{primary:n.content});if(n.function_call){var r=n.function_call.name,t=JSON.parse(n.function_call.arguments),i=Object.keys(t).map((function(e){return"".concat(e,'="').concat(t[e],'"')})).join(",");return(0,S.jsx)("div",{children:(0,S.jsx)(l.Z,{primary:"Function",secondary:"".concat(r,"(").concat(i,")")})})}return null}var K=function(e){var n=e.value||[],r=0;return"string"===typeof n&&(n=[{content:n}]),(0,S.jsx)(c.Z,{className:"output-chat",style:{paddingTop:0},children:n.map((function(e){return(0,S.jsxs)(d.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:[(0,S.jsx)(f.Z,{children:(0,S.jsx)(m.Z,{color:"primary",label:e.role||"System"})}),(0,S.jsx)(H,{chat_message:e})]},r++)}))})},$=function(e){var n=e.value||[],r=0;return(0,S.jsx)(c.Z,{className:"output-text",style:{paddingTop:0},children:n.map((function(e){return(0,S.jsx)(d.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:(0,S.jsx)(l.Z,{primary:e})},r++)}))})},Q=function(e){var n=0;return(0,S.jsx)(h.Z,{className:"output-image",cols:2,gap:8,children:e.value.map((function(e){return(0,S.jsx)(p.Z,{children:(0,S.jsx)("img",{src:"".concat(e),loading:"lazy",alt:""})},n++)}))})},G=function(e){return(0,S.jsx)("audio",{src:e.value,controls:!0})},U=function(e){return(0,S.jsx)(w,(0,a.Z)((0,a.Z)({},e),{},{disableAdvanced:!1}))},X=function(e){return(0,S.jsx)(w,(0,a.Z)((0,a.Z)({},e),{},{disableAdvanced:!0}))},Y=function(e){return(0,S.jsx)(k,(0,a.Z)({},e))},ee=function(e){return(0,S.jsx)(D,(0,a.Z)({},e))},ne=function(e){return(0,S.jsx)(P,(0,a.Z)((0,a.Z)({},e),{},{richText:!0}))},re=function(e){return(0,S.jsx)(T,(0,a.Z)({},e))},te=function(e){return(0,S.jsx)(z,(0,a.Z)({},e))},ie=function(e){var n=e.errors;return(0,S.jsx)(x.Z,{elevation:2,children:(0,S.jsxs)(v.Z,{mb:2,p:2,children:[(0,S.jsx)(Z.Z,{variant:"h6",children:"Errors"}),(0,S.jsx)(c.Z,{dense:!0,children:n.map((function(e,n){return(0,S.jsxs)(d.ZP,{dense:!0,children:[(0,S.jsx)(j.Z,{children:(0,S.jsx)(o.Z,{color:"error"})}),(0,S.jsx)(l.Z,{primary:e.message})]},n)}))})]})})};n.default=function(e){var n=e.schema,r=e.uiSchema,i=e.formData,o=e.onChange,s=e.submitBtn,u=void 0===s?(0,S.jsx)("div",{}):s,l=(e.theme,e.validator),c=e.templates,d=void 0===c?{}:c,f=e.widgets,m=void 0===f?{}:f,h=e.disableAdvanced,p=void 0!==h&&h,x=(0,t.Z)(e,C),v=x.createAsset;(0,b.useEffect)((function(){var e,n,r;null!==(e=x.formRef)&&void 0!==e&&null!==(n=e.current)&&void 0!==n&&null!==(r=n.formElement)&&void 0!==r&&r.current&&x.formRef.current.formElement.current.addEventListener("submit",(function(e){e.preventDefault()}))}),[x.formRef]);var Z=(0,b.useCallback)((function(e){var n;return null!==e&&void 0!==e&&null!==(n=e.schema)&&void 0!==n&&n.stream?(0,S.jsx)(E,(0,a.Z)((0,a.Z)({},e),{},{createAsset:v,formRef:x.formRef})):(0,S.jsx)(R,(0,a.Z)({},e))}),[v,x.formRef]);return(0,S.jsx)(y.ZP,(0,a.Z)((0,a.Z)({ref:x.formRef},x),{},{schema:n,uiSchema:r,validator:l,formData:i,onChange:o,templates:(0,a.Z)({ErrorListTemplate:ie,FieldTemplate:W,ObjectFieldTemplate:p?X:U},d),fields:{multi:function(e){return(0,S.jsx)(A,(0,a.Z)((0,a.Z)({},e),{},{formRef:x.formRef,onCancel:x.onCancel}))}},widgets:(0,a.Z)((0,a.Z)({},{customselect:M,TextareaWidget:q,FileWidget:V,output_chat:K,output_text:$,output_image:Q,output_audio:G,datasource:re,gdrive:B,webpageurls:J,password:Y,connection:ee,richtext:ne,voice:Z,app_version:te,promptlyapp_select:L}),m),transformErrors:null===x||void 0===x?void 0:x.transformErrors,children:u}))}},43286:function(e,n,r){r.d(n,{H:function(){return u}});var t=r(45987),i=r(66161),a=r(10567),o=r(45263),s=["emptyImage","emptyMessage"];function u(e){var n=e.emptyImage,r=e.emptyMessage;(0,t.Z)(e,s);return(0,o.jsxs)(i.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#838383",children:[n||null,(0,o.jsx)(a.Z,{severity:"info",style:{marginTop:"10px"},children:r||"No data available"})]})}}}]);