"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[4474,1504,404],{41504:function(e,t,n){n.r(t);var i=n(45987),r=n(29439),a=n(1413),o=n(16390),s=n(60103),l=n(54730),c=n(32399),u=n(68134),d=n(92628),p=n(97519),f=n(73462),y=n(49305),m=n(25861),g=n(52720),h=n(66161),x=n(85535),v=n(76399),_=n(22644),b=n(62652),A=n(7276),Z=n(45263),j=["schema","uiSchema","formData","onChange","submitBtn","theme","validator","templates","widgets","disableAdvanced"],P=(0,A.lazy)((function(){return Promise.all([n.e(9907),n.e(2580),n.e(6783)]).then(n.bind(n,62580))})),I=(0,A.lazy)((function(){return n.e(1393).then(n.bind(n,63890))})),k=(0,A.lazy)((function(){return n.e(935).then(n.bind(n,80935))})),w=(0,A.lazy)((function(){return Promise.all([n.e(6419),n.e(2789),n.e(3960),n.e(9921),n.e(5539),n.e(111),n.e(4880),n.e(686),n.e(6374)]).then(n.bind(n,16374))})),z=(0,A.lazy)((function(){return Promise.all([n.e(6419),n.e(2789),n.e(3960),n.e(9921),n.e(111),n.e(3667),n.e(6279),n.e(7458)]).then(n.bind(n,96279))})),S=(0,A.lazy)((function(){return Promise.all([n.e(7420),n.e(2341)]).then(n.bind(n,16214))})),R=(0,A.lazy)((function(){return Promise.all([n.e(6419),n.e(2789),n.e(3960),n.e(9921),n.e(5539),n.e(111),n.e(4880),n.e(686),n.e(5831)]).then(n.bind(n,75831))})),O=(0,A.lazy)((function(){return n.e(8781).then(n.bind(n,68781))})),C=(0,A.lazy)((function(){return n.e(6317).then(n.bind(n,6317))})),L=(0,A.lazy)((function(){return n.e(4843).then(n.bind(n,64843))})),D=(0,A.lazy)((function(){return Promise.all([n.e(2789),n.e(111),n.e(2384)]).then(n.bind(n,12384))})),W=(0,A.lazy)((function(){return n.e(7437).then(n.bind(n,97437))})),E=(0,A.lazy)((function(){return Promise.all([n.e(7902),n.e(7533)]).then(n.bind(n,57533))})),K=(0,A.lazy)((function(){return n.e(4881).then(n.bind(n,34881))}));function U(e){return(0,Z.jsx)(R,(0,a.Z)({},e))}function V(e){return(0,Z.jsx)(C,(0,a.Z)({},e))}function F(e){return(0,Z.jsx)(K,(0,a.Z)({},e))}function N(e){var t=e.id,n=e.children,i=e.classNames,a=e.style,o=e.disabled,c=e.displayLabel,u=e.hidden,d=e.label,p=e.onDropPropertyClick,f=e.onKeyChange,y=e.readonly,m=e.required,g=e.rawErrors,h=void 0===g?[]:g,x=e.errors,v=e.help,_=e.rawDescription,j=e.schema,P=e.uiSchema,I=e.registry,k=(0,A.useState)(!1),w=(0,r.Z)(k,2),z=w[0],S=w[1],R=(0,b.LI)(P),O=(0,b.t4)("WrapIfAdditionalTemplate",I,R);return u?(0,Z.jsx)("div",{style:{display:"none"},children:n}):(0,Z.jsx)(O,{classNames:i,style:a,disabled:o,id:t,label:d,onDropPropertyClick:p,onKeyChange:f,readonly:y,required:m,schema:j,uiSchema:P,registry:I,children:(0,Z.jsxs)(s.Z,{fullWidth:!0,error:!!h.length,required:m,onFocus:function(e){S(!0)},onBlur:function(e){S(!1)},children:[n,c&&_?(0,Z.jsx)(l.Z,{id:t,focused:z,children:_}):null,x,v]})})}function T(e){var t=e.options,n=e.registry,i=(0,b.t4)("BaseInputTemplate",n,t),r=5;return"string"!==typeof t.rows&&"number"!==typeof t.rows||(r=t.rows),(0,Z.jsx)(i,(0,a.Z)((0,a.Z)({sx:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid rgb(204, 204, 204)"}}}},e),{},{multiline:!0,rows:r,variant:"outlined"}))}function B(e){return(0,Z.jsx)(D,(0,a.Z)({},e))}function q(e){return(0,Z.jsx)(S,(0,a.Z)({},e))}function M(e){var t=e.chat_message;if(t.content)return(0,Z.jsx)(c.Z,{primary:t.content});if(t.function_call){var n=t.function_call.name,i=JSON.parse(t.function_call.arguments),r=Object.keys(i).map((function(e){return"".concat(e,'="').concat(i[e],'"')})).join(",");return(0,Z.jsx)("div",{children:(0,Z.jsx)(c.Z,{primary:"Function",secondary:"".concat(n,"(").concat(r,")")})})}return null}var J=function(e){var t=e.value||[],n=0;return"string"===typeof t&&(t=[{content:t}]),(0,Z.jsx)(u.Z,{className:"output-chat",style:{paddingTop:0},children:t.map((function(e){return(0,Z.jsxs)(d.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:[(0,Z.jsx)(p.Z,{children:(0,Z.jsx)(f.Z,{color:"primary",label:e.role||"System"})}),(0,Z.jsx)(M,{chat_message:e})]},n++)}))})},G=function(e){var t=e.value||[],n=0;return(0,Z.jsx)(u.Z,{className:"output-text",style:{paddingTop:0},children:t.map((function(e){return(0,Z.jsx)(d.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:(0,Z.jsx)(c.Z,{primary:e})},n++)}))})},H=function(e){var t=0;return(0,Z.jsx)(y.Z,{className:"output-image",cols:2,gap:8,children:e.value.map((function(e){return(0,Z.jsx)(m.Z,{children:(0,Z.jsx)("img",{src:"".concat(e),loading:"lazy",alt:""})},t++)}))})},Q=function(e){return(0,Z.jsx)("audio",{src:e.value,controls:!0})},X=function(e){return(0,Z.jsx)(k,(0,a.Z)((0,a.Z)({},e),{},{disableAdvanced:!1}))},Y=function(e){return(0,Z.jsx)(k,(0,a.Z)((0,a.Z)({},e),{},{disableAdvanced:!0}))},$=function(e){return(0,Z.jsx)(O,(0,a.Z)({},e))},ee=function(e){return(0,Z.jsx)(w,(0,a.Z)({},e))},te=function(e){return(0,Z.jsx)(P,(0,a.Z)((0,a.Z)({},e),{},{richText:!0}))},ne=function(e){return(0,Z.jsx)(z,(0,a.Z)({},e))},ie=function(e){return(0,Z.jsx)(I,(0,a.Z)({},e))},re=function(e){var t=e.errors;return(0,Z.jsx)(g.Z,{elevation:2,children:(0,Z.jsxs)(h.Z,{mb:2,p:2,children:[(0,Z.jsx)(x.Z,{variant:"h6",children:"Errors"}),(0,Z.jsx)(u.Z,{dense:!0,children:t.map((function(e,t){return(0,Z.jsxs)(d.ZP,{dense:!0,children:[(0,Z.jsx)(v.Z,{children:(0,Z.jsx)(o.Z,{color:"error"})}),(0,Z.jsx)(c.Z,{primary:e.message})]},t)}))})]})})};t.default=function(e){var t=e.schema,n=e.uiSchema,r=e.formData,o=e.onChange,s=e.submitBtn,l=void 0===s?(0,Z.jsx)("div",{}):s,c=(e.theme,e.validator),u=e.templates,d=void 0===u?{}:u,p=e.widgets,f=void 0===p?{}:p,y=e.disableAdvanced,m=void 0!==y&&y,g=(0,i.Z)(e,j),h=g.createAsset;(0,A.useEffect)((function(){var e,t,n;null!==(e=g.formRef)&&void 0!==e&&null!==(t=e.current)&&void 0!==t&&null!==(n=t.formElement)&&void 0!==n&&n.current&&g.formRef.current.formElement.current.addEventListener("submit",(function(e){e.preventDefault()}))}),[g.formRef]);var x=(0,A.useCallback)((function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.schema)&&void 0!==t&&t.stream?(0,Z.jsx)(E,(0,a.Z)((0,a.Z)({},e),{},{createAsset:h,formRef:g.formRef})):(0,Z.jsx)(L,(0,a.Z)({},e))}),[h,g.formRef]);return(0,Z.jsx)(_.ZP,(0,a.Z)((0,a.Z)({ref:g.formRef},g),{},{schema:t,uiSchema:n,validator:c,formData:r,onChange:o,templates:(0,a.Z)({ErrorListTemplate:re,FieldTemplate:N,ObjectFieldTemplate:m?Y:X},d),fields:{multi:function(e){return(0,Z.jsx)(W,(0,a.Z)((0,a.Z)({},e),{},{formRef:g.formRef,onCancel:g.onCancel}))}},widgets:(0,a.Z)((0,a.Z)({},{customselect:B,TextareaWidget:T,FileWidget:q,output_chat:J,output_text:G,output_image:H,output_audio:Q,datasource:ne,gdrive:U,webpageurls:V,password:$,connection:ee,richtext:te,voice:x,app_version:ie,promptlyapp_select:F}),f),transformErrors:null===g||void 0===g?void 0:g.transformErrors,children:l}))}},24474:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var i=n(29439),r=n(85535),a=n(65173),o=n(31342),s=n(58735),l=n(20888),c=n(34867),u=n(9340),d=n(62154),p=n(71516),f=n(43890),y=n(13366),m=n(83960),g=n(7276),h=n(41504),x=n(84817),v=n(45263),_={textAlign:"left",width:"100%",fontFamily:"Lato, sans-serif",marginBottom:"10px",padding:"5px 10px",fontWeight:600,borderRadius:"5px",color:"#1c3c5a",fontSize:"18px",borderBottom:"solid 3px #1c3c5a",borderLeft:"solid 1px #ccc",borderRight:"solid 1px #ccc"},b={textAlign:"left",width:"100%",fontFamily:"Lato, sans-serif",marginBottom:"10px",padding:"5px 10px",fontWeight:600,borderRadius:"5px",color:"#1c3c5a",fontSize:"16px"},A={type:"object",properties:{name:{type:"string",description:"Name of the organization",readonly:!0,title:"Name"},slug:{type:"string",description:"Unique identifier for the organization",readonly:!0,title:"Slug"},domains:{type:"array",items:{type:"string"},description:"List of domains associated with the organization",readonly:!0,title:"Domains"},logo:{type:["string","null"],format:"data-url",description:"Logo URL for the organization",title:"Logo"},disabled_api_backends:{type:"array",items:{type:"string"},description:"List of disabled API backends",title:"Disabled API Backends"},default_app_visibility:{type:"integer",description:"Default visibility level for apps in the organization",title:"Default App Visibility",enum:[3,2,1,0],enumNames:["Public","Unlisted","Organization","Private"],enumDescriptions:["Anyone can access this app","Anyone with the app's published url can access this app","Only members of your organization can access this app","Only you and the selected users can access this app"]},max_app_visibility:{type:"integer",description:"Maximum visibility level for apps in the organization",title:"Max App Visibility",enum:[3,2,1,0],enumNames:["Public","Unlisted","Organization","Private"],enumDescriptions:["Anyone can access this app","Anyone with the app's published url can access this app","Only members of your organization can access this app","Only you and the selected users can access this app"]},allow_user_keys:{type:"boolean",description:"Allow users to provide their own API keys",title:"Allow User Keys"},use_own_vectorstore:{type:"boolean",description:"Use own Vectorstore instance instead of Promptly's",title:"Use Own Vectorstore"},use_azure_openai_embeddings:{type:"boolean",description:"Use Azure's OpenAI for embeddings",title:"Azure OpenAI for Embeddings"},embeddings_api_rate_limit:{type:"integer",description:"Rate limit for embeddings requests as requests/min",title:"Embeddings API Rate Limit"},openai_key:{type:["string","null"],description:"OpenAI API key",title:"OpenAI API Key"},stabilityai_key:{type:["string","null"],description:"StabilityAI API key",title:"StabilityAI API Key"},cohere_key:{type:["string","null"],description:"Cohere API key",title:"Cohere API Key"},forefrontai_key:{type:["string","null"],description:"ForefrontAI API key",title:"ForefrontAI API Key"},elevenlabs_key:{type:["string","null"],description:"Elevenlabs API key",title:"Elevenlabs API Key"},azure_openai_endpoint:{type:["string","null"],description:"Azure OpenAI API endpoint",title:"Azure OpenAI Endpoint"},azure_openai_api_key:{type:["string","null"],description:"Azure OpenAI API key",title:"Azure OpenAI API Key"},aws_access_key_id:{type:["string","null"],description:"AWS access key ID",title:"AWS Access Key ID"},aws_secret_access_key:{type:["string","null"],description:"AWS secret access key",title:"AWS Secret Access Key"},aws_default_region:{type:["string","null"],description:"AWS default region",title:"AWS Default Region"},localai_api_key:{type:["string","null"],description:"LocalAI API key",title:"LocalAI API Key"},localai_base_url:{type:["string","null"],description:"LocalAI base URL",title:"LocalAI Base URL"},anthropic_api_key:{type:["string","null"],description:"Anthropic API key",title:"Anthropic API Key"},vectorstore_weaviate_url:{type:["string","null"],description:"Vectorstore Weaviate URL",title:"Vectorstore Weaviate URL"},vectorstore_weaviate_api_key:{type:["string","null"],description:"Vectorstore Weaviate API key",title:"Vectorstore Weaviate API Key"},vectorstore_weaviate_text2vec_openai_module_config:{type:"string",description:"Configuration for Vectorstore Weaviate text2vec OpenAI module",title:"Vectorstore Weaviate Text2Vec OpenAI Module Config"}},required:["name","slug","domains"]},Z={name:{"ui:readonly":!0},slug:{"ui:readonly":!0},domains:{"ui:readonly":!0},logo:{"ui:options":{accept:"image/*"}},disabled_api_backends:{"ui:readonly":!0},vectorstore_weaviate_text2vec_openai_module_config:{"ui:widget":"textarea"},api_keys:{"ui:title":"API Keys","ui:order":["openai_key","stabilityai_key","cohere_key","forefrontai_key","elevenlabs_key"]},azure_open_ai:{"ui:title":"Azure OpenAI","ui:order":["azure_openai_endpoint","azure_openai_api_key"]},aws_settings:{"ui:title":"AWS Settings","ui:order":["aws_access_key_id","aws_secret_access_key","aws_default_region"]},vectorstore_configuration:{"ui:title":"Vectorstore Configuration","ui:order":["vectorstore_weaviate_url","vectorstore_weaviate_api_key","vectorstore_weaviate_text2vec_openai_module_config"]}};function j(){var e,t=(0,g.useState)({}),n=(0,i.Z)(t,2),j=n[0],P=n[1],I=(0,g.useState)([]),k=(0,i.Z)(I,2),w=k[0],z=k[1],S=(0,g.useState)(10),R=(0,i.Z)(S,2),O=R[0],C=R[1],L=(0,g.useState)(0),D=(0,i.Z)(L,2),W=D[0],E=D[1];return(0,g.useEffect)((function(){(0,x.o)().get("/api/org/settings").then((function(e){P(e.data)})),(0,x.o)().get("/api/org/members").then((function(e){z(e.data)}))}),[]),(0,v.jsxs)("div",{id:"organization-page",style:{margin:10},children:[(0,v.jsx)(r.Z,{style:_,variant:"h5",children:"Organization"}),(0,v.jsxs)(a.ZP,{container:!0,direction:"row",columnSpacing:2,children:[(0,v.jsxs)(a.ZP,{item:!0,md:6,xs:12,children:[(0,v.jsx)(r.Z,{style:b,variant:"h6",children:"Settings"}),(0,v.jsx)(h.default,{disableAdvanced:!0,schema:A,validator:y.ZP,uiSchema:Z,formData:j,onChange:function(e){var t=e.formData;P(t)},widgets:{FileWidget:function(e){var t=e.value,n=e.onChange;return(0,v.jsxs)("div",{children:[(0,v.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],i=new FileReader;i.onload=function(e){n(e.target.result)},i.readAsDataURL(t)}}),t&&(0,v.jsx)("img",{src:t,alt:"logo",style:{width:"100%",maxWidth:"200px"}})]})}}}),(0,v.jsx)(o.Z,{variant:"contained",color:"primary",sx:{textTransform:"none"},onClick:function(){(0,x.o)().patch("/api/org/settings",j).then((function(e){P(e.data),(0,m.yv)("Settings saved",{variant:"success"})}))},children:"Save Settings"})]}),(0,v.jsxs)(a.ZP,{item:!0,md:6,xs:12,children:[(0,v.jsx)(r.Z,{style:b,variant:"h6",children:"Members"}),(0,v.jsx)(s.Z,{children:(0,v.jsxs)(l.Z,{children:[(0,v.jsx)(c.Z,{children:(0,v.jsxs)(u.Z,{children:[(0,v.jsx)(d.Z,{children:"Name"}),(0,v.jsx)(d.Z,{children:"Email"})]})}),(0,v.jsx)(p.Z,{children:null===w||void 0===w||null===(e=w.slice(W*O,W*O+O))||void 0===e?void 0:e.map((function(e){return(0,v.jsxs)(u.Z,{children:[(0,v.jsxs)(d.Z,{children:[e.first_name," ",e.last_name]}),(0,v.jsx)(d.Z,{children:e.email})]},e.email)}))})]})}),(0,v.jsx)(f.Z,{rowsPerPageOptions:[10,25,50],component:"div",count:w.length,rowsPerPage:O,page:W,onPageChange:function(e,t){E(t)},onRowsPerPageChange:function(e){C(parseInt(e.target.value,10)),E(0)}})]})]})]})}}}]);