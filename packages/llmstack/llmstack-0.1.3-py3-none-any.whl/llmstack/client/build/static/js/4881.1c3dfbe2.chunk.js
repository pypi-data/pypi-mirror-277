"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[4881,7458],{34881:function(e,t,i){i.r(t),i.d(t,{default:function(){return m}});var n=i(29439),r=i(9229),o=i(25926),a=i(7458),u=i(26235),p=i(49321),l=i(7276),s=i(13366),c=i(30494),d=i(41504),f=i(45263);function m(e){var t=e.value,i=e.onChange,m=(0,r.sJ)(o.C_).filter((function(e){return e.is_published})),v=(0,l.useState)(null),h=(0,n.Z)(v,2),y=h[0],_=h[1],g=(0,l.useState)({}),b=(0,n.Z)(g,2),Z=b[0],S=b[1],x=(0,l.useState)({}),k=(0,n.Z)(x,2),w=k[0],M=k[1],j=(0,l.useState)({}),B=(0,n.Z)(j,2),C=B[0],N=B[1];return(0,l.useEffect)((function(){try{N(JSON.parse(t))}catch(e){console.error(e)}}),[t]),(0,l.useEffect)((function(){if(C){var e=m.find((function(e){return e.published_uuid===(null===C||void 0===C?void 0:C.promptly_app_published_uuid)}));_(e)}}),[C,m,_]),(0,l.useEffect)((function(){if(y&&y.data.input_fields){var e=(0,c._C)(y.data.input_fields),t=e.schema,i=e.uiSchema;S(t),M(i)}}),[y]),(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(u.Z,{labelId:"app-select-label",id:"app-select",value:(null===C||void 0===C?void 0:C.promptly_app_published_uuid)||"",label:"Select an application",onChange:function(t){var i=m.find((function(e){return e.published_uuid===t.target.value}));e.onChange(JSON.stringify({promptly_app_published_uuid:t.target.value,promptly_app_input_fields:(null===i||void 0===i?void 0:i.data.input_fields)||[],promptly_app_version:(null===i||void 0===i?void 0:i.version)||0,promptly_app_uuid:(null===i||void 0===i?void 0:i.uuid)||""}))},variant:"filled",sx:{lineHeight:"0.5em"},children:m.map((function(e){return(0,f.jsx)(p.Z,{value:e.published_uuid,children:e.name},e.published_uuid)}))}),(0,f.jsx)(d.default,{schema:Z,uiSchema:w,formData:(null===C||void 0===C?void 0:C.input)||{},onChange:function(e){var t=e.formData;i(JSON.stringify({promptly_app_published_uuid:C.promptly_app_published_uuid,promptly_app_input_fields:C.promptly_app_input_fields,promptly_app_version:C.promptly_app_version,promptly_app_uuid:C.promptly_app_uuid,input:t}))},validator:s.ZP,disableAdvanced:!0})]})}},30494:function(e,t,i){i.d(t,{PM:function(){return u},_C:function(){return p},zN:function(){return o}});var n=i(29439),r=i(1413);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";var i=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1e3));return"".concat(parseFloat((e/Math.pow(1e3,n)).toFixed(i))," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n])}function a(e,t){return e+t}function u(e,t){if(!e)return t;if(!t)return e;for(var i=(0,r.Z)({},e),o=0,p=Object.entries(t);o<p.length;o++){var l=(0,n.Z)(p[o],2),s=l[0],c=l[1];if(i[s])if(Array.isArray(c))if(Array.isArray(i[s]))for(var d=0;d<c.length;d++)if(d<i[s].length){if("string"===typeof c[d]){i[s][d]=a(i[s][d],c[d]);continue}if("number"===typeof c[d]){i[s][d]=c[d];continue}i[s][d]=u(i[s][d],c[d])}else i[s].push(c[d]);else i[s]=i[s]+c;else i[s]="object"===typeof c?u(i[s],c):"string"===typeof c?a(i[s],c):"number"===typeof c?c:i[s]+c;else i[s]=c}return i}function p(e){var t={type:"object",properties:{}},i={},n=[],r=[];return e&&e.forEach((function(e){var o,a;(n.push(e.name),e.required&&r.push(e.name),t.properties[e.name]={type:"text"===e.type||"voice"===e.type||"file"===e.type||"datasource"===e.type||"connection"===e.type||"select"===e.type?"string":e.type,title:e.title,description:e.description},e.default&&(t.properties[e.name].default=e.default),"text"===e.type&&(i[e.name]={"ui:widget":"textarea"}),"boolean"===e.type&&(i[e.name]={"ui:widget":"radio"}),"file"===e.type&&(i[e.name]={"ui:widget":"file"},t.properties[e.name].format="data-url",t.properties[e.name].pattern="data:(.*);name=(.*);base64,(.*)",t.properties[e.name].accepts=e.accept||"*",t.properties[e.name].maxSize=e.maxSize||2e6),"voice"===e.type&&(i[e.name]={"ui:widget":"voice"},e.stream||(t.properties[e.name].format="data-url",t.properties[e.name].pattern="data:(.*);name=(.*);base64,(.*)"),t.properties[e.name].stream=e.stream||!1),"select"===e.type)&&(i[e.name]={"ui:widget":"select"},t.properties[e.name].enum=null===(o=e.options)||void 0===o?void 0:o.map((function(e){return e.value})),t.properties[e.name].enumNames=null===(a=e.options)||void 0===a?void 0:a.map((function(e){return e.label})),e["ui:options"]&&i[e.name]&&(i[e.name]["ui:options"]=e["ui:options"]));"multi"===e.type&&(i[e.name]={"ui:field":"multi"},t.properties[e.name].type="object",t.properties[e.name].placeholder=e.placeholder||e.description||"",t.properties[e.name].allowFiles=e.allowFiles||!1,t.properties[e.name].filesMultiple=e.filesMultiple||!1,t.properties[e.name].filesAccept=e.filesAccept||"audio/*, video/*, image/*, text/csv, application/pdf",t.properties[e.name].filesMaxSize=e.filesMaxSize||2e6),"datasource"===e.type&&(i[e.name]={"ui:widget":"datasource"}),"connection"===e.type&&(i[e.name]={"ui:widget":"connection"})})),i["ui:order"]=n,i["ui:required"]=r,{schema:t,uiSchema:i}}},7458:function(e,t,i){i.d(t,{Z:function(){return j}});var n=i(4942),r=i(63366),o=i(87462),a=i(7276),u=i(30257),p=i(14615),l=i(40520),s=i(28960),c=i(95388),d=i(57540),f=i(96837),m=i(66992),v=i(99029),h=i(47182),y=i(45263),_=["component","direction","spacing","divider","children","className","useFlexGap"],g=(0,m.Z)(),b=(0,c.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function Z(e){return(0,d.Z)({props:e,name:"MuiStack",defaultTheme:g})}function S(e,t){var i=a.Children.toArray(e).filter(Boolean);return i.reduce((function(e,n,r){return e.push(n),r<i.length-1&&e.push(a.cloneElement(t,{key:"separator-".concat(r)})),e}),[])}var x=function(e){var t=e.ownerState,i=e.theme,r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,v.k9)({theme:i},(0,v.P$)({values:t.direction,breakpoints:i.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var a=(0,h.hB)(i),u=Object.keys(i.breakpoints.values).reduce((function(e,i){return("object"===typeof t.spacing&&null!=t.spacing[i]||"object"===typeof t.direction&&null!=t.direction[i])&&(e[i]=!0),e}),{}),l=(0,v.P$)({values:t.direction,base:u}),s=(0,v.P$)({values:t.spacing,base:u});"object"===typeof l&&Object.keys(l).forEach((function(e,t,i){if(!l[e]){var n=t>0?l[i[t-1]]:"column";l[e]=n}}));r=(0,p.Z)(r,(0,v.k9)({theme:i},s,(function(e,i){return t.useFlexGap?{gap:(0,h.NA)(a,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":(0,n.Z)({},"margin".concat((r=i?l[i]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,h.NA)(a,e))};var r})))}return r=(0,v.dt)(i.breakpoints,r)};var k=i(77801),w=i(84557),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,i=void 0===t?b:t,n=e.useThemeProps,p=void 0===n?Z:n,c=e.componentName,d=void 0===c?"MuiStack":c,m=i(x),v=a.forwardRef((function(e,t){var i=p(e),n=(0,f.Z)(i),a=n.component,c=void 0===a?"div":a,v=n.direction,h=void 0===v?"column":v,g=n.spacing,b=void 0===g?0:g,Z=n.divider,x=n.children,k=n.className,w=n.useFlexGap,M=void 0!==w&&w,j=(0,r.Z)(n,_),B={direction:h,spacing:b,useFlexGap:M},C=(0,l.Z)({root:["root"]},(function(e){return(0,s.Z)(d,e)}),{});return(0,y.jsx)(m,(0,o.Z)({as:c,ownerState:B,ref:t,className:(0,u.Z)(C.root,k)},j,{children:Z?S(x,Z):x}))}));return v}({createStyledComponent:(0,k.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}}),useThemeProps:function(e){return(0,w.Z)({props:e,name:"MuiStack"})}}),j=M},95388:function(e,t,i){var n=(0,i(16073).ZP)();t.Z=n}}]);