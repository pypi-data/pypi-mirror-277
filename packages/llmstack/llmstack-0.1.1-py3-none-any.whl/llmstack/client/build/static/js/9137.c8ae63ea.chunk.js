"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[9137],{29137:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var t=r(93433),o=r(29439),a=r(7276),s=r(95173),l=r(66161),i=r(85535),c=r(73462),p=r(24578),x=r(52720),u=r(54443),d=r(44570),f=r(17190),g=r(94457),m=r.n(g),h=r(9229),b=r(25926),Z=r(45263),v=(0,a.forwardRef)((function(e,n){var r=e.app;return(0,Z.jsx)("a",{href:"/a/".concat(r.slug),style:{textDecoration:"none"},children:(0,Z.jsxs)(l.Z,{ref:n,sx:{border:"1px solid #E8EBEE",borderRadius:2,p:4,gap:4,flexDirection:"column",margin:"8px 2px 10px 2px",display:"flex",alignItems:"left",cursor:"pointer",textAlign:"left",boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A",":hover":{backgroundColor:"#F3F5F8",borderRadius:1,boxShadow:"0px 2px 4px -2px #1018283F, 0px 4px 8px -2px #1018283A"}},onClick:function(){window.location.href="/a/".concat(r.slug)},children:[(0,Z.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",textAlign:"left",width:"100%",gap:4},children:[(0,Z.jsx)("img",{src:r.icon128,alt:r.name,style:{width:"50px",height:"50px",borderRadius:"8px",alignSelf:"center"}}),(0,Z.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsx)(i.Z,{component:"div",sx:{fontSize:16,fontWeight:600,lineHeight:"20px",color:"#183A58",ml:.5},children:r.name}),(0,Z.jsx)(l.Z,{children:r.categories&&r.categories.map((function(e){return(0,Z.jsx)(c.Z,{label:m()(e),size:"small",sx:{borderRadius:2,padding:"4px, 8px, 4px, 8px",backgroundColor:"#FBFBFB",border:1,color:"#183A58",borderColor:"gray.main"}},e)}))})]})]}),(0,Z.jsx)(i.Z,{color:"text.secondary",sx:{fontSize:14,color:"#647B8F",lineHeight:"22px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical"},children:r.description})]})})})),j=function(e){var n=e.queryTerm,r=(0,a.useRef)(null),s=(0,a.useState)(null),i=(0,o.Z)(s,2),c=i[0],x=i[1],u=(0,h.$P)((0,b.TY)({queryTerm:n,nextPage:c})),d=(0,h.FV)((0,b.iS)(n)),f=(0,o.Z)(d,2),g=f[0],m=f[1],j=(0,h.sJ)(b.lo),w=(0,a.useCallback)((function(){"hasValue"===u.state&&m((function(e){var n=u.contents.apps.filter((function(n){return!e.apps.some((function(e){return e.slug===n.slug}))}));return{apps:[].concat((0,t.Z)(e.apps),(0,t.Z)(n)),nextPage:u.contents.nextPage}}))}),[u.contents,m,u.state]);(0,a.useEffect)((function(){x(null)}),[n]),(0,a.useEffect)((function(){if(r.current&&"hasValue"===u.state){m(u.contents);var e=new IntersectionObserver((function(e){e[0].isIntersecting&&u.contents.nextPage&&(w(),x(u.contents.nextPage))}));return e.observe(r.current),function(){return e.disconnect()}}}),[r,u,w,m]);var y=(null===g||void 0===g?void 0:g.apps)||[];return(0,Z.jsxs)(l.Z,{sx:{overflowY:"auto",flex:"1 1 auto",height:j?"calc(100vh - 260px)":"auto"},children:[y.length>0?y.map((function(e,n){return(0,Z.jsx)(v,{app:e,ref:n+1===y.length?r:null},e.slug)})):(0,Z.jsx)(l.Z,{ref:r}),"loading"===u.state&&(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(p.Z,{})})]})};function w(e){var n=e.appSlug,r=(0,s.TH)(),t=(0,h.sJ)(b.lo),i=(0,a.useState)(n&&"/"!==r.pathname?"recommended":"featured"),p=(0,o.Z)(i,2),g=p[0],m=p[1],v=(0,a.useState)(n?"categories/recommended/".concat(n,"/apps"):"categories/featured/apps"),w=(0,o.Z)(v,2),y=w[0],F=w[1],k=(0,h.sJ)(b.N0),C=(0,a.useState)(k),S=(0,o.Z)(C,2),E=S[0],A=S[1],B=(0,a.useState)(""),P=(0,o.Z)(B,2),R=P[0],I=P[1],q=function(e,n){return e===n||e.startsWith("recommended")&&"recommended"===n};return(0,a.useEffect)((function(){var e=k;n||(e=k.filter((function(e){return!("recommended"===e.slug)}))),A(e),g&&""===R&&F(g.toLowerCase().startsWith("recommended")?"categories/recommended/".concat(n,"/apps"):"categories/".concat(g.toLowerCase(),"/apps"))}),[k,R,g,n]),(0,Z.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",maxHeight:"100vh"},children:[(0,Z.jsxs)(x.Z,{component:"form",sx:{mt:t?0:4,ml:.5,mr:0,mb:2,p:"4px 4px 0 4px",display:"flex",alignItems:"center",background:"#fbfbfb",border:"1px solid #E8EBEE",borderRadius:2,boxShadow:"0px 1px 2px 0px #1018280F, 0px 1px 3px 0px #1018281A","& .MuiInputBase-root":{backgroundColor:"#fbfbfb",boxShadow:"none"}},onSubmit:function(e){e.preventDefault(),F("search?query=".concat(R))},children:[(0,Z.jsx)(u.ZP,{sx:{ml:2.5,flex:1},placeholder:"Explore Promptly Apps",inputProps:{"aria-label":"Explore Promptly Apps"},value:R,onChange:function(e){I(e.target.value)}}),(0,Z.jsx)(d.Z,{type:"button",sx:{p:"10px"},"aria-label":"search",onClick:function(){return F("search?query=".concat(R))},children:(0,Z.jsx)(f.Z,{})})]}),(0,Z.jsx)(l.Z,{sx:{textAlign:"left",mt:1,mb:2},children:E.map((function(e){return(0,Z.jsx)(c.Z,{label:e.name,size:"small",variant:"outlined",sx:{cursor:"pointer",borderRadius:2,color:q(g,e.slug)?"#FFF":"#183A58",padding:"4px, 8px, 4px, 8px",m:1,backgroundColor:q(g,e.slug)?"corral.main":"#FBFBFB",boxShadow:"0px 1px 2px 0px #1018280F, 0px 1px 3px 0px #1018281A",border:"1px solid",borderColor:q(g,e.slug)?"corral.main":"gray.main","& :hover":{borderRadius:2,padding:"2px 8px",backgroundColor:q(g,e.slug)?"corral.main":"inherit"}},onClick:function(){m(e.slug),F("recommended"===e.slug?"categories/recommended/".concat(n,"/apps"):"categories/".concat(e.slug,"/apps"))}},e.slug)}))}),(0,Z.jsx)(j,{queryTerm:y,appSlug:n})]})}}}]);