(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[8405],{78405:function(n,o,i){"use strict";i.r(o),i.d(o,{default:function(){return H}});var t=i(29439),r=i(7276),e=i(10981),a=i(66161),s=i(85535),d=i(44570),l=i(31342),c=i(73462),u=i(29166),p=i(23015),h=i(45263),f=(0,p.Z)((0,h.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}),"KeyboardArrowUpOutlined"),g=i(51073),x=(0,p.Z)((0,h.jsx)("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z"}),"IosShareOutlined"),v=i(77801),Z=i(9229),m=i(25926),b=i(81792),j=i(93433),y=i(95173),w=i(83329),I=i(54560),S=i(969),C=i(46650),P=i(44390),k=i(20495),L=i(7458),z=i(34160),R=i(63130),E=i(63716),F=i(83960),M=i(84817);function _(n){var o=n.open,i=n.onClose,e=n.appTypeSlug,c=n.appStoreUuid,u=(0,Z.sJ)(m.qY),p=(0,Z.sJ)(m.nC),f=(0,Z.sJ)(m.Rd),g=(0,r.useState)(""),x=(0,t.Z)(g,2),v=x[0],_=x[1],T=(0,y.s0)(),V=(0,r.useState)(null),H=(0,t.Z)(V,2),W=H[0],A=H[1],B=(0,r.useState)(!1),O=(0,t.Z)(B,2),N=O[0],q=O[1],U=(0,r.useState)(!1),D=(0,t.Z)(U,2),J=D[0],Y=D[1],G=function(n){return n?"".concat(window.location.protocol,"//").concat(window.location.host,"/s/").concat(n):window.location.href},K=function(n){n.stopPropagation(),i()};return(0,h.jsxs)(I.Z,{title:"Share",open:o,onClose:K,fullWidth:!0,onClick:function(n){return n.stopPropagation()},maxWidth:"xs",children:[(0,h.jsx)(S.Z,{id:"app-share-modal",children:"Share"}),(0,h.jsxs)(C.Z,{children:[(0,h.jsx)(s.Z,{variant:"body1",children:null!==u&&void 0!==u&&u.sessionId&&!v?"Share the output from this app run by clicking on the create link button to generate a shareable url.":!v&&"Share this app using the link below or by clicking on the social media buttons."}),v&&(0,h.jsx)(a.Z,{sx:{marginTop:2,marginBottom:4},children:(0,h.jsx)(s.Z,{variant:"body1",children:"Share this app session using the link below or use the buttons to share on social media."})}),(null===u||void 0===u?void 0:u.sessionId)&&(0,h.jsx)(a.Z,{sx:{maxHeight:"300px",overflow:"auto",border:"solid 1px",borderColor:"gray.main",marginTop:2,borderRadius:2,padding:2},children:"web"===e?(0,h.jsx)(b.PromptlyAppWorkflowOutput,{showHeader:!1}):(0,h.jsx)(b.PromptlyAppChatOutput,{})}),(v||!v&&!u.sessionId)&&(0,h.jsxs)(a.Z,{sx:{paddingTop:4,display:"inline-table"},children:[(0,h.jsx)(P.Z,{label:"Share URL",value:G(v),fullWidth:!0,variant:"outlined",size:"medium",InputProps:{readOnly:!0,endAdornment:(0,h.jsx)(d.Z,{onClick:function(n){navigator.clipboard.writeText(G(v)),(0,F.yv)("Share code copied successfully",{variant:"success"})},children:(0,h.jsx)(k.Z,{title:"Copy Share URL",children:(0,h.jsx)(R.Z,{fontSize:"small"})})})}}),(0,h.jsx)(s.Z,{variant:"caption",children:"Share the link with others to view the output from this app run"}),(0,h.jsxs)(L.Z,{direction:"row",gap:2,sx:{paddingTop:2},children:[(0,h.jsx)(w.Dk,{url:G(v),children:(0,h.jsx)(w.Vq,{size:30,round:!0})}),(0,h.jsx)(w.Zh,{url:G(v),children:(0,h.jsx)(w.v2,{size:30,round:!0})}),(0,h.jsx)(w.r2,{url:G(v),children:(0,h.jsx)(w.pA,{size:30,round:!0})}),(0,h.jsx)(w.MC,{url:G(v),children:(0,h.jsx)(w.cH,{size:30,round:!0})}),(0,h.jsx)(w.tq,{url:G(v),children:(0,h.jsx)(w.YG,{size:30,round:!0})}),(0,h.jsx)(w.N0,{url:G(v),children:(0,h.jsx)(w.ud,{size:30,round:!0})}),(0,h.jsx)(w.B,{url:G(v),title:"Check this app on Promptly!\n\n",via:"TryPromptly",children:(0,h.jsx)(w.b0,{size:30,round:!0})})]})]})]}),(0,h.jsxs)(z.Z,{children:[(0,h.jsx)(l.Z,{onClick:K,children:"Cancel"},"cancel"),!v&&(0,h.jsx)(E.Z,{variant:"contained",type:"primary",onClick:function(n){null!==u&&void 0!==u&&u.sessionId?function(n,o,i){if(n.stopPropagation(),i&&o){if(v)return navigator.clipboard.writeText(G(v)),void(0,F.yv)("Link copied to clipboard",{variant:"success"});Y(!0);var t=(null===u||void 0===u?void 0:u.messages)||[],r=(0,j.Z)(new Set(t.map((function(n){return n.requestId})).filter((function(n){return n})))),e={session_id:o,app_store_uuid:c,run_entry_request_uuids:r};(0,M.o)().post("/api/apps/share/",e).then((function(n){navigator.clipboard.writeText(G(n.data.code)),_(n.data.code),(0,F.yv)("Link copied to clipboard",{variant:"success"})})).catch((function(n){console.error("Error sharing app run",n),(0,F.yv)("Error sharing app run",{variant:"error"})})).finally((function(){Y(!1)}))}else{var a="/"===window.location.path?window.location.href+"a/super-agent":window.location.href;navigator.clipboard.writeText(a),(0,F.yv)("Link copied to clipboard",{variant:"success"})}}(n,null===u||void 0===u?void 0:u.sessionId,p):K(n)},loading:J,disabled:null===u||void 0===u?void 0:u.isRunning,children:null!==u&&void 0!==u&&u.sessionId?"Create Link":"Done"},"submit"),v&&!(null!==f&&void 0!==f&&f.username)&&(0,h.jsx)(E.Z,{variant:"contained",type:"primary",onClick:function(n){return T("/s/".concat(v))},loading:J,disabled:null===u||void 0===u?void 0:u.isRunning,children:"View Session"},"submit"),v&&(null===f||void 0===f?void 0:f.username)&&(0,h.jsx)(E.Z,{variant:"contained",type:"primary",onClick:function(n){W?T("/u/".concat(f.username,"/").concat(W)):null!==u&&void 0!==u&&u.sessionId?function(n,o,i){n.stopPropagation(),i&&o&&f&&f.username?(q(!0),(0,M.o)().post("/api/profiles/".concat(f.username,"/posts"),{share_code:v}).then((function(n){var o,i;A(null===n||void 0===n||null===(o=n.data)||void 0===o||null===(i=o.share)||void 0===i?void 0:i.slug),(0,F.yv)("App run pinned to profile",{variant:"success"})})).catch((function(n){console.error("Error pinning app run",n),(0,F.yv)("Error pinning app run",{variant:"error"})})).finally((function(){q(!1)}))):(0,F.yv)("You must be logged in and have your username set to pin an app run",{variant:"error"})}(n,null===u||void 0===u?void 0:u.sessionId,p):K(n)},loading:N,disabled:(null===u||void 0===u?void 0:u.isRunning)||N,children:W?"View on Profile":null!==u&&void 0!==u&&u.sessionId?"Pin to Profile":"Done"},"pin")]})]})}var T=(0,v.ZP)("img")({width:80,height:80,margin:0,borderRadius:8}),V=(0,v.ZP)("img")({width:35,height:35,margin:0,borderRadius:4});var H=function(n){var o=n.name,i=n.icon,p=n.username,v=n.description,j=n.categories,y=n.appStoreUuid,w=n.appTypeSlug,I=n.shareHeader,S=void 0!==I&&I,C=(0,Z.sJ)(m.lo),P=(0,r.useState)(!S&&!C),k=(0,t.Z)(P,2),L=k[0],z=k[1],R=(0,r.useState)(!1),E=(0,t.Z)(R,2),F=E[0],M=E[1],H=(0,Z.sJ)(m.N0),W=(0,r.useCallback)((function(n){return H.find((function(o){return o.slug===n}))}),[H]);return(0,h.jsxs)(e.Z,{sx:{backgroundColor:"#F3F5F8",cursor:"pointer",boxShadow:"none",display:"flex",flexDirection:"column",border:"1px solid #E8EBEE",borderRadius:"8px 8px 0 0",p:L?6:4,gap:4,height:L?"auto":C?"40px":"72px"},onClick:function(){return z(!L)},children:[(0,h.jsx)(_,{open:F,onClose:function(){return M(!1)},appTypeSlug:w,appStoreUuid:y}),(0,h.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",textAlign:"left",width:"100%"},children:[!L&&(0,h.jsxs)(a.Z,{sx:{display:"flex",width:"100%",gap:4,alignItems:"center"},children:[(0,h.jsx)(V,{src:i,alt:o}),(0,h.jsx)(a.Z,{sx:{alignSelf:"center",width:"100%"},children:(0,h.jsxs)(a.Z,{sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,h.jsx)(s.Z,{component:"h1",color:"#183A58",sx:{fontSize:"20px",lineHeight:"24px",fontWeight:600},children:o}),S&&(L?(0,h.jsx)(f,{}):(0,h.jsx)(g.Z,{})),!S&&(0,h.jsx)(d.Z,{sx:{color:"#FFF",ml:"auto",mr:C?"-4px":"0px",backgroundColor:"primary.main",":hover":{backgroundColor:"primary.dark"},borderRadius:"8px"},onClose:function(){return M(!0)},onClick:function(n){n.stopPropagation(),M(!0)},children:(0,h.jsx)(x,{fontSize:"small",variant:"contained"})})]})})]}),L&&(0,h.jsxs)(a.Z,{sx:{display:"flex",width:"100%",gap:4,alignItems:"center"},children:[(0,h.jsx)(T,{src:i,alt:o}),(0,h.jsxs)(a.Z,{sx:{width:"100%"},children:[(0,h.jsxs)(a.Z,{sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,h.jsx)(s.Z,{component:"h1",sx:{fontSize:"20px",lineHeight:"24px",fontWeight:600},children:o}),S&&(L?(0,h.jsx)(f,{}):(0,h.jsx)(g.Z,{})),!S&&(C?(0,h.jsx)(d.Z,{sx:{color:"#FFF",ml:"auto",mr:"-4px",backgroundColor:"primary.main",":hover":{backgroundColor:"primary.dark"},borderRadius:"8px"},onClose:function(){return M(!0)},onClick:function(n){n.stopPropagation(),M(!0)},children:(0,h.jsx)(x,{fontSize:"small",variant:"contained"})}):(0,h.jsx)(l.Z,{variant:"contained",sx:{ml:"auto",mr:"-4px",color:"#FFF"},startIcon:(0,h.jsx)(x,{fontSize:"small"}),onClick:function(n){n.stopPropagation(),M(!0)},children:"Share"}))]}),(0,h.jsx)("span",{style:{color:"gray"},children:"by\xa0"}),(0,h.jsx)(s.Z,{color:"corral.main",sx:{display:"inline"},children:p}),(0,h.jsx)(a.Z,{sx:{mt:1,mb:1,ml:-.4},children:j&&j.map((function(n){var o;return(0,h.jsx)(c.Z,{label:(null===(o=W(n))||void 0===o?void 0:o.name)||n,size:"small",sx:{borderRadius:2,padding:"4px, 8px, 4px, 8px",backgroundColor:"#FFF",border:1,color:"#183A58",borderColor:"gray.main"}},n)}))})]})]})]}),(0,h.jsx)(a.Z,{sx:{textAlign:"left",lineHeight:"1.6",color:"#183a58","& p":{mt:0,ml:0,marginBlockEnd:0}},children:(0,h.jsx)(u.Z,{in:L,timeout:"auto",unmountOnExit:!0,children:(0,h.jsx)(b.default,{children:v})})})]})}},63130:function(n,o,i){"use strict";var t=i(64836);o.Z=void 0;var r=t(i(34921)),e=i(45263),a=(0,r.default)((0,e.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");o.Z=a},34921:function(n,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=i(12656)},63716:function(n,o,i){"use strict";i.d(o,{Z:function(){return j}});var t=i(4942),r=i(63366),e=i(87462),a=i(7276),s=i(33195),d=i(56826),l=i(40520),c=i(77801),u=i(84557),p=i(31342),h=i(24578),f=i(28960);function g(n){return(0,f.Z)("MuiLoadingButton",n)}var x=(0,i(42275).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),v=i(45263),Z=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],m=(0,c.ZP)(p.Z,{shouldForwardProp:function(n){return function(n){return"ownerState"!==n&&"theme"!==n&&"sx"!==n&&"as"!==n&&"classes"!==n}(n)||"classes"===n},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(n,o){return[o.root,o.startIconLoadingStart&&(0,t.Z)({},"& .".concat(x.startIconLoadingStart),o.startIconLoadingStart),o.endIconLoadingEnd&&(0,t.Z)({},"& .".concat(x.endIconLoadingEnd),o.endIconLoadingEnd)]}})((function(n){var o=n.ownerState,i=n.theme;return(0,e.Z)((0,t.Z)({},"& .".concat(x.startIconLoadingStart,", & .").concat(x.endIconLoadingEnd),{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}),"center"===o.loadingPosition&&(0,t.Z)({transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short})},"&.".concat(x.loading),{color:"transparent"}),"start"===o.loadingPosition&&o.fullWidth&&(0,t.Z)({},"& .".concat(x.startIconLoadingStart,", & .").concat(x.endIconLoadingEnd),{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===o.loadingPosition&&o.fullWidth&&(0,t.Z)({},"& .".concat(x.startIconLoadingStart,", & .").concat(x.endIconLoadingEnd),{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0,marginLeft:-8}))})),b=(0,c.ZP)("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(n,o){var i=n.ownerState;return[o.loadingIndicator,o["loadingIndicator".concat((0,s.Z)(i.loadingPosition))]]}})((function(n){var o=n.theme,i=n.ownerState;return(0,e.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===i.loadingPosition&&("outlined"===i.variant||"contained"===i.variant)&&{left:"small"===i.size?10:14},"start"===i.loadingPosition&&"text"===i.variant&&{left:6},"center"===i.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(o.vars||o).palette.action.disabled},"end"===i.loadingPosition&&("outlined"===i.variant||"contained"===i.variant)&&{right:"small"===i.size?10:14},"end"===i.loadingPosition&&"text"===i.variant&&{right:6},"start"===i.loadingPosition&&i.fullWidth&&{position:"relative",left:-10},"end"===i.loadingPosition&&i.fullWidth&&{position:"relative",right:-10})})),j=a.forwardRef((function(n,o){var i=(0,u.Z)({props:n,name:"MuiLoadingButton"}),t=i.children,a=i.disabled,c=void 0!==a&&a,p=i.id,f=i.loading,x=void 0!==f&&f,j=i.loadingIndicator,y=i.loadingPosition,w=void 0===y?"center":y,I=i.variant,S=void 0===I?"text":I,C=(0,r.Z)(i,Z),P=(0,d.Z)(p),k=null!=j?j:(0,v.jsx)(h.Z,{"aria-labelledby":P,color:"inherit",size:16}),L=(0,e.Z)({},i,{disabled:c,loading:x,loadingIndicator:k,loadingPosition:w,variant:S}),z=function(n){var o=n.loading,i=n.loadingPosition,t=n.classes,r={root:["root",o&&"loading"],startIcon:[o&&"startIconLoading".concat((0,s.Z)(i))],endIcon:[o&&"endIconLoading".concat((0,s.Z)(i))],loadingIndicator:["loadingIndicator",o&&"loadingIndicator".concat((0,s.Z)(i))]},a=(0,l.Z)(r,g,t);return(0,e.Z)({},t,a)}(L),R=x?(0,v.jsx)(b,{className:z.loadingIndicator,ownerState:L,children:k}):null;return(0,v.jsxs)(m,(0,e.Z)({disabled:c||x,id:P,ref:o},C,{variant:S,classes:z,ownerState:L,children:["end"===L.loadingPosition?t:R,"end"===L.loadingPosition?R:t]}))}))},10981:function(n,o,i){"use strict";i.d(o,{Z:function(){return v}});var t=i(87462),r=i(63366),e=i(7276),a=i(76218),s=i(40520),d=i(77801),l=i(84557),c=i(52720),u=i(42275),p=i(28960);function h(n){return(0,p.Z)("MuiCard",n)}(0,u.Z)("MuiCard",["root"]);var f=i(45263),g=["className","raised"],x=(0,d.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(n,o){return o.root}})((function(){return{overflow:"hidden"}})),v=e.forwardRef((function(n,o){var i=(0,l.Z)({props:n,name:"MuiCard"}),e=i.className,d=i.raised,c=void 0!==d&&d,u=(0,r.Z)(i,g),p=(0,t.Z)({},i,{raised:c}),v=function(n){var o=n.classes;return(0,s.Z)({root:["root"]},h,o)}(p);return(0,f.jsx)(x,(0,t.Z)({className:(0,a.Z)(v.root,e),elevation:c?8:void 0,ref:o,ownerState:p},u))}))},4810:function(n,o,i){"use strict";var t=i(69694);o.Z=t.Z},12656:function(n,o,i){"use strict";i.r(o),i.d(o,{capitalize:function(){return r.Z},createChainedFunction:function(){return e.Z},createSvgIcon:function(){return a.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return d},isMuiElement:function(){return l.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return u.Z},requirePropFactory:function(){return p},setRef:function(){return h},unstable_ClassNameGenerator:function(){return j},unstable_useEnhancedEffect:function(){return f.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return x},useControlled:function(){return v.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return m.Z},useIsFocusVisible:function(){return b.Z}});var t=i(86656),r=i(33195),e=i(4810),a=i(23015),s=i(27381);var d=function(n,o){return function(){return null}},l=i(33143),c=i(46365),u=i(20637);i(87462);var p=function(n,o){return function(){return null}},h=i(56777).Z,f=i(39873),g=i(56826);var x=function(n,o,i,t,r){return null},v=i(5831),Z=i(50648),m=i(25597),b=i(39877),j={configure:function(n){t.Z.configure(n)}}},56826:function(n,o,i){"use strict";var t=i(33407);o.Z=t.Z},64836:function(n){n.exports=function(n){return n&&n.__esModule?n:{default:n}},n.exports.__esModule=!0,n.exports.default=n.exports}}]);