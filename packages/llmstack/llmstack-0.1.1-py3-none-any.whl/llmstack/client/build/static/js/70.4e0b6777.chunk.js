"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[70],{70070:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var s=t(29439),o=t(7276),i=t(66161),u=t(34199),c=t(9229),a=t(98085),l=t(25926),r=t(45263),h=o.lazy((function(){return Promise.all([t.e(9921),t.e(3825),t.e(9336),t.e(364)]).then(t.bind(t,93411))})),d=o.lazy((function(){return Promise.all([t.e(2715),t.e(1754),t.e(4443),t.e(2731),t.e(8115),t.e(2792),t.e(6419),t.e(4390),t.e(2385),t.e(2789),t.e(3960),t.e(6782),t.e(5539),t.e(3825),t.e(4898),t.e(3300),t.e(3329),t.e(3361),t.e(8820),t.e(8405),t.e(349)]).then(t.bind(t,78405))}));function p(e){var n,t=e.appSlug,p=(0,c.sJ)((0,l.lZ)(t)),f=(0,o.useState)(null),w=(0,s.Z)(f,2),g=w[0],y=w[1],v="".concat("https:"===window.location.protocol?"wss":"ws","://").concat(window.location.host,"/ws");return(0,o.useEffect)((function(){g||y(new a.Ws("".concat(v,"/store/apps/").concat(t)))}),[t,g,v]),p?(0,r.jsxs)(u.Z,{container:!0,spacing:1,direction:"column",sx:{height:"100%"},children:[(0,r.jsx)(u.Z,{children:(0,r.jsx)(d,{name:p.name,icon:p.icon128,username:p.username,description:p.description,categories:p.categories,appTypeSlug:(null===p||void 0===p||null===(n=p.data)||void 0===n?void 0:n.type_slug)||"agent",appStoreUuid:p.uuid})}),(0,r.jsx)(u.Z,{sx:{flex:1,padding:4,paddingBottom:0,height:0,overflow:"auto"},children:(0,r.jsx)(h,{app:p,ws:g})})]}):(0,r.jsx)(i.Z,{children:"Loading..."})}},98085:function(e,n,t){t.d(n,{Ws:function(){return i}});var s=t(15671),o=t(43144),i=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,s.Z)(this,e),this.url=n,this.ws=null,this.binaryType=t,this.onMessage=null,this.queue=[]}return(0,o.Z)(e,[{key:"status",value:function(){return this.ws.readyState}},{key:"connect",value:function(){var e=this;this.ws=new WebSocket(this.url),this.binaryType&&(this.ws.binaryType=this.binaryType),this.ws.onmessage=this.onMessage,this.ws.onopen=function(){e.queue.forEach((function(n){e.ws.send(n)})),e.queue=[],console.log("Websocket connected: ".concat(e.url))},this.ws.onclose=function(){console.log("Websocket closed: ".concat(e.url))}}},{key:"send",value:function(e){null===this.ws&&this.connect(),this.ws.readyState===WebSocket.CONNECTING?this.queue.push(e):this.ws.readyState===WebSocket.OPEN?this.ws.send(e):(this.queue.push(e),this.connect())}},{key:"close",value:function(){var e;null===(e=this.ws)||void 0===e||e.close()}},{key:"setOnMessage",value:function(e){this.onMessage=e}}]),e}()}}]);