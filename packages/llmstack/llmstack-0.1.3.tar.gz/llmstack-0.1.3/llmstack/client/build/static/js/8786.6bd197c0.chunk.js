"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[8786,1504,404],{48786:function(e,n,r){r.r(n),r.d(n,{ThemedForm:function(){return Z},ThemedJsonEditor:function(){return v},default:function(){return g}});var t=r(1413),i=r(29439),a=r(96720),o=r(8988),s=r(16290),l=r(66161),u=r(38121),c=r(13366),d=r(7276),f=r(12526),m=r(9229),h=r(43286),p=r(25926),x=r(41504),j=(r(5534),r(35007),r(45263));function Z(e){var n=(0,m.FV)(p.K4),r=(0,i.Z)(n,2),t=r[0],a=r[1];return(0,j.jsx)(x.default,{schema:e.schema,uiSchema:e.uiSchema,formData:t,onChange:function(e){var n=e.formData;a(n)},validator:c.ZP})}function v(){var e=(0,m.FV)(p.K4),n=(0,i.Z)(e,2),r=n[0],t=n[1];return(0,j.jsx)(f.ZP,{mode:"json",theme:"chrome",value:JSON.stringify(r,null,2),onChange:function(e){t(JSON.parse(e))},editorProps:{$blockScrolling:!0},setOptions:{useWorker:!1,showGutter:!1}})}function g(e){var n,r=d.useState("form"),c=(0,i.Z)(r,2),f=c[0],m=c[1],p=e.schema?JSON.parse(JSON.stringify(e.schema)):{};return null!==e&&void 0!==e&&null!==(n=e.schema)&&void 0!==n&&n.title&&(p.title=null,p.description=null),(0,j.jsx)(l.Z,{sx:{width:"100%"},children:(0,j.jsxs)(a.ZP,{value:f,children:[(0,j.jsx)(l.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,j.jsxs)(o.Z,{onChange:function(e,n){m(n)},"aria-label":"Config form tabs",children:[(0,j.jsx)(u.Z,{label:"Config Form",value:"form"}),(0,j.jsx)(u.Z,{label:"JSON",value:"json"})]})}),(0,j.jsx)(s.Z,{value:"form",sx:{padding:"4px"},children:0===Object.keys(e.schema).length?(0,j.jsx)(h.H,(0,t.Z)({},e)):(0,j.jsx)(Z,{schema:p,uiSchema:e.uiSchema})}),(0,j.jsx)(s.Z,{value:"json",sx:{padding:"4px"},children:0===Object.keys(e.schema).length?(0,j.jsx)(h.H,(0,t.Z)({},e)):(0,j.jsx)(v,(0,t.Z)({},e))})]})})}},41504:function(e,n,r){r.r(n);var t=r(45987),i=r(29439),a=r(1413),o=r(16390),s=r(60103),l=r(54730),u=r(32399),c=r(68134),d=r(92628),f=r(97519),m=r(73462),h=r(49305),p=r(25861),x=r(52720),j=r(66161),Z=r(85535),v=r(76399),g=r(22644),y=r(62652),b=r(7276),C=r(45263),S=["schema","uiSchema","formData","onChange","submitBtn","theme","validator","templates","widgets","disableAdvanced"],P=(0,b.lazy)((function(){return Promise.all([r.e(9907),r.e(2580),r.e(6783)]).then(r.bind(r,62580))})),w=(0,b.lazy)((function(){return r.e(1393).then(r.bind(r,63890))})),z=(0,b.lazy)((function(){return r.e(935).then(r.bind(r,80935))})),k=(0,b.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(5539),r.e(111),r.e(4880),r.e(686),r.e(6374)]).then(r.bind(r,16374))})),D=(0,b.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(111),r.e(3667),r.e(6279),r.e(7458)]).then(r.bind(r,96279))})),N=(0,b.lazy)((function(){return Promise.all([r.e(7420),r.e(2341)]).then(r.bind(r,16214))})),O=(0,b.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(5539),r.e(111),r.e(4880),r.e(686),r.e(5831)]).then(r.bind(r,75831))})),T=(0,b.lazy)((function(){return r.e(8781).then(r.bind(r,68781))})),R=(0,b.lazy)((function(){return r.e(6317).then(r.bind(r,6317))})),_=(0,b.lazy)((function(){return r.e(4843).then(r.bind(r,64843))})),E=(0,b.lazy)((function(){return Promise.all([r.e(2789),r.e(111),r.e(2384)]).then(r.bind(r,12384))})),F=(0,b.lazy)((function(){return r.e(7437).then(r.bind(r,97437))})),I=(0,b.lazy)((function(){return Promise.all([r.e(7902),r.e(7533)]).then(r.bind(r,57533))})),A=(0,b.lazy)((function(){return r.e(4881).then(r.bind(r,34881))}));function J(e){return(0,C.jsx)(O,(0,a.Z)({},e))}function B(e){return(0,C.jsx)(R,(0,a.Z)({},e))}function W(e){return(0,C.jsx)(A,(0,a.Z)({},e))}function K(e){var n=e.id,r=e.children,t=e.classNames,a=e.style,o=e.disabled,u=e.displayLabel,c=e.hidden,d=e.label,f=e.onDropPropertyClick,m=e.onKeyChange,h=e.readonly,p=e.required,x=e.rawErrors,j=void 0===x?[]:x,Z=e.errors,v=e.help,g=e.rawDescription,S=e.schema,P=e.uiSchema,w=e.registry,z=(0,b.useState)(!1),k=(0,i.Z)(z,2),D=k[0],N=k[1],O=(0,y.LI)(P),T=(0,y.t4)("WrapIfAdditionalTemplate",w,O);return c?(0,C.jsx)("div",{style:{display:"none"},children:r}):(0,C.jsx)(T,{classNames:t,style:a,disabled:o,id:n,label:d,onDropPropertyClick:f,onKeyChange:m,readonly:h,required:p,schema:S,uiSchema:P,registry:w,children:(0,C.jsxs)(s.Z,{fullWidth:!0,error:!!j.length,required:p,onFocus:function(e){N(!0)},onBlur:function(e){N(!1)},children:[r,u&&g?(0,C.jsx)(l.Z,{id:n,focused:D,children:g}):null,Z,v]})})}function L(e){var n=e.options,r=e.registry,t=(0,y.t4)("BaseInputTemplate",r,n),i=5;return"string"!==typeof n.rows&&"number"!==typeof n.rows||(i=n.rows),(0,C.jsx)(t,(0,a.Z)((0,a.Z)({sx:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid rgb(204, 204, 204)"}}}},e),{},{multiline:!0,rows:i,variant:"outlined"}))}function q(e){return(0,C.jsx)(E,(0,a.Z)({},e))}function H(e){return(0,C.jsx)(N,(0,a.Z)({},e))}function M(e){var n=e.chat_message;if(n.content)return(0,C.jsx)(u.Z,{primary:n.content});if(n.function_call){var r=n.function_call.name,t=JSON.parse(n.function_call.arguments),i=Object.keys(t).map((function(e){return"".concat(e,'="').concat(t[e],'"')})).join(",");return(0,C.jsx)("div",{children:(0,C.jsx)(u.Z,{primary:"Function",secondary:"".concat(r,"(").concat(i,")")})})}return null}var V=function(e){var n=e.value||[],r=0;return"string"===typeof n&&(n=[{content:n}]),(0,C.jsx)(c.Z,{className:"output-chat",style:{paddingTop:0},children:n.map((function(e){return(0,C.jsxs)(d.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:[(0,C.jsx)(f.Z,{children:(0,C.jsx)(m.Z,{color:"primary",label:e.role||"System"})}),(0,C.jsx)(M,{chat_message:e})]},r++)}))})},G=function(e){var n=e.value||[],r=0;return(0,C.jsx)(c.Z,{className:"output-text",style:{paddingTop:0},children:n.map((function(e){return(0,C.jsx)(d.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:(0,C.jsx)(u.Z,{primary:e})},r++)}))})},$=function(e){var n=0;return(0,C.jsx)(h.Z,{className:"output-image",cols:2,gap:8,children:e.value.map((function(e){return(0,C.jsx)(p.Z,{children:(0,C.jsx)("img",{src:"".concat(e),loading:"lazy",alt:""})},n++)}))})},Q=function(e){return(0,C.jsx)("audio",{src:e.value,controls:!0})},U=function(e){return(0,C.jsx)(z,(0,a.Z)((0,a.Z)({},e),{},{disableAdvanced:!1}))},X=function(e){return(0,C.jsx)(z,(0,a.Z)((0,a.Z)({},e),{},{disableAdvanced:!0}))},Y=function(e){return(0,C.jsx)(T,(0,a.Z)({},e))},ee=function(e){return(0,C.jsx)(k,(0,a.Z)({},e))},ne=function(e){return(0,C.jsx)(P,(0,a.Z)((0,a.Z)({},e),{},{richText:!0}))},re=function(e){return(0,C.jsx)(D,(0,a.Z)({},e))},te=function(e){return(0,C.jsx)(w,(0,a.Z)({},e))},ie=function(e){var n=e.errors;return(0,C.jsx)(x.Z,{elevation:2,children:(0,C.jsxs)(j.Z,{mb:2,p:2,children:[(0,C.jsx)(Z.Z,{variant:"h6",children:"Errors"}),(0,C.jsx)(c.Z,{dense:!0,children:n.map((function(e,n){return(0,C.jsxs)(d.ZP,{dense:!0,children:[(0,C.jsx)(v.Z,{children:(0,C.jsx)(o.Z,{color:"error"})}),(0,C.jsx)(u.Z,{primary:e.message})]},n)}))})]})})};n.default=function(e){var n=e.schema,r=e.uiSchema,i=e.formData,o=e.onChange,s=e.submitBtn,l=void 0===s?(0,C.jsx)("div",{}):s,u=(e.theme,e.validator),c=e.templates,d=void 0===c?{}:c,f=e.widgets,m=void 0===f?{}:f,h=e.disableAdvanced,p=void 0!==h&&h,x=(0,t.Z)(e,S),j=x.createAsset;(0,b.useEffect)((function(){var e,n,r;null!==(e=x.formRef)&&void 0!==e&&null!==(n=e.current)&&void 0!==n&&null!==(r=n.formElement)&&void 0!==r&&r.current&&x.formRef.current.formElement.current.addEventListener("submit",(function(e){e.preventDefault()}))}),[x.formRef]);var Z=(0,b.useCallback)((function(e){var n;return null!==e&&void 0!==e&&null!==(n=e.schema)&&void 0!==n&&n.stream?(0,C.jsx)(I,(0,a.Z)((0,a.Z)({},e),{},{createAsset:j,formRef:x.formRef})):(0,C.jsx)(_,(0,a.Z)({},e))}),[j,x.formRef]);return(0,C.jsx)(g.ZP,(0,a.Z)((0,a.Z)({ref:x.formRef},x),{},{schema:n,uiSchema:r,validator:u,formData:i,onChange:o,templates:(0,a.Z)({ErrorListTemplate:ie,FieldTemplate:K,ObjectFieldTemplate:p?X:U},d),fields:{multi:function(e){return(0,C.jsx)(F,(0,a.Z)((0,a.Z)({},e),{},{formRef:x.formRef,onCancel:x.onCancel}))}},widgets:(0,a.Z)((0,a.Z)({},{customselect:q,TextareaWidget:L,FileWidget:H,output_chat:V,output_text:G,output_image:$,output_audio:Q,datasource:re,gdrive:J,webpageurls:B,password:Y,connection:ee,richtext:ne,voice:Z,app_version:te,promptlyapp_select:W}),m),transformErrors:null===x||void 0===x?void 0:x.transformErrors,children:l}))}},43286:function(e,n,r){r.d(n,{H:function(){return l}});var t=r(45987),i=r(66161),a=r(10567),o=r(45263),s=["emptyImage","emptyMessage"];function l(e){var n=e.emptyImage,r=e.emptyMessage;(0,t.Z)(e,s);return(0,o.jsxs)(i.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#838383",children:[n||null,(0,o.jsx)(a.Z,{severity:"info",style:{marginTop:"10px"},children:r||"No data available"})]})}}}]);