"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[4817],{44817:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var i=t(29439),a=t(1413),l=t(93433),r=t(45987),s=t(23015),o=t(45263),c=(0,s.Z)((0,o.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),u=(0,s.Z)((0,o.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),p=(0,s.Z)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),d=t(18221),h=t(85535),f=t(20888),v=t(34867),Z=t(9340),m=t(62154),x=t(71516),g=t(44390),j=t(26235),b=t(49321),y=t(44570),C=t(31342),A=t(7276),w=["fields","setFields","readOnly","setErrors"],I=["string","text","number","boolean","file","select","voice","multi"];function k(e){var n=e.fields,t=e.setFields,s=e.readOnly,k=void 0!==s&&s,z=e.setErrors;(0,r.Z)(e,w);A.useEffect((function(){var e=[];0===n.length&&e.push({message:"At least one field is required"});for(var t=0;t<n.length;t++){var i=n[t];if(i.name.startsWith("_")&&e.push({message:"App Input field ".concat(t+1," name cannot start with an underscore")}),i.title||e.push({message:"App Input field ".concat(t+1," must have a name")}),i.description||e.push({message:"App Input field ".concat(t+1," must have a description")}),i.type||e.push({message:"App Input field ".concat(t+1," must have a type")}),"select"!==i.type||i.options||e.push({message:"App Input field ".concat(t+1," must have at least one option")}),"select"===i.type&&i.options)for(var a=0;a<i.options.length;a++){var l=i.options[a];l.label||e.push({message:"App Input field ".concat(t+1," option ").concat(a+1," must have a label")}),l.value||e.push({message:"App Input field ".concat(t+1," option ").concat(a+1," must have a value")})}}z(e)}),[n,z]);var L=function(e,i){i.name=i.title.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase();var a=n.map((function(n,t){return t===e?i:n}));t(a)},V=function(e,i){var a=e+i;if(!(a<0||a>=n.length)){var r=(0,l.Z)(n),s=r[e];r[e]=r[a],r[a]=s,t(r)}};return(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(h.Z,{mb:3,style:{margin:10},children:"Define the input fields you want this app to accept. These will be rendered as a form for users to fill out. If using the app via the API, the input fields will form the JSON schema for the input data."}),(0,o.jsxs)(f.Z,{sx:{"& .MuiTableCell-root":{padding:"10px 5px"},"& .MuiInputBase-input":{padding:"10px"}},children:[(0,o.jsx)(v.Z,{children:(0,o.jsxs)(Z.Z,{sx:{"& .MuiTableCell-root":{fontWeight:"bold"}},children:[(0,o.jsx)(m.Z,{children:"Name"}),(0,o.jsx)(m.Z,{children:"Description"}),(0,o.jsx)(m.Z,{children:"Type"}),(0,o.jsx)(m.Z,{children:"Options"}),(0,o.jsx)(m.Z,{children:"Required"}),(0,o.jsx)(m.Z,{children:"Actions"})]})}),(0,o.jsx)(x.Z,{children:n.map((function(e,l){var r;return(0,o.jsxs)(Z.Z,{style:k?{opacity:.5,pointerEvents:"none"}:{},children:[(0,o.jsx)(m.Z,{children:(0,o.jsx)(g.Z,{value:e.title,onChange:function(n){L(l,(0,a.Z)((0,a.Z)({},e),{},{title:n.target.value}))}})}),(0,o.jsx)(m.Z,{children:(0,o.jsx)(g.Z,{value:e.description,onChange:function(n){return L(l,(0,a.Z)((0,a.Z)({},e),{},{description:n.target.value}))}})}),(0,o.jsx)(m.Z,{children:(0,o.jsx)(j.Z,{value:e.type,onChange:function(n){return L(l,(0,a.Z)((0,a.Z)({},e),{},{type:n.target.value}))},children:I.map((function(e){return(0,o.jsx)(b.Z,{value:e,children:e},e)}))})}),(0,o.jsx)(m.Z,{children:"select"===e.type?(0,o.jsx)(g.Z,{value:(null===(r=e.options)||void 0===r?void 0:r.length)>0?e.options.map((function(e){return void 0!==e.value?"".concat(e.label,":").concat(e.value):e.label})).join(","):"",onChange:function(n){return L(l,(0,a.Z)((0,a.Z)({},e),{},{options:n.target.value.split(",").map((function(e){var n=e.split(":"),t=(0,i.Z)(n,2),a=t[0],l=t[1];return{label:a,value:l?l.trim():l}}))}))},placeholder:"Label1:Value1, Label2:Value2"}):""}),(0,o.jsx)(m.Z,{children:(0,o.jsxs)(j.Z,{value:!!e.required,onChange:function(n){return L(l,(0,a.Z)((0,a.Z)({},e),{},{required:n.target.value}))},children:[(0,o.jsx)(b.Z,{value:!0,children:"Yes"}),(0,o.jsx)(b.Z,{value:!1,children:"No"})]})}),(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(y.Z,{onClick:function(){return V(l,-1)},size:"small",children:(0,o.jsx)(c,{})}),(0,o.jsx)(y.Z,{onClick:function(){return V(l,1)},size:"small",children:(0,o.jsx)(u,{})}),(0,o.jsx)(y.Z,{onClick:function(){return function(e){var i=n.filter((function(n,t){return t!==e}));t(i)}(l)},size:"small",children:(0,o.jsx)(p,{})})]})]},l)}))})]}),(0,o.jsx)(C.Z,{variant:"contained",onClick:function(){t([].concat((0,l.Z)(n),[{name:"Field".concat(n.length+1),title:"Field".concat(n.length+1),description:"Description for Field".concat(n.length+1),type:"string",required:!0}]))},disabled:k,sx:{mt:2,textTransform:"none",float:"right",marginBottom:2,backgroundColor:"#6287ac",color:"#fff"},children:"Add Field"})]})}}}]);