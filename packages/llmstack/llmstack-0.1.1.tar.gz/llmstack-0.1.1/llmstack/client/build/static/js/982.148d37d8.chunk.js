"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[982,364],{30982:function(t,n,e){e.d(n,{Ob:function(){return p},Rt:function(){return l},Vm:function(){return Z},XZ:function(){return h},hP:function(){return f},sA:function(){return o},us:function(){return c}});var s=e(60136),i=e(29388),r=e(43144),u=e(15671),a=function(){function t(n,e,s){(0,u.Z)(this,t),this.id=n||Math.random().toString(36).substring(2),this.requestId=e,this.type=null,this.content=null,this.timestamp=new Date,this.hash=null,s&&(this.content=s),this.content&&!this.hash&&(this.hash=this._buildHash())}return(0,r.Z)(t,[{key:"_buildHash",value:function(){for(var t=JSON.stringify(this.content,Object.keys(this.content).sort()),n=0,e=0;e<t.length;e++){n=(n<<5)-n+t.charCodeAt(e),n&=n}return n.toString()}},{key:"clone",value:function(){var t=this.timestamp,n=new this.constructor(this.id,this.content);return n.timestamp=t,n.requestId=this.requestId,n}}]),t}(),h=function(t){(0,s.Z)(e,t);var n=(0,i.Z)(e);function e(t,s,i){var r;return(0,u.Z)(this,e),(r=n.call(this,t,s,i)).type="user",r}return(0,r.Z)(e)}(a),o=function(t){(0,s.Z)(e,t);var n=(0,i.Z)(e);function e(t,s,i,r){var a;return(0,u.Z)(this,e),(a=n.call(this,t,s,i)).type="app",a.replyTo=r,a}return(0,r.Z)(e)}(a),c=function(t){(0,s.Z)(e,t);var n=(0,i.Z)(e);function e(t,s,i,r){var a;return(0,u.Z)(this,e),(a=n.call(this,t,s,i)).type="error",a.replyTo=r,a}return(0,r.Z)(e)}(a),l=function(t){(0,s.Z)(e,t);var n=(0,i.Z)(e);function e(t,s,i,r){var a;return(0,u.Z)(this,e),(a=n.call(this,t,s,i,r)).subType="agent",a}return(0,r.Z)(e)}(o),f=function(t){(0,s.Z)(e,t);var n=(0,i.Z)(e);function e(t,s,i,r){var a,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,u.Z)(this,e),(a=n.call(this,t,s,i,r)).subType="agent-step",a.isRunning=h,a}return(0,r.Z)(e)}(o),p=function(t){(0,s.Z)(e,t);var n=(0,i.Z)(e);function e(t,s,i,r){var a;return(0,u.Z)(this,e),(a=n.call(this,t,s,i,r)).subType="agent-step-error",a}return(0,r.Z)(e)}(o),Z=function(){function t(){(0,u.Z)(this,t),this.messages={}}return(0,r.Z)(t,[{key:"add",value:function(t){if(t.id)if(this.messages.hasOwnProperty(t.id)){var n=this.messages[t.id].clone();n.content=t.content,n.hash=t.hash,t.hasOwnProperty("isRunning")&&(n.isRunning=t.isRunning),this.messages[t.id]=n}else this.messages[t.id]=t}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.values(this.messages).sort((function(n,e){return t?e.timestamp-n.timestamp:n.timestamp-e.timestamp}))}},{key:"clear",value:function(){this.messages={}}}]),t}()}}]);