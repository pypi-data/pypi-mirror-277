"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[1504,404],{41504:function(e,n,r){r.r(n);var t=r(45987),i=r(29439),a=r(1413),o=r(16390),s=r(60103),l=r(54730),u=r(32399),c=r(68134),d=r(92628),f=r(97519),m=r(73462),p=r(49305),h=r(25861),x=r(52720),Z=r(66161),j=r(85535),v=r(76399),b=r(22644),y=r(62652),g=r(7276),z=r(45263),w=["schema","uiSchema","formData","onChange","submitBtn","theme","validator","templates","widgets","disableAdvanced"],P=(0,g.lazy)((function(){return Promise.all([r.e(9907),r.e(2580),r.e(6783)]).then(r.bind(r,62580))})),C=(0,g.lazy)((function(){return r.e(1393).then(r.bind(r,63890))})),R=(0,g.lazy)((function(){return r.e(935).then(r.bind(r,80935))})),_=(0,g.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(5539),r.e(111),r.e(4880),r.e(686),r.e(6374)]).then(r.bind(r,16374))})),k=(0,g.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(111),r.e(3667),r.e(6279),r.e(7458)]).then(r.bind(r,96279))})),D=(0,g.lazy)((function(){return Promise.all([r.e(7420),r.e(2341)]).then(r.bind(r,16214))})),E=(0,g.lazy)((function(){return Promise.all([r.e(6419),r.e(2789),r.e(3960),r.e(9921),r.e(5539),r.e(111),r.e(4880),r.e(686),r.e(5831)]).then(r.bind(r,75831))})),T=(0,g.lazy)((function(){return r.e(8781).then(r.bind(r,68781))})),S=(0,g.lazy)((function(){return r.e(6317).then(r.bind(r,6317))})),A=(0,g.lazy)((function(){return r.e(4843).then(r.bind(r,64843))})),I=(0,g.lazy)((function(){return Promise.all([r.e(2789),r.e(111),r.e(2384)]).then(r.bind(r,12384))})),N=(0,g.lazy)((function(){return r.e(7437).then(r.bind(r,97437))})),F=(0,g.lazy)((function(){return Promise.all([r.e(7902),r.e(7533)]).then(r.bind(r,57533))})),B=(0,g.lazy)((function(){return r.e(4881).then(r.bind(r,34881))}));function L(e){return(0,z.jsx)(E,(0,a.Z)({},e))}function O(e){return(0,z.jsx)(S,(0,a.Z)({},e))}function W(e){return(0,z.jsx)(B,(0,a.Z)({},e))}function q(e){var n=e.id,r=e.children,t=e.classNames,a=e.style,o=e.disabled,u=e.displayLabel,c=e.hidden,d=e.label,f=e.onDropPropertyClick,m=e.onKeyChange,p=e.readonly,h=e.required,x=e.rawErrors,Z=void 0===x?[]:x,j=e.errors,v=e.help,b=e.rawDescription,w=e.schema,P=e.uiSchema,C=e.registry,R=(0,g.useState)(!1),_=(0,i.Z)(R,2),k=_[0],D=_[1],E=(0,y.LI)(P),T=(0,y.t4)("WrapIfAdditionalTemplate",C,E);return c?(0,z.jsx)("div",{style:{display:"none"},children:r}):(0,z.jsx)(T,{classNames:t,style:a,disabled:o,id:n,label:d,onDropPropertyClick:f,onKeyChange:m,readonly:p,required:h,schema:w,uiSchema:P,registry:C,children:(0,z.jsxs)(s.Z,{fullWidth:!0,error:!!Z.length,required:h,onFocus:function(e){D(!0)},onBlur:function(e){D(!1)},children:[r,u&&b?(0,z.jsx)(l.Z,{id:n,focused:k,children:b}):null,j,v]})})}function K(e){var n=e.options,r=e.registry,t=(0,y.t4)("BaseInputTemplate",r,n),i=5;return"string"!==typeof n.rows&&"number"!==typeof n.rows||(i=n.rows),(0,z.jsx)(t,(0,a.Z)((0,a.Z)({sx:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid rgb(204, 204, 204)"}}}},e),{},{multiline:!0,rows:i,variant:"outlined"}))}function J(e){return(0,z.jsx)(I,(0,a.Z)({},e))}function M(e){return(0,z.jsx)(D,(0,a.Z)({},e))}function G(e){var n=e.chat_message;if(n.content)return(0,z.jsx)(u.Z,{primary:n.content});if(n.function_call){var r=n.function_call.name,t=JSON.parse(n.function_call.arguments),i=Object.keys(t).map((function(e){return"".concat(e,'="').concat(t[e],'"')})).join(",");return(0,z.jsx)("div",{children:(0,z.jsx)(u.Z,{primary:"Function",secondary:"".concat(r,"(").concat(i,")")})})}return null}var H=function(e){var n=e.value||[],r=0;return"string"===typeof n&&(n=[{content:n}]),(0,z.jsx)(c.Z,{className:"output-chat",style:{paddingTop:0},children:n.map((function(e){return(0,z.jsxs)(d.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:[(0,z.jsx)(f.Z,{children:(0,z.jsx)(m.Z,{color:"primary",label:e.role||"System"})}),(0,z.jsx)(G,{chat_message:e})]},r++)}))})},Q=function(e){var n=e.value||[],r=0;return(0,z.jsx)(c.Z,{className:"output-text",style:{paddingTop:0},children:n.map((function(e){return(0,z.jsx)(d.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:(0,z.jsx)(u.Z,{primary:e})},r++)}))})},U=function(e){var n=0;return(0,z.jsx)(p.Z,{className:"output-image",cols:2,gap:8,children:e.value.map((function(e){return(0,z.jsx)(h.Z,{children:(0,z.jsx)("img",{src:"".concat(e),loading:"lazy",alt:""})},n++)}))})},V=function(e){return(0,z.jsx)("audio",{src:e.value,controls:!0})},X=function(e){return(0,z.jsx)(R,(0,a.Z)((0,a.Z)({},e),{},{disableAdvanced:!1}))},Y=function(e){return(0,z.jsx)(R,(0,a.Z)((0,a.Z)({},e),{},{disableAdvanced:!0}))},$=function(e){return(0,z.jsx)(T,(0,a.Z)({},e))},ee=function(e){return(0,z.jsx)(_,(0,a.Z)({},e))},ne=function(e){return(0,z.jsx)(P,(0,a.Z)((0,a.Z)({},e),{},{richText:!0}))},re=function(e){return(0,z.jsx)(k,(0,a.Z)({},e))},te=function(e){return(0,z.jsx)(C,(0,a.Z)({},e))},ie=function(e){var n=e.errors;return(0,z.jsx)(x.Z,{elevation:2,children:(0,z.jsxs)(Z.Z,{mb:2,p:2,children:[(0,z.jsx)(j.Z,{variant:"h6",children:"Errors"}),(0,z.jsx)(c.Z,{dense:!0,children:n.map((function(e,n){return(0,z.jsxs)(d.ZP,{dense:!0,children:[(0,z.jsx)(v.Z,{children:(0,z.jsx)(o.Z,{color:"error"})}),(0,z.jsx)(u.Z,{primary:e.message})]},n)}))})]})})};n.default=function(e){var n=e.schema,r=e.uiSchema,i=e.formData,o=e.onChange,s=e.submitBtn,l=void 0===s?(0,z.jsx)("div",{}):s,u=(e.theme,e.validator),c=e.templates,d=void 0===c?{}:c,f=e.widgets,m=void 0===f?{}:f,p=e.disableAdvanced,h=void 0!==p&&p,x=(0,t.Z)(e,w),Z=x.createAsset;(0,g.useEffect)((function(){var e,n,r;null!==(e=x.formRef)&&void 0!==e&&null!==(n=e.current)&&void 0!==n&&null!==(r=n.formElement)&&void 0!==r&&r.current&&x.formRef.current.formElement.current.addEventListener("submit",(function(e){e.preventDefault()}))}),[x.formRef]);var j=(0,g.useCallback)((function(e){var n;return null!==e&&void 0!==e&&null!==(n=e.schema)&&void 0!==n&&n.stream?(0,z.jsx)(F,(0,a.Z)((0,a.Z)({},e),{},{createAsset:Z,formRef:x.formRef})):(0,z.jsx)(A,(0,a.Z)({},e))}),[Z,x.formRef]);return(0,z.jsx)(b.ZP,(0,a.Z)((0,a.Z)({ref:x.formRef},x),{},{schema:n,uiSchema:r,validator:u,formData:i,onChange:o,templates:(0,a.Z)({ErrorListTemplate:ie,FieldTemplate:q,ObjectFieldTemplate:h?Y:X},d),fields:{multi:function(e){return(0,z.jsx)(N,(0,a.Z)((0,a.Z)({},e),{},{formRef:x.formRef,onCancel:x.onCancel}))}},widgets:(0,a.Z)((0,a.Z)({},{customselect:J,TextareaWidget:K,FileWidget:M,output_chat:H,output_text:Q,output_image:U,output_audio:V,datasource:re,gdrive:L,webpageurls:O,password:$,connection:ee,richtext:ne,voice:j,app_version:te,promptlyapp_select:W}),m),transformErrors:null===x||void 0===x?void 0:x.transformErrors,children:l}))}}}]);