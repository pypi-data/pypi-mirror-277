/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ([
/* 0 */,
/* 1 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   _append: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._append),
/* harmony export */   _change: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__._change),
/* harmony export */   _changeVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__._changeVNode),
/* harmony export */   _changeVNodeChildren: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__._changeVNodeChildren),
/* harmony export */   _changeVNodeData: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__._changeVNodeData),
/* harmony export */   _concat: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._concat),
/* harmony export */   _contains: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._contains),
/* harmony export */   _equals: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._equals),
/* harmony export */   _filter: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._filter),
/* harmony export */   _find: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._find),
/* harmony export */   _findIndex: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._findIndex),
/* harmony export */   _get: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__._get),
/* harmony export */   _getVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__._getVNode),
/* harmony export */   _insert: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._insert),
/* harmony export */   _islice: () => (/* reexport safe */ _iter_js__WEBPACK_IMPORTED_MODULE_3__._islice),
/* harmony export */   _map: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._map),
/* harmony export */   _merge: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._merge),
/* harmony export */   _move: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__._move),
/* harmony export */   _omit: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__._omit),
/* harmony export */   _omitVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__._omitVNode),
/* harmony export */   _pick: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._pick),
/* harmony export */   _queryAllVNodePaths: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__._queryAllVNodePaths),
/* harmony export */   _queryVNodePath: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__._queryVNodePath),
/* harmony export */   _reduce: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._reduce),
/* harmony export */   _repeat: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._repeat),
/* harmony export */   _set: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__._set),
/* harmony export */   _setVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__._setVNode),
/* harmony export */   _slice: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._slice),
/* harmony export */   _sort: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._sort),
/* harmony export */   _sortBy: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._sortBy),
/* harmony export */   _union: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__._union),
/* harmony export */   append: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.append),
/* harmony export */   change: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__.change),
/* harmony export */   changeVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.changeVNode),
/* harmony export */   changeVNodeChildren: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.changeVNodeChildren),
/* harmony export */   changeVNodeData: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.changeVNodeData),
/* harmony export */   clone: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.clone),
/* harmony export */   concat: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.concat),
/* harmony export */   contains: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.contains),
/* harmony export */   createFuture: () => (/* reexport safe */ _promise_js__WEBPACK_IMPORTED_MODULE_8__.createFuture),
/* harmony export */   curry: () => (/* reexport safe */ _curry_js__WEBPACK_IMPORTED_MODULE_0__.curry),
/* harmony export */   curryN: () => (/* reexport safe */ _curry_js__WEBPACK_IMPORTED_MODULE_0__.curryN),
/* harmony export */   dec: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.dec),
/* harmony export */   delay: () => (/* reexport safe */ _promise_js__WEBPACK_IMPORTED_MODULE_8__.delay),
/* harmony export */   draggerMouseDownHandler: () => (/* reexport safe */ _dragger_js__WEBPACK_IMPORTED_MODULE_1__.draggerMouseDownHandler),
/* harmony export */   equals: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.equals),
/* harmony export */   filter: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.filter),
/* harmony export */   find: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.find),
/* harmony export */   findIndex: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.findIndex),
/* harmony export */   flap: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.flap),
/* harmony export */   flatten: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.flatten),
/* harmony export */   flattenVNodeChildren: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.flattenVNodeChildren),
/* harmony export */   fromPairs: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.fromPairs),
/* harmony export */   get: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__.get),
/* harmony export */   getFlatVNodeChildren: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.getFlatVNodeChildren),
/* harmony export */   getVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.getVNode),
/* harmony export */   getVNodeChildren: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.getVNodeChildren),
/* harmony export */   identity: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.identity),
/* harmony export */   inc: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.inc),
/* harmony export */   insert: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.insert),
/* harmony export */   isArray: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.isArray),
/* harmony export */   isBoolean: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.isBoolean),
/* harmony export */   isInteger: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.isInteger),
/* harmony export */   isNil: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.isNil),
/* harmony export */   isNumber: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.isNumber),
/* harmony export */   isObject: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.isObject),
/* harmony export */   isString: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.isString),
/* harmony export */   isVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.isVNode),
/* harmony export */   isVNodeWithData: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.isVNodeWithData),
/* harmony export */   isVNodeWithoutData: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.isVNodeWithoutData),
/* harmony export */   islice: () => (/* reexport safe */ _iter_js__WEBPACK_IMPORTED_MODULE_3__.islice),
/* harmony export */   length: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.length),
/* harmony export */   loadFile: () => (/* reexport safe */ _file_js__WEBPACK_IMPORTED_MODULE_2__.loadFile),
/* harmony export */   map: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.map),
/* harmony export */   merge: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.merge),
/* harmony export */   mergeAll: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.mergeAll),
/* harmony export */   move: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__.move),
/* harmony export */   not: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.not),
/* harmony export */   omit: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__.omit),
/* harmony export */   omitVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.omitVNode),
/* harmony export */   patch: () => (/* reexport safe */ _patch_js__WEBPACK_IMPORTED_MODULE_6__.patch),
/* harmony export */   pick: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.pick),
/* harmony export */   pipe: () => (/* reexport safe */ _pipe_js__WEBPACK_IMPORTED_MODULE_7__.pipe),
/* harmony export */   queryAllVNodePaths: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.queryAllVNodePaths),
/* harmony export */   queryVNodePath: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.queryVNodePath),
/* harmony export */   reduce: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.reduce),
/* harmony export */   repeat: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.repeat),
/* harmony export */   reverse: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.reverse),
/* harmony export */   saveFile: () => (/* reexport safe */ _file_js__WEBPACK_IMPORTED_MODULE_2__.saveFile),
/* harmony export */   set: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_4__.set),
/* harmony export */   setVNode: () => (/* reexport safe */ _vnode_js__WEBPACK_IMPORTED_MODULE_10__.setVNode),
/* harmony export */   sleep: () => (/* reexport safe */ _promise_js__WEBPACK_IMPORTED_MODULE_8__.sleep),
/* harmony export */   slice: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.slice),
/* harmony export */   sort: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.sort),
/* harmony export */   sortBy: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.sortBy),
/* harmony export */   strictParseFloat: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.strictParseFloat),
/* harmony export */   strictParseInt: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.strictParseInt),
/* harmony export */   timestampToLocalString: () => (/* reexport safe */ _timestamp_js__WEBPACK_IMPORTED_MODULE_9__.timestampToLocalString),
/* harmony export */   toPairs: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.toPairs),
/* harmony export */   union: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.union),
/* harmony export */   zip: () => (/* reexport safe */ _misc_js__WEBPACK_IMPORTED_MODULE_5__.zip)
/* harmony export */ });
/* harmony import */ var _curry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _dragger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);
/* harmony import */ var _file_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);
/* harmony import */ var _iter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5);
/* harmony import */ var _json_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6);
/* harmony import */ var _misc_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7);
/* harmony import */ var _patch_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(8);
/* harmony import */ var _pipe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9);
/* harmony import */ var _promise_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(10);
/* harmony import */ var _timestamp_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(11);
/* harmony import */ var _vnode_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(12);













/***/ }),
/* 2 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   curry: () => (/* binding */ curry),
/* harmony export */   curryN: () => (/* binding */ curryN)
/* harmony export */ });
/**
 * Curry function with fixed arguments lenth
 *
 * Function arity is determined based on function's length property.
 */
function curry(fn) {
    return curryN(fn.length, fn);
}
/**
 * Curry function with fixed arguments lenth
 *
 * Function arity is provided as first argument.
 */
function curryN(arity, fn) {
    function wrapper(prevArgs) {
        return function (...args) {
            const allArgs = [...prevArgs, ...args];
            if (allArgs.length >= arity)
                return fn(...allArgs);
            return wrapper(allArgs);
        };
    }
    return wrapper([]);
}


/***/ }),
/* 3 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   draggerMouseDownHandler: () => (/* binding */ draggerMouseDownHandler)
/* harmony export */ });
// TODO docs
const draggers = [];
function draggerMouseDownHandler(createMoveHandlerCb) {
    return evt => {
        const moveHandler = createMoveHandlerCb(evt);
        if (!moveHandler)
            return;
        draggers.push({
            initX: evt.screenX,
            initY: evt.screenY,
            moveHandler: moveHandler
        });
    };
}
document.addEventListener('mousemove', evt => {
    for (const dragger of draggers) {
        const dx = evt.screenX - dragger.initX;
        const dy = evt.screenY - dragger.initY;
        dragger.moveHandler(evt, dx, dy);
    }
});
document.addEventListener('mouseup', () => {
    draggers.splice(0);
});


/***/ }),
/* 4 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadFile: () => (/* binding */ loadFile),
/* harmony export */   saveFile: () => (/* binding */ saveFile)
/* harmony export */ });
/**
 * Load file
 */
function loadFile(ext) {
    const el = document.createElement('input');
    el.style = 'display: none';
    el.type = 'file';
    el.accept = ext;
    document.body.appendChild(el);
    return new Promise(resolve => {
        const listener = (evt) => {
            const f = evt.target.files?.[0] ?? null;
            document.body.removeChild(el);
            resolve(f);
        };
        el.addEventListener('change', listener);
        // TODO blur not fired on close???
        el.addEventListener('blur', listener);
        el.click();
    });
}
/**
 * Save file
 */
function saveFile(f) {
    const a = document.createElement('a');
    a.download = f.name;
    a.rel = 'noopener';
    a.href = URL.createObjectURL(f);
    setTimeout(() => { URL.revokeObjectURL(a.href); }, 20000);
    setTimeout(() => { a.click(); }, 0);
}


/***/ }),
/* 5 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   _islice: () => (/* binding */ _islice),
/* harmony export */   islice: () => (/* binding */ islice)
/* harmony export */ });
/* harmony import */ var _curry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);

function* _islice(start, stop, x) {
    if (start < 0) {
        start = x.length + start;
        if (start < 0)
            start = 0;
    }
    if (stop == null || stop > x.length) {
        stop = x.length;
    }
    else if (stop < 0) {
        stop = x.length + stop;
    }
    for (let i = start; i < stop; ++i)
        yield x[i];
}
const islice = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_islice);


/***/ }),
/* 6 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   _change: () => (/* binding */ _change),
/* harmony export */   _get: () => (/* binding */ _get),
/* harmony export */   _move: () => (/* binding */ _move),
/* harmony export */   _omit: () => (/* binding */ _omit),
/* harmony export */   _set: () => (/* binding */ _set),
/* harmony export */   change: () => (/* binding */ change),
/* harmony export */   get: () => (/* binding */ get),
/* harmony export */   move: () => (/* binding */ move),
/* harmony export */   omit: () => (/* binding */ omit),
/* harmony export */   set: () => (/* binding */ set)
/* harmony export */ });
/* harmony import */ var _curry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _misc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);


/**
 * Get value referenced by path
 *
 * If input value doesn't contain provided path value, `null` is returned.
 */
function _get(path, x) {
    let ret = x;
    for (const i of (0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.flatten)(path)) {
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isNumber)(i) && (0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(ret)) {
            ret = ret[i];
        }
        else if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isString)(i) && (0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(ret)) {
            ret = ret[i];
        }
        else {
            return null;
        }
        if (ret == null)
            return null;
    }
    return ret;
}
/**
 * Curried `_get`
 */
const get = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_get);
/**
 * Change value referenced with path by appling function
 */
function _change(path, fn, x) {
    return (function _change(path, x) {
        if (path.length < 1)
            return fn(x);
        const [first, ...rest] = path;
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isNumber)(first)) {
            const ret = ((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(x) ? Array.from(x) : (0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.repeat)(null, first));
            ret[first] = _change(rest, ret[first]);
            return ret;
        }
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isString)(first)) {
            const ret = ((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(x) ? Object.assign({}, x) : {});
            ret[first] = _change(rest, ret[first]);
            return ret;
        }
        throw Error('invalid path');
    })((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.flatten)(path), x);
}
/**
 * Curried `_change`
 */
const change = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_change);
/**
 * Replace value referenced with path with another value
 */
function _set(path, val, x) {
    return _change(path, (_) => val, x);
}
/**
 * Curried `_set`
 */
const set = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_set);
/**
 * Omitting value referenced by path
 */
function _omit(path, x) {
    function _omit(path, x) {
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isNumber)(path[0])) {
            if (!(0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(x))
                return x;
            const ret = Array.from(x);
            if (path.length > 1) {
                ret[path[0]] = _omit(path.slice(1), ret[path[0]]);
            }
            else {
                ret.splice(path[0], 1);
            }
            return ret;
        }
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isString)(path[0])) {
            if (!(0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(x))
                return x;
            const ret = Object.assign({}, x);
            if (path.length > 1) {
                ret[path[0]] = _omit(path.slice(1), ret[path[0]]);
            }
            else {
                delete ret[path[0]];
            }
            return ret;
        }
        throw Error('invalid path');
    }
    const flatPath = (0,_misc_js__WEBPACK_IMPORTED_MODULE_1__.flatten)(path);
    if (flatPath.length < 1)
        return null;
    return _omit(flatPath, x);
}
/**
 * Curried `_omit`
 */
const omit = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_omit);
/**
 * Change by moving value from source path to destination path
 */
function _move(srcPath, dstPath, x) {
    const srcVal = _get(srcPath, x);
    return _omit(srcPath, _set(dstPath, srcVal, x));
}
/**
 * Curried `_move`
 */
const move = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_move);


/***/ }),
/* 7 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   _append: () => (/* binding */ _append),
/* harmony export */   _concat: () => (/* binding */ _concat),
/* harmony export */   _contains: () => (/* binding */ _contains),
/* harmony export */   _equals: () => (/* binding */ _equals),
/* harmony export */   _filter: () => (/* binding */ _filter),
/* harmony export */   _find: () => (/* binding */ _find),
/* harmony export */   _findIndex: () => (/* binding */ _findIndex),
/* harmony export */   _insert: () => (/* binding */ _insert),
/* harmony export */   _map: () => (/* binding */ _map),
/* harmony export */   _merge: () => (/* binding */ _merge),
/* harmony export */   _pick: () => (/* binding */ _pick),
/* harmony export */   _reduce: () => (/* binding */ _reduce),
/* harmony export */   _repeat: () => (/* binding */ _repeat),
/* harmony export */   _slice: () => (/* binding */ _slice),
/* harmony export */   _sort: () => (/* binding */ _sort),
/* harmony export */   _sortBy: () => (/* binding */ _sortBy),
/* harmony export */   _union: () => (/* binding */ _union),
/* harmony export */   append: () => (/* binding */ append),
/* harmony export */   clone: () => (/* binding */ clone),
/* harmony export */   concat: () => (/* binding */ concat),
/* harmony export */   contains: () => (/* binding */ contains),
/* harmony export */   dec: () => (/* binding */ dec),
/* harmony export */   equals: () => (/* binding */ equals),
/* harmony export */   filter: () => (/* binding */ filter),
/* harmony export */   find: () => (/* binding */ find),
/* harmony export */   findIndex: () => (/* binding */ findIndex),
/* harmony export */   flap: () => (/* binding */ flap),
/* harmony export */   flatten: () => (/* binding */ flatten),
/* harmony export */   fromPairs: () => (/* binding */ fromPairs),
/* harmony export */   identity: () => (/* binding */ identity),
/* harmony export */   inc: () => (/* binding */ inc),
/* harmony export */   insert: () => (/* binding */ insert),
/* harmony export */   isArray: () => (/* binding */ isArray),
/* harmony export */   isBoolean: () => (/* binding */ isBoolean),
/* harmony export */   isInteger: () => (/* binding */ isInteger),
/* harmony export */   isNil: () => (/* binding */ isNil),
/* harmony export */   isNumber: () => (/* binding */ isNumber),
/* harmony export */   isObject: () => (/* binding */ isObject),
/* harmony export */   isString: () => (/* binding */ isString),
/* harmony export */   length: () => (/* binding */ length),
/* harmony export */   map: () => (/* binding */ map),
/* harmony export */   merge: () => (/* binding */ merge),
/* harmony export */   mergeAll: () => (/* binding */ mergeAll),
/* harmony export */   not: () => (/* binding */ not),
/* harmony export */   pick: () => (/* binding */ pick),
/* harmony export */   reduce: () => (/* binding */ reduce),
/* harmony export */   repeat: () => (/* binding */ repeat),
/* harmony export */   reverse: () => (/* binding */ reverse),
/* harmony export */   slice: () => (/* binding */ slice),
/* harmony export */   sort: () => (/* binding */ sort),
/* harmony export */   sortBy: () => (/* binding */ sortBy),
/* harmony export */   strictParseFloat: () => (/* binding */ strictParseFloat),
/* harmony export */   strictParseInt: () => (/* binding */ strictParseInt),
/* harmony export */   toPairs: () => (/* binding */ toPairs),
/* harmony export */   union: () => (/* binding */ union),
/* harmony export */   zip: () => (/* binding */ zip)
/* harmony export */ });
/* harmony import */ var _curry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);

/**
 * Identity function returning same value provided as argument.
 */
function identity(x) {
    return x;
}
/**
 * Check if value is `null` or `undefined`.
 *
 * For same argument, if this function returns `true`, functions `isBoolean`,
 * `isInteger`, `isNumber`, `isString`, `isArray` and `isObject` will return
 * `false`.
 */
function isNil(x) {
    return x == null;
}
/**
 * Check if value is Boolean.
 *
 * For same argument, if this function returns `true`, functions `isNil`,
 * `isInteger`, `isNumber`, `isString`, `isArray` and `isObject` will return
 * `false`.
 */
function isBoolean(x) {
    return typeof (x) == 'boolean';
}
/**
 * Check if value is Integer.
 *
 * For same argument, if this function returns `true`, function `isNumber` will
 * also return `true`.
 *
 * For same argument, if this function returns `true`, functions `isNil`,
 * `isBoolean`, `isString`, `isArray` and `isObject` will return `false`.
 */
function isInteger(x) {
    return Number.isInteger(x);
}
/**
 * Check if value is Number.
 *
 * For same argument, if this function returns `true`, function `isInteger` may
 * also return `true` if argument is integer number.
 *
 * For same argument, if this function returns `true`, functions `isNil`,
 * `isBoolean`, `isString`, `isArray` and `isObject` will return `false`.
 */
function isNumber(x) {
    return typeof (x) == 'number';
}
/**
 * Check if value is String.
 *
 * For same argument, if this function returns `true`, functions `isNil`,
 * `isBoolean`, `isInteger`, `isNumber`, `isArray`, and `isObject` will return
 * `false`.
 */
function isString(x) {
    return typeof (x) == 'string';
}
/**
 * Check if value is Array.
 *
 * For same argument, if this function returns `true`, functions `isNil`,
 * `isBoolean`, `isInteger`, `isNumber`, `isString`, and `isObject` will return
 * `false`.
 */
function isArray(x) {
    return Array.isArray(x);
}
/**
 * Check if value is Object.
 *
 * For same argument, if this function returns `true`, functions `isNil`,
 * `isBoolean`, `isInteger`, `isNumber`, `isString`, and `isArray` will return
 * `false`.
 */
function isObject(x) {
    return typeof (x) == 'object' && !isArray(x) && !isNil(x);
}
/**
 * Strictly parse integer from string
 *
 * If provided string doesn't represent integer value, `NaN` is returned.
 */
function strictParseInt(value) {
    if (/^(-|\+)?([0-9]+)$/.test(value))
        return Number(value);
    return NaN;
}
/**
 * Strictly parse floating point number from string
 *
 * If provided string doesn't represent valid number, `NaN` is returned.
 */
function strictParseFloat(value) {
    if (/^(-|\+)?([0-9]+(\.[0-9]+)?)$/.test(value))
        return Number(value);
    return NaN;
}
/**
 * Create new deep copy of input value.
 *
 * In case of Objects or Arrays, new instances are created with elements
 * obtained by recursivly calling `clone` in input argument values.
 */
function clone(x) {
    if (isArray(x))
        return Array.from(x, clone);
    if (isObject(x)) {
        const ret = {};
        for (const i in x)
            ret[i] = clone(x[i]);
        return ret;
    }
    return x;
}
/**
 * Combine two arrays in single array of pairs
 *
 * The returned array is truncated to the length of the shorter of the two
 * input arrays.
 */
function zip(arr1, arr2) {
    return Array.from((function* () {
        for (let i = 0; i < arr1.length && i < arr2.length; ++i)
            yield [arr1[i], arr2[i]];
    })());
}
/**
 * Convert object to array of key, value pairs
 */
function toPairs(obj) {
    return Object.entries(obj);
}
/**
 * Convert array of key, value pairs to object
 */
function fromPairs(arr) {
    return Object.fromEntries(arr);
}
/**
 * Flatten nested arrays.
 *
 * Create array with same elements as in input array where all elements which
 * are also arrays are replaced with elements of resulting recursive
 * application of flatten function.
 *
 * If argument is not an array, function returns the argument encapsulated in
 * an array.
 */
function flatten(arr) {
    return isArray(arr) ? arr.flat(Infinity) : [arr];
}
/**
 * Create function which applies list of functions to same arguments and
 * return list of results.
 */
function flap(...fns) {
    return (...args) => fns.map(fn => fn(...args));
}
/**
 * Deep object equality
 */
function _equals(x, y) {
    if (x === y)
        return true;
    if (typeof (x) != 'object' ||
        typeof (y) != 'object' ||
        x === null ||
        y === null)
        return false;
    if (Array.isArray(x) && Array.isArray(y)) {
        if (x.length != y.length)
            return false;
        for (let i = 0; i < x.length && i < y.length; ++i) {
            if (!_equals(x[i], y[i]))
                return false;
        }
        return true;
    }
    else if (!Array.isArray(x) && !Array.isArray(y)) {
        if (Object.keys(x).length != Object.keys(y).length)
            return false;
        for (const key in x) {
            if (!(key in y))
                return false;
        }
        for (const key in x) {
            if (!_equals(x[key], y[key]))
                return false;
        }
        return true;
    }
    return false;
}
/**
 * Curried `_equals`
 */
const equals = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_equals);
/**
 * Create array by repeating same value
 */
function _repeat(x, n) {
    return Array.from({ length: n }, _ => x);
}
/**
 * Curried `_repeat`
 */
const repeat = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_repeat);
/**
 * Sort array
 *
 * Comparison function receives two arguments representing array elements and
 * should return:
 *   - negative number in case first argument is more significant then second
 *   - zero in case first argument is equaly significant as second
 *   - positive number in case first argument is less significant then second
 */
function _sort(fn, arr) {
    return Array.from(arr).sort(fn);
}
/**
 * Curried `_sort`
 */
const sort = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_sort);
/**
 * Sort array based on results of appling function to it's elements
 *
 * Resulting order is determined by comparring function application results
 * with greater then and lesser then operators.
 */
function _sortBy(fn, arr) {
    return _sort((x, y) => {
        const xVal = fn(x);
        const yVal = fn(y);
        if (xVal < yVal)
            return -1;
        if (xVal > yVal)
            return 1;
        return 0;
    }, arr);
}
/**
 * Curried `_sortBy`
 */
const sortBy = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_sortBy);
/**
 * Create object containing only subset of selected properties
 */
function _pick(arr, obj) {
    const ret = {};
    for (const i of arr) {
        if (i in obj) {
            ret[i] = obj[i];
        }
    }
    return ret;
}
/**
 * Curried `_pick`
 */
const pick = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_pick);
function _map(fn, x) {
    if (isArray(x))
        return x.map(fn);
    const res = {};
    for (const k in x)
        res[k] = fn(x[k], k, x);
    return res;
}
/**
 * Curried `_map`
 */
const map = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_map);
/**
 * Change array to contain only elements for which function returns `true`
 */
function _filter(fn, arr) {
    return arr.filter(fn);
}
/**
 * Curried `_filter`
 */
const filter = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_filter);
/**
 * Append value to end of array
 */
function _append(val, arr) {
    return [...arr, val];
}
/**
 * Curried `_append`
 */
const append = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_append);
function _reduce(fn, val, x) {
    if (isArray(x))
        return x.reduce(fn, val);
    let acc = val;
    for (const k in x)
        acc = fn(acc, x[k], k, x);
    return acc;
}
/**
 * Curried `_reduce`
 */
const reduce = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_reduce);
/**
 * Merge two objects
 *
 * If same property exist in both arguments, second argument's value is used
 * as resulting value
 */
function _merge(x, y) {
    return Object.assign({}, x, y);
}
/**
 * Curried `_merge`
 */
const merge = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_merge);
/**
 * Merge multiple objects
 *
 * If same property exist in multiple arguments, value from the last argument
 * containing that property is used
 */
function mergeAll(objs) {
    return Object.assign({}, ...objs);
}
function _find(fn, x) {
    if (isArray(x))
        return x.find(fn);
    for (const k in x)
        if (fn(x[k], k, x))
            return x[k];
}
/**
 * Curried `_find`
 */
const find = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_find);
function _findIndex(fn, x) {
    if (isArray(x)) {
        const index = x.findIndex(fn);
        return (index >= 0 ? index : undefined);
    }
    for (const k in x)
        if (fn(x[k], k, x))
            return k;
}
/**
 * Curried `_findIndex`
 */
const findIndex = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_findIndex);
/**
 * Concatenate two arrays
 */
function _concat(x, y) {
    return x.concat(y);
}
/**
 * Curried `_concat`
 */
const concat = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_concat);
/**
 * Create union of two arrays using `equals` to check equality
 */
function _union(x, y) {
    const result = [];
    for (const arr of [x, y])
        for (const i of arr)
            if (!_find(equals(i), result))
                result.push(i);
    return result;
}
/**
 * Curried `_union`
 */
const union = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_union);
/**
 * Check if array contains value using `equals` to check equality
 *
 * TODO: add support for objects (should we check for keys or values?)
 */
function _contains(val, arr) {
    for (const i of arr)
        if (_equals(val, i))
            return true;
    return false;
}
/**
 * Curried `_contains`
 */
const contains = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_contains);
/**
 * Insert value into array on specified index
 */
function _insert(idx, val, arr) {
    return [...arr.slice(0, idx), val, ...arr.slice(idx)];
}
/**
 * Curried `_insert`
 */
const insert = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_insert);
/**
 * Get array slice
 */
function _slice(begin, end, arr) {
    return arr.slice(begin, (end != null ? end : undefined));
}
/**
 * Curried `_slice`
 */
const slice = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_slice);
/**
 * Reverse array
 */
function reverse(arr) {
    return Array.from(arr).reverse();
}
/**
 * Array length
 */
function length(arr) {
    return arr.length;
}
/**
 * Increment value
 */
function inc(val) {
    return val + 1;
}
/**
 * Decrement value
 */
function dec(val) {
    return val - 1;
}
/**
 * Logical not
 */
function not(val) {
    return !val;
}


/***/ }),
/* 8 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   patch: () => (/* binding */ patch)
/* harmony export */ });
/* harmony import */ var _curry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _iter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
/* harmony import */ var _misc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);



const patch = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)((diff, data) => {
    const reducer = (acc, i) => operations[i.op](i, acc);
    return diff.reduce(reducer, data);
});
function opAdd(op, data) {
    const path = parsePointer(op.path);
    return _add(path, op.value, data);
}
function opRemove(op, data) {
    const path = parsePointer(op.path);
    return _remove(path, data);
}
function opReplace(op, data) {
    const path = parsePointer(op.path);
    return _replace(path, op.value, data);
}
function opMove(op, data) {
    const from = parsePointer(op.from);
    const path = parsePointer(op.path);
    if (path.length > from.length && (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.equals)(from, path.slice(0, from.length)))
        throw Error("path can't be child of from");
    const val = _get(from, data);
    return _add(path, val, _remove(from, data));
}
function opCopy(op, data) {
    const from = parsePointer(op.from);
    const path = parsePointer(op.path);
    const val = _get(from, data);
    return _add(path, val, data);
}
function opTest(op, data) {
    const path = parsePointer(op.path);
    const val = _get(path, data);
    if (!(0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.equals)(val, op.value))
        throw Error("invalid value");
    return data;
}
const operations = {
    add: opAdd,
    remove: opRemove,
    replace: opReplace,
    move: opMove,
    copy: opCopy,
    test: opTest
};
function unescapePointerSegment(segment) {
    return segment.replaceAll('~1', '/').replaceAll('~0', '~');
}
function parsePointer(pointer) {
    if (pointer == '')
        return [];
    const segments = pointer.split('/');
    if (segments[0] != '')
        throw Error("invalid pointer");
    return segments.slice(1).map(unescapePointerSegment);
}
function _add(path, val, data) {
    if (path.length < 1)
        return val;
    const key = path[0];
    if (path.length < 2) {
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data)) {
            if (key == '-')
                return [...data, val];
            const index = (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.strictParseInt)(key);
            if (Number.isNaN(index) || index > data.length || index < 0)
                throw Error("invalid array index");
            return [
                ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(0, index, data),
                val,
                ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(index, null, data)
            ];
        }
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(data))
            return Object.assign({}, data, { [key]: val });
        throw Error("invalid data type");
    }
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data)) {
        const index = (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.strictParseInt)(key);
        if (Number.isNaN(index) || index > data.length - 1 || index < 0)
            throw Error("invalid array index");
        return [
            ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(0, index, data),
            _add(path.slice(1), val, data[index]),
            ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(index + 1, null, data)
        ];
    }
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(data)) {
        if (!(key in data))
            throw Error("invalid object key");
        return Object.assign({}, data, { [key]: _add(path.slice(1), val, data[key]) });
    }
    throw Error("invalid data type");
}
function _remove(path, data) {
    if (path.length < 1)
        return null;
    const key = path[0];
    if (path.length < 2) {
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data)) {
            const index = (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.strictParseInt)(key);
            if (Number.isNaN(index) || index > data.length - 1 || index < 0)
                throw Error("invalid array index");
            return [
                ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(0, index, data),
                ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(index + 1, null, data)
            ];
        }
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(data)) {
            if (!(key in data))
                throw Error("invalid object key");
            const ret = Object.assign({}, data);
            delete ret[key];
            return ret;
        }
        throw Error("invalid data type");
    }
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data)) {
        const index = (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.strictParseInt)(key);
        if (Number.isNaN(index) || index > data.length - 1 || index < 0)
            throw Error("invalid array index");
        return [
            ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(0, index, data),
            _remove(path.slice(1), data[index]),
            ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(index + 1, null, data)
        ];
    }
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(data)) {
        if (!(key in data))
            throw Error("invalid object key");
        return Object.assign({}, data, { [key]: _remove(path.slice(1), data[key]) });
    }
    throw Error("invalid data type");
}
function _replace(path, val, data) {
    if (path.length < 1)
        return val;
    const key = path[0];
    if (path.length < 2) {
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data)) {
            const index = (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.strictParseInt)(key);
            if (Number.isNaN(index) || index > data.length - 1 || index < 0)
                throw Error("invalid array index");
            return [
                ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(0, index, data),
                val,
                ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(index + 1, null, data)
            ];
        }
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(data)) {
            if (!(key in data))
                throw Error("invalid object key");
            return Object.assign({}, data, { [key]: val });
        }
        throw Error("invalid data type");
    }
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data)) {
        const index = (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.strictParseInt)(key);
        if (Number.isNaN(index) || index > data.length - 1 || index < 0)
            throw Error("invalid array index");
        return [
            ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(0, index, data),
            _replace(path.slice(1), val, data[index]),
            ...(0,_iter_js__WEBPACK_IMPORTED_MODULE_1__._islice)(index + 1, null, data)
        ];
    }
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(data)) {
        if (!(key in data))
            throw Error("invalid object key");
        return Object.assign({}, data, { [key]: _replace(path.slice(1), val, data[key]) });
    }
    throw Error("invalid data type");
}
function _get(path, data) {
    if (path.length < 1)
        return data;
    const key = path[0];
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data)) {
        const index = (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.strictParseInt)(key);
        if (Number.isNaN(index) || index > data.length - 1 || index < 0)
            throw Error("invalid array index");
        return _get(path.slice(1), data[index]);
    }
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(data)) {
        if (!(key in data))
            throw Error("invalid object key");
        return _get(path.slice(1), data[key]);
    }
    throw Error("invalid data type");
}


/***/ }),
/* 9 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   pipe: () => (/* binding */ pipe)
/* harmony export */ });
function pipe(first, ...rest) {
    return function (...args) {
        if (!first)
            return args[0];
        let ret = first(...args);
        for (const fn of rest)
            ret = fn(ret);
        return ret;
    };
}


/***/ }),
/* 10 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createFuture: () => (/* binding */ createFuture),
/* harmony export */   delay: () => (/* binding */ delay),
/* harmony export */   sleep: () => (/* binding */ sleep)
/* harmony export */ });
/**
 * Create promise that resolves in `t` milliseconds
 */
function sleep(t) {
    return new Promise(resolve => {
        setTimeout(() => { resolve(); }, t);
    });
}
/**
 * Delay function call `fn(...args)` for `t` milliseconds
 */
function delay(fn, t = 0, ...args) {
    return new Promise(resolve => {
        setTimeout(() => { resolve(fn(...args)); }, t);
    });
}
/**
 * Create new future instance
 */
function createFuture() {
    const data = {
        done: false,
        error: false,
        result: undefined,
        resolve: null,
        reject: null
    };
    const future = new Promise((resolve, reject) => {
        data.resolve = resolve;
        data.reject = reject;
        if (data.error) {
            reject(data.result);
        }
        else if (data.done) {
            resolve(data.result);
        }
    });
    future.done = () => data.done;
    future.result = () => {
        if (!data.done)
            throw new Error('future is not done');
        if (data.error)
            throw data.result;
        return data.result;
    };
    future.setResult = result => {
        if (data.done)
            throw new Error('result already set');
        data.result = result;
        data.done = true;
        if (data.resolve)
            data.resolve(data.result);
    };
    future.setError = error => {
        if (data.done)
            throw new Error('result already set');
        data.error = true;
        data.result = error;
        data.done = true;
        if (data.reject)
            data.reject(error);
    };
    return future;
}


/***/ }),
/* 11 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   timestampToLocalString: () => (/* binding */ timestampToLocalString)
/* harmony export */ });
/**
 * Format timestamp `t` (in seconds) as "YYYY-mm-dd HH:MM:SS.fff" in local time
 */
function timestampToLocalString(t) {
    const date = new Date(t * 1000);
    const YYYY = String(date.getFullYear()).padStart(4, '0');
    const mm = String(date.getMonth() + 1).padStart(2, '0');
    const dd = String(date.getDate()).padStart(2, '0');
    const HH = String(date.getHours()).padStart(2, '0');
    const MM = String(date.getMinutes()).padStart(2, '0');
    const SS = String(date.getSeconds()).padStart(2, '0');
    const fff = String(date.getMilliseconds()).padStart(3, '0');
    return `${YYYY}-${mm}-${dd} ${HH}:${MM}:${SS}.${fff}`;
}


/***/ }),
/* 12 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   _changeVNode: () => (/* binding */ _changeVNode),
/* harmony export */   _changeVNodeChildren: () => (/* binding */ _changeVNodeChildren),
/* harmony export */   _changeVNodeData: () => (/* binding */ _changeVNodeData),
/* harmony export */   _getVNode: () => (/* binding */ _getVNode),
/* harmony export */   _omitVNode: () => (/* binding */ _omitVNode),
/* harmony export */   _queryAllVNodePaths: () => (/* binding */ _queryAllVNodePaths),
/* harmony export */   _queryVNodePath: () => (/* binding */ _queryVNodePath),
/* harmony export */   _setVNode: () => (/* binding */ _setVNode),
/* harmony export */   changeVNode: () => (/* binding */ changeVNode),
/* harmony export */   changeVNodeChildren: () => (/* binding */ changeVNodeChildren),
/* harmony export */   changeVNodeData: () => (/* binding */ changeVNodeData),
/* harmony export */   flattenVNodeChildren: () => (/* binding */ flattenVNodeChildren),
/* harmony export */   getFlatVNodeChildren: () => (/* binding */ getFlatVNodeChildren),
/* harmony export */   getVNode: () => (/* binding */ getVNode),
/* harmony export */   getVNodeChildren: () => (/* binding */ getVNodeChildren),
/* harmony export */   isVNode: () => (/* binding */ isVNode),
/* harmony export */   isVNodeWithData: () => (/* binding */ isVNodeWithData),
/* harmony export */   isVNodeWithoutData: () => (/* binding */ isVNodeWithoutData),
/* harmony export */   omitVNode: () => (/* binding */ omitVNode),
/* harmony export */   queryAllVNodePaths: () => (/* binding */ queryAllVNodePaths),
/* harmony export */   queryVNodePath: () => (/* binding */ queryVNodePath),
/* harmony export */   setVNode: () => (/* binding */ setVNode)
/* harmony export */ });
/* harmony import */ var _curry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _json_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var _misc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);



function isVNodeWithoutData(node) {
    return node.length < 2 || !(0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(node[1]);
}
function isVNodeWithData(node) {
    return node.length > 1 && (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(node[1]);
}
function isVNode(child) {
    return (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(child) && child.length > 0 && (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child[0]);
}
function getVNodeChildren(node) {
    return node.slice(isVNodeWithData(node) ? 2 : 1);
}
function getFlatVNodeChildren(node) {
    const children = [];
    const childrenStart = (isVNodeWithData(node) ? 2 : 1);
    for (let i = childrenStart; i < node.length; ++i) {
        const child = node[i];
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child) || isVNode(child)) {
            children.push(child);
        }
        else {
            for (const flatChild of flattenVNodeChildren(child))
                children.push(flatChild);
        }
    }
    return children;
}
function* flattenVNodeChildren(children) {
    for (const child of children) {
        if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child) || isVNode(child)) {
            yield child;
        }
        else {
            yield* flattenVNodeChildren(child);
        }
    }
}
function _changeVNodeData(fn, node) {
    const data = fn(isVNodeWithData(node) ? node[1] : null);
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isNil)(data)) {
        if (isVNodeWithoutData(node))
            return node;
        const result = Array.from(node);
        result.splice(1, 1);
        return result;
    }
    return [node[0], data, ...getVNodeChildren(node)];
}
const changeVNodeData = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_changeVNodeData);
function _changeVNodeChildren(fn, node) {
    const children = fn(getVNodeChildren(node));
    const head = node.slice(0, (isVNodeWithoutData(node) ? 1 : 2));
    return [...head, ...children];
}
const changeVNodeChildren = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_changeVNodeChildren);
function _queryVNodePath(selector, tree) {
    const first = _queryAllVNodePaths(selector, tree).next();
    return (first.done ? null : first.value);
}
const queryVNodePath = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_queryVNodePath);
function* _queryAllVNodePaths(selector, tree) {
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isString)(tree))
        return;
    if (isVNode(tree) && testSelector(selector, tree))
        yield [];
    const childrenStart = (isVNode(tree) ?
        (isVNodeWithData(tree) ? 2 : 1) :
        0);
    for (let i = childrenStart; i < tree.length; ++i)
        for (const path of _queryAllVNodePaths(selector, tree[i]))
            yield [i, ...path];
}
const queryAllVNodePaths = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_queryAllVNodePaths);
function _getVNode(path, tree) {
    const node = (0,_json_js__WEBPACK_IMPORTED_MODULE_1__._get)(path, tree);
    return (isVNode(node) ? node : null);
}
const getVNode = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_getVNode);
function _changeVNode(path, fn, tree) {
    return (0,_json_js__WEBPACK_IMPORTED_MODULE_1__._change)(path, node => (isVNode(node) ? fn(node) : node), tree);
}
const changeVNode = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_changeVNode);
function _setVNode(path, node, tree) {
    return (0,_json_js__WEBPACK_IMPORTED_MODULE_1__._change)(path, x => ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(x) || (0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isString)(x) ? node : x), tree);
}
const setVNode = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_setVNode);
function _omitVNode(path, tree) {
    if ((0,_misc_js__WEBPACK_IMPORTED_MODULE_2__.isNil)(_getVNode(path, tree)))
        return tree;
    return (0,_json_js__WEBPACK_IMPORTED_MODULE_1__._omit)(path, tree);
}
const omitVNode = (0,_curry_js__WEBPACK_IMPORTED_MODULE_0__.curry)(_omitVNode);
function testSelector(selector, node) {
    selector;
    node;
    // TODO
    return false;
}


/***/ }),
/* 13 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChangeEvent: () => (/* binding */ ChangeEvent),
/* harmony export */   RenderEvent: () => (/* binding */ RenderEvent),
/* harmony export */   Renderer: () => (/* binding */ Renderer),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _vdom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14);


class RenderEvent extends CustomEvent {
    constructor(state) {
        super('render', { detail: state });
    }
}
class ChangeEvent extends CustomEvent {
    constructor(state) {
        super('change', { detail: state });
    }
}
/**
 * Virtual DOM renderer
 *
 * Available events:
 *  - RenderEvent
 *  - ChangeEvent
 */
class Renderer extends EventTarget {
    _state = null;
    _changes = [];
    _promise = null;
    _timeout = null;
    _lastRender = null;
    _vtCb = null;
    _maxFps = 30;
    _vNode = document.body;
    /**
     * Calls `init` method
     */
    constructor(el = null, initState = null, vtCb = null, maxFps = 30) {
        super();
        this.init(el, initState, vtCb, maxFps);
    }
    /**
     * Initialize renderer
     *
     * If `el` is `null`, document body is used.
     */
    init(el, initState = null, vtCb = null, maxFps = 30) {
        this._state = null;
        this._changes = [];
        this._promise = null;
        this._timeout = null;
        this._lastRender = null;
        this._vtCb = vtCb;
        this._maxFps = maxFps;
        this._vNode = el || document.body;
        if (_hat_open_util__WEBPACK_IMPORTED_MODULE_0__.isNil(initState))
            return new Promise(resolve => { resolve(); });
        return this.set(initState);
    }
    /**
      * Render
      */
    render() {
        if (!this._vtCb)
            return;
        this._lastRender = performance.now();
        const vNode = _vdom_js__WEBPACK_IMPORTED_MODULE_1__.convertVNode(this._vtCb(this));
        _vdom_js__WEBPACK_IMPORTED_MODULE_1__.patch(this._vNode, vNode);
        this._vNode = vNode;
        this.dispatchEvent(new RenderEvent(this._state));
    }
    /**
     * Get current state value referenced by `paths`
     */
    get(...paths) {
        return _hat_open_util__WEBPACK_IMPORTED_MODULE_0__.get(paths, this._state);
    }
    set(x, y) {
        const path = (arguments.length < 2 ? [] : x);
        const value = (arguments.length < 2 ? x : y);
        return this.change(path, _ => value);
    }
    change(x, y) {
        const path = (arguments.length < 2 ? [] : x);
        const cb = (arguments.length < 2 ? x : y);
        this._changes.push([path, cb]);
        if (!this._promise)
            this._promise = new Promise((resolve, reject) => {
                setTimeout(() => {
                    try {
                        this._change();
                    }
                    catch (e) {
                        this._promise = null;
                        reject(e);
                        throw e;
                    }
                    this._promise = null;
                    resolve();
                }, 0);
            });
        return this._promise;
    }
    _change() {
        while (this._changes.length > 0) {
            let change = false;
            while (this._changes.length > 0) {
                const [path, cb] = this._changes.shift();
                const view = _hat_open_util__WEBPACK_IMPORTED_MODULE_0__.get(path);
                const oldState = this._state;
                this._state = _hat_open_util__WEBPACK_IMPORTED_MODULE_0__.change(path, cb, this._state);
                if (this._state && _hat_open_util__WEBPACK_IMPORTED_MODULE_0__.equals(view(oldState), view(this._state)))
                    continue;
                change = true;
                if (!this._vtCb || this._timeout)
                    continue;
                const delay = (!this._lastRender || !this._maxFps ?
                    0 :
                    (1000 / this._maxFps) -
                        (performance.now() - this._lastRender));
                this._timeout = setTimeout(() => {
                    this._timeout = null;
                    this.render();
                }, (delay > 0 ? delay : 0));
            }
            if (change)
                this.dispatchEvent(new ChangeEvent(this._state));
        }
    }
}
/**
 * Default renderer
 */
const defaultRenderer = (() => {
    if (!window)
        return new Renderer();
    const parent = window;
    if (!parent.__hat_default_renderer)
        parent.__hat_default_renderer = new Renderer();
    return parent.__hat_default_renderer;
})();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (defaultRenderer);


/***/ }),
/* 14 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertVNode: () => (/* binding */ convertVNode),
/* harmony export */   patch: () => (/* binding */ patch)
/* harmony export */ });
/* harmony import */ var snabbdom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var snabbdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19);
/* harmony import */ var snabbdom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(20);
/* harmony import */ var snabbdom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21);
/* harmony import */ var snabbdom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(22);
/* harmony import */ var snabbdom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(23);
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);


// patched version of snabbdom's modules/attributes.js
const attributesModule = (() => {
    function updateAttrs(oldVnode, vnode) {
        let key;
        const elm = vnode.elm;
        let oldAttrs = oldVnode.data.attrs;
        let attrs = vnode.data.attrs;
        if (!oldAttrs && !attrs)
            return;
        if (oldAttrs === attrs)
            return;
        oldAttrs = oldAttrs || {};
        attrs = attrs || {};
        for (key in attrs) {
            const cur = attrs[key];
            const old = oldAttrs[key];
            if (old !== cur) {
                if (cur === true) {
                    elm.setAttribute(key, "");
                }
                else if (cur === false) {
                    elm.removeAttribute(key);
                }
                else {
                    elm.setAttribute(key, cur);
                }
            }
        }
        for (key in oldAttrs) {
            if (!(key in attrs)) {
                elm.removeAttribute(key);
            }
        }
    }
    return { create: updateAttrs, update: updateAttrs };
})();
// patched version of snabbdom's modules/props.js
const propsModule = (() => {
    function updateProps(oldVnode, vnode) {
        let key;
        let cur;
        let old;
        const elm = vnode.elm;
        let oldProps = oldVnode.data.props;
        let props = vnode.data.props;
        if (!oldProps && !props)
            return;
        if (oldProps === props)
            return;
        oldProps = oldProps || {};
        props = props || {};
        for (key in oldProps) {
            if (!props[key]) {
                if (key === 'style') {
                    elm[key] = '';
                }
                else {
                    delete elm[key];
                }
            }
        }
        for (key in props) {
            cur = props[key];
            old = oldProps[key];
            if (old !== cur && (key !== "value" || elm[key] !== cur)) {
                elm[key] = cur;
            }
        }
    }
    return { create: updateProps, update: updateProps };
})();
const patch = snabbdom__WEBPACK_IMPORTED_MODULE_1__.init([
    attributesModule,
    snabbdom__WEBPACK_IMPORTED_MODULE_2__.classModule,
    snabbdom__WEBPACK_IMPORTED_MODULE_3__.datasetModule,
    snabbdom__WEBPACK_IMPORTED_MODULE_4__.eventListenersModule,
    propsModule,
    snabbdom__WEBPACK_IMPORTED_MODULE_5__.styleModule
]);
function convertVNode(node) {
    if (!_hat_open_util__WEBPACK_IMPORTED_MODULE_0__.isVNode(node))
        throw Error("invalid node");
    const data = (_hat_open_util__WEBPACK_IMPORTED_MODULE_0__.isVNodeWithData(node) ? node[1] : {});
    const children = _hat_open_util__WEBPACK_IMPORTED_MODULE_0__.pipe(_hat_open_util__WEBPACK_IMPORTED_MODULE_0__.getFlatVNodeChildren, _hat_open_util__WEBPACK_IMPORTED_MODULE_0__.map(i => _hat_open_util__WEBPACK_IMPORTED_MODULE_0__.isString(i) ? i : convertVNode(i)))(node);
    return snabbdom__WEBPACK_IMPORTED_MODULE_6__.h(node[0], data, children);
}


/***/ }),
/* 15 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   init: () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _vnode_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16);
/* harmony import */ var _is_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(17);
/* harmony import */ var _htmldomapi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);



function isUndef(s) {
    return s === undefined;
}
function isDef(s) {
    return s !== undefined;
}
const emptyNode = (0,_vnode_js__WEBPACK_IMPORTED_MODULE_0__.vnode)("", {}, [], undefined, undefined);
function sameVnode(vnode1, vnode2) {
    var _a, _b;
    const isSameKey = vnode1.key === vnode2.key;
    const isSameIs = ((_a = vnode1.data) === null || _a === void 0 ? void 0 : _a.is) === ((_b = vnode2.data) === null || _b === void 0 ? void 0 : _b.is);
    const isSameSel = vnode1.sel === vnode2.sel;
    const isSameTextOrFragment = !vnode1.sel && vnode1.sel === vnode2.sel
        ? typeof vnode1.text === typeof vnode2.text
        : true;
    return isSameSel && isSameKey && isSameIs && isSameTextOrFragment;
}
/**
 * @todo Remove this function when the document fragment is considered stable.
 */
function documentFragmentIsNotSupported() {
    throw new Error("The document fragment is not supported on this platform.");
}
function isElement(api, vnode) {
    return api.isElement(vnode);
}
function isDocumentFragment(api, vnode) {
    return api.isDocumentFragment(vnode);
}
function createKeyToOldIdx(children, beginIdx, endIdx) {
    var _a;
    const map = {};
    for (let i = beginIdx; i <= endIdx; ++i) {
        const key = (_a = children[i]) === null || _a === void 0 ? void 0 : _a.key;
        if (key !== undefined) {
            map[key] = i;
        }
    }
    return map;
}
const hooks = [
    "create",
    "update",
    "remove",
    "destroy",
    "pre",
    "post"
];
function init(modules, domApi, options) {
    const cbs = {
        create: [],
        update: [],
        remove: [],
        destroy: [],
        pre: [],
        post: []
    };
    const api = domApi !== undefined ? domApi : _htmldomapi_js__WEBPACK_IMPORTED_MODULE_1__.htmlDomApi;
    for (const hook of hooks) {
        for (const module of modules) {
            const currentHook = module[hook];
            if (currentHook !== undefined) {
                cbs[hook].push(currentHook);
            }
        }
    }
    function emptyNodeAt(elm) {
        const id = elm.id ? "#" + elm.id : "";
        // elm.className doesn't return a string when elm is an SVG element inside a shadowRoot.
        // https://stackoverflow.com/questions/29454340/detecting-classname-of-svganimatedstring
        const classes = elm.getAttribute("class");
        const c = classes ? "." + classes.split(" ").join(".") : "";
        return (0,_vnode_js__WEBPACK_IMPORTED_MODULE_0__.vnode)(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);
    }
    function emptyDocumentFragmentAt(frag) {
        return (0,_vnode_js__WEBPACK_IMPORTED_MODULE_0__.vnode)(undefined, {}, [], undefined, frag);
    }
    function createRmCb(childElm, listeners) {
        return function rmCb() {
            if (--listeners === 0) {
                const parent = api.parentNode(childElm);
                if (parent !== null) {
                    api.removeChild(parent, childElm);
                }
            }
        };
    }
    function createElm(vnode, insertedVnodeQueue) {
        var _a, _b, _c, _d;
        let i;
        let data = vnode.data;
        if (data !== undefined) {
            const init = (_a = data.hook) === null || _a === void 0 ? void 0 : _a.init;
            if (isDef(init)) {
                init(vnode);
                data = vnode.data;
            }
        }
        const children = vnode.children;
        const sel = vnode.sel;
        if (sel === "!") {
            if (isUndef(vnode.text)) {
                vnode.text = "";
            }
            vnode.elm = api.createComment(vnode.text);
        }
        else if (sel === "") {
            // textNode has no selector
            vnode.elm = api.createTextNode(vnode.text);
        }
        else if (sel !== undefined) {
            // Parse selector
            const hashIdx = sel.indexOf("#");
            const dotIdx = sel.indexOf(".", hashIdx);
            const hash = hashIdx > 0 ? hashIdx : sel.length;
            const dot = dotIdx > 0 ? dotIdx : sel.length;
            const tag = hashIdx !== -1 || dotIdx !== -1
                ? sel.slice(0, Math.min(hash, dot))
                : sel;
            const elm = (vnode.elm =
                isDef(data) && isDef((i = data.ns))
                    ? api.createElementNS(i, tag, data)
                    : api.createElement(tag, data));
            if (hash < dot)
                elm.setAttribute("id", sel.slice(hash + 1, dot));
            if (dotIdx > 0)
                elm.setAttribute("class", sel.slice(dot + 1).replace(/\./g, " "));
            for (i = 0; i < cbs.create.length; ++i)
                cbs.create[i](emptyNode, vnode);
            if (_is_js__WEBPACK_IMPORTED_MODULE_2__.primitive(vnode.text) &&
                (!_is_js__WEBPACK_IMPORTED_MODULE_2__.array(children) || children.length === 0)) {
                // allow h1 and similar nodes to be created w/ text and empty child list
                api.appendChild(elm, api.createTextNode(vnode.text));
            }
            if (_is_js__WEBPACK_IMPORTED_MODULE_2__.array(children)) {
                for (i = 0; i < children.length; ++i) {
                    const ch = children[i];
                    if (ch != null) {
                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));
                    }
                }
            }
            const hook = vnode.data.hook;
            if (isDef(hook)) {
                (_b = hook.create) === null || _b === void 0 ? void 0 : _b.call(hook, emptyNode, vnode);
                if (hook.insert) {
                    insertedVnodeQueue.push(vnode);
                }
            }
        }
        else if (((_c = options === null || options === void 0 ? void 0 : options.experimental) === null || _c === void 0 ? void 0 : _c.fragments) && vnode.children) {
            vnode.elm = ((_d = api.createDocumentFragment) !== null && _d !== void 0 ? _d : documentFragmentIsNotSupported)();
            for (i = 0; i < cbs.create.length; ++i)
                cbs.create[i](emptyNode, vnode);
            for (i = 0; i < vnode.children.length; ++i) {
                const ch = vnode.children[i];
                if (ch != null) {
                    api.appendChild(vnode.elm, createElm(ch, insertedVnodeQueue));
                }
            }
        }
        else {
            vnode.elm = api.createTextNode(vnode.text);
        }
        return vnode.elm;
    }
    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {
        for (; startIdx <= endIdx; ++startIdx) {
            const ch = vnodes[startIdx];
            if (ch != null) {
                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);
            }
        }
    }
    function invokeDestroyHook(vnode) {
        var _a, _b;
        const data = vnode.data;
        if (data !== undefined) {
            (_b = (_a = data === null || data === void 0 ? void 0 : data.hook) === null || _a === void 0 ? void 0 : _a.destroy) === null || _b === void 0 ? void 0 : _b.call(_a, vnode);
            for (let i = 0; i < cbs.destroy.length; ++i)
                cbs.destroy[i](vnode);
            if (vnode.children !== undefined) {
                for (let j = 0; j < vnode.children.length; ++j) {
                    const child = vnode.children[j];
                    if (child != null && typeof child !== "string") {
                        invokeDestroyHook(child);
                    }
                }
            }
        }
    }
    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {
        var _a, _b;
        for (; startIdx <= endIdx; ++startIdx) {
            let listeners;
            let rm;
            const ch = vnodes[startIdx];
            if (ch != null) {
                if (isDef(ch.sel)) {
                    invokeDestroyHook(ch);
                    listeners = cbs.remove.length + 1;
                    rm = createRmCb(ch.elm, listeners);
                    for (let i = 0; i < cbs.remove.length; ++i)
                        cbs.remove[i](ch, rm);
                    const removeHook = (_b = (_a = ch === null || ch === void 0 ? void 0 : ch.data) === null || _a === void 0 ? void 0 : _a.hook) === null || _b === void 0 ? void 0 : _b.remove;
                    if (isDef(removeHook)) {
                        removeHook(ch, rm);
                    }
                    else {
                        rm();
                    }
                }
                else if (ch.children) {
                    // Fragment node
                    invokeDestroyHook(ch);
                    removeVnodes(parentElm, ch.children, 0, ch.children.length - 1);
                }
                else {
                    // Text node
                    api.removeChild(parentElm, ch.elm);
                }
            }
        }
    }
    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {
        let oldStartIdx = 0;
        let newStartIdx = 0;
        let oldEndIdx = oldCh.length - 1;
        let oldStartVnode = oldCh[0];
        let oldEndVnode = oldCh[oldEndIdx];
        let newEndIdx = newCh.length - 1;
        let newStartVnode = newCh[0];
        let newEndVnode = newCh[newEndIdx];
        let oldKeyToIdx;
        let idxInOld;
        let elmToMove;
        let before;
        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {
            if (oldStartVnode == null) {
                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left
            }
            else if (oldEndVnode == null) {
                oldEndVnode = oldCh[--oldEndIdx];
            }
            else if (newStartVnode == null) {
                newStartVnode = newCh[++newStartIdx];
            }
            else if (newEndVnode == null) {
                newEndVnode = newCh[--newEndIdx];
            }
            else if (sameVnode(oldStartVnode, newStartVnode)) {
                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);
                oldStartVnode = oldCh[++oldStartIdx];
                newStartVnode = newCh[++newStartIdx];
            }
            else if (sameVnode(oldEndVnode, newEndVnode)) {
                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);
                oldEndVnode = oldCh[--oldEndIdx];
                newEndVnode = newCh[--newEndIdx];
            }
            else if (sameVnode(oldStartVnode, newEndVnode)) {
                // Vnode moved right
                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);
                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));
                oldStartVnode = oldCh[++oldStartIdx];
                newEndVnode = newCh[--newEndIdx];
            }
            else if (sameVnode(oldEndVnode, newStartVnode)) {
                // Vnode moved left
                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);
                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);
                oldEndVnode = oldCh[--oldEndIdx];
                newStartVnode = newCh[++newStartIdx];
            }
            else {
                if (oldKeyToIdx === undefined) {
                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);
                }
                idxInOld = oldKeyToIdx[newStartVnode.key];
                if (isUndef(idxInOld)) {
                    // `newStartVnode` is new, create and insert it in beginning
                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);
                    newStartVnode = newCh[++newStartIdx];
                }
                else if (isUndef(oldKeyToIdx[newEndVnode.key])) {
                    // `newEndVnode` is new, create and insert it in the end
                    api.insertBefore(parentElm, createElm(newEndVnode, insertedVnodeQueue), api.nextSibling(oldEndVnode.elm));
                    newEndVnode = newCh[--newEndIdx];
                }
                else {
                    // Neither of the new endpoints are new vnodes, so we make progress by
                    // moving `newStartVnode` into position
                    elmToMove = oldCh[idxInOld];
                    if (elmToMove.sel !== newStartVnode.sel) {
                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);
                    }
                    else {
                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);
                        oldCh[idxInOld] = undefined;
                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);
                    }
                    newStartVnode = newCh[++newStartIdx];
                }
            }
        }
        if (newStartIdx <= newEndIdx) {
            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;
            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);
        }
        if (oldStartIdx <= oldEndIdx) {
            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);
        }
    }
    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        const hook = (_a = vnode.data) === null || _a === void 0 ? void 0 : _a.hook;
        (_b = hook === null || hook === void 0 ? void 0 : hook.prepatch) === null || _b === void 0 ? void 0 : _b.call(hook, oldVnode, vnode);
        const elm = (vnode.elm = oldVnode.elm);
        if (oldVnode === vnode)
            return;
        if (vnode.data !== undefined ||
            (isDef(vnode.text) && vnode.text !== oldVnode.text)) {
            (_c = vnode.data) !== null && _c !== void 0 ? _c : (vnode.data = {});
            (_d = oldVnode.data) !== null && _d !== void 0 ? _d : (oldVnode.data = {});
            for (let i = 0; i < cbs.update.length; ++i)
                cbs.update[i](oldVnode, vnode);
            (_g = (_f = (_e = vnode.data) === null || _e === void 0 ? void 0 : _e.hook) === null || _f === void 0 ? void 0 : _f.update) === null || _g === void 0 ? void 0 : _g.call(_f, oldVnode, vnode);
        }
        const oldCh = oldVnode.children;
        const ch = vnode.children;
        if (isUndef(vnode.text)) {
            if (isDef(oldCh) && isDef(ch)) {
                if (oldCh !== ch)
                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);
            }
            else if (isDef(ch)) {
                if (isDef(oldVnode.text))
                    api.setTextContent(elm, "");
                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);
            }
            else if (isDef(oldCh)) {
                removeVnodes(elm, oldCh, 0, oldCh.length - 1);
            }
            else if (isDef(oldVnode.text)) {
                api.setTextContent(elm, "");
            }
        }
        else if (oldVnode.text !== vnode.text) {
            if (isDef(oldCh)) {
                removeVnodes(elm, oldCh, 0, oldCh.length - 1);
            }
            api.setTextContent(elm, vnode.text);
        }
        (_h = hook === null || hook === void 0 ? void 0 : hook.postpatch) === null || _h === void 0 ? void 0 : _h.call(hook, oldVnode, vnode);
    }
    return function patch(oldVnode, vnode) {
        let i, elm, parent;
        const insertedVnodeQueue = [];
        for (i = 0; i < cbs.pre.length; ++i)
            cbs.pre[i]();
        if (isElement(api, oldVnode)) {
            oldVnode = emptyNodeAt(oldVnode);
        }
        else if (isDocumentFragment(api, oldVnode)) {
            oldVnode = emptyDocumentFragmentAt(oldVnode);
        }
        if (sameVnode(oldVnode, vnode)) {
            patchVnode(oldVnode, vnode, insertedVnodeQueue);
        }
        else {
            elm = oldVnode.elm;
            parent = api.parentNode(elm);
            createElm(vnode, insertedVnodeQueue);
            if (parent !== null) {
                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));
                removeVnodes(parent, [oldVnode], 0, 0);
            }
        }
        for (i = 0; i < insertedVnodeQueue.length; ++i) {
            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);
        }
        for (i = 0; i < cbs.post.length; ++i)
            cbs.post[i]();
        return vnode;
    };
}
//# sourceMappingURL=init.js.map

/***/ }),
/* 16 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   vnode: () => (/* binding */ vnode)
/* harmony export */ });
function vnode(sel, data, children, text, elm) {
    const key = data === undefined ? undefined : data.key;
    return { sel, data, children, text, elm, key };
}
//# sourceMappingURL=vnode.js.map

/***/ }),
/* 17 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   array: () => (/* binding */ array),
/* harmony export */   primitive: () => (/* binding */ primitive)
/* harmony export */ });
const array = Array.isArray;
function primitive(s) {
    return (typeof s === "string" ||
        typeof s === "number" ||
        s instanceof String ||
        s instanceof Number);
}
//# sourceMappingURL=is.js.map

/***/ }),
/* 18 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   htmlDomApi: () => (/* binding */ htmlDomApi)
/* harmony export */ });
function createElement(tagName, options) {
    return document.createElement(tagName, options);
}
function createElementNS(namespaceURI, qualifiedName, options) {
    return document.createElementNS(namespaceURI, qualifiedName, options);
}
function createDocumentFragment() {
    return parseFragment(document.createDocumentFragment());
}
function createTextNode(text) {
    return document.createTextNode(text);
}
function createComment(text) {
    return document.createComment(text);
}
function insertBefore(parentNode, newNode, referenceNode) {
    if (isDocumentFragment(parentNode)) {
        let node = parentNode;
        while (node && isDocumentFragment(node)) {
            const fragment = parseFragment(node);
            node = fragment.parent;
        }
        parentNode = node !== null && node !== void 0 ? node : parentNode;
    }
    if (isDocumentFragment(newNode)) {
        newNode = parseFragment(newNode, parentNode);
    }
    if (referenceNode && isDocumentFragment(referenceNode)) {
        referenceNode = parseFragment(referenceNode).firstChildNode;
    }
    parentNode.insertBefore(newNode, referenceNode);
}
function removeChild(node, child) {
    node.removeChild(child);
}
function appendChild(node, child) {
    if (isDocumentFragment(child)) {
        child = parseFragment(child, node);
    }
    node.appendChild(child);
}
function parentNode(node) {
    if (isDocumentFragment(node)) {
        while (node && isDocumentFragment(node)) {
            const fragment = parseFragment(node);
            node = fragment.parent;
        }
        return node !== null && node !== void 0 ? node : null;
    }
    return node.parentNode;
}
function nextSibling(node) {
    var _a;
    if (isDocumentFragment(node)) {
        const fragment = parseFragment(node);
        const parent = parentNode(fragment);
        if (parent && fragment.lastChildNode) {
            const children = Array.from(parent.childNodes);
            const index = children.indexOf(fragment.lastChildNode);
            return (_a = children[index + 1]) !== null && _a !== void 0 ? _a : null;
        }
        return null;
    }
    return node.nextSibling;
}
function tagName(elm) {
    return elm.tagName;
}
function setTextContent(node, text) {
    node.textContent = text;
}
function getTextContent(node) {
    return node.textContent;
}
function isElement(node) {
    return node.nodeType === 1;
}
function isText(node) {
    return node.nodeType === 3;
}
function isComment(node) {
    return node.nodeType === 8;
}
function isDocumentFragment(node) {
    return node.nodeType === 11;
}
function parseFragment(fragmentNode, parentNode) {
    var _a, _b, _c;
    const fragment = fragmentNode;
    (_a = fragment.parent) !== null && _a !== void 0 ? _a : (fragment.parent = parentNode !== null && parentNode !== void 0 ? parentNode : null);
    (_b = fragment.firstChildNode) !== null && _b !== void 0 ? _b : (fragment.firstChildNode = fragmentNode.firstChild);
    (_c = fragment.lastChildNode) !== null && _c !== void 0 ? _c : (fragment.lastChildNode = fragmentNode.lastChild);
    return fragment;
}
const htmlDomApi = {
    createElement,
    createElementNS,
    createTextNode,
    createDocumentFragment,
    createComment,
    insertBefore,
    removeChild,
    appendChild,
    parentNode,
    nextSibling,
    tagName,
    setTextContent,
    getTextContent,
    isElement,
    isText,
    isComment,
    isDocumentFragment
};
//# sourceMappingURL=htmldomapi.js.map

/***/ }),
/* 19 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   classModule: () => (/* binding */ classModule)
/* harmony export */ });
function updateClass(oldVnode, vnode) {
    let cur;
    let name;
    const elm = vnode.elm;
    let oldClass = oldVnode.data.class;
    let klass = vnode.data.class;
    if (!oldClass && !klass)
        return;
    if (oldClass === klass)
        return;
    oldClass = oldClass || {};
    klass = klass || {};
    for (name in oldClass) {
        if (oldClass[name] && !Object.prototype.hasOwnProperty.call(klass, name)) {
            // was `true` and now not provided
            elm.classList.remove(name);
        }
    }
    for (name in klass) {
        cur = klass[name];
        if (cur !== oldClass[name]) {
            elm.classList[cur ? "add" : "remove"](name);
        }
    }
}
const classModule = { create: updateClass, update: updateClass };
//# sourceMappingURL=class.js.map

/***/ }),
/* 20 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   datasetModule: () => (/* binding */ datasetModule)
/* harmony export */ });
const CAPS_REGEX = /[A-Z]/g;
function updateDataset(oldVnode, vnode) {
    const elm = vnode.elm;
    let oldDataset = oldVnode.data.dataset;
    let dataset = vnode.data.dataset;
    let key;
    if (!oldDataset && !dataset)
        return;
    if (oldDataset === dataset)
        return;
    oldDataset = oldDataset || {};
    dataset = dataset || {};
    const d = elm.dataset;
    for (key in oldDataset) {
        if (!(key in dataset)) {
            if (d) {
                if (key in d) {
                    delete d[key];
                }
            }
            else {
                elm.removeAttribute("data-" + key.replace(CAPS_REGEX, "-$&").toLowerCase());
            }
        }
    }
    for (key in dataset) {
        if (oldDataset[key] !== dataset[key]) {
            if (d) {
                d[key] = dataset[key];
            }
            else {
                elm.setAttribute("data-" + key.replace(CAPS_REGEX, "-$&").toLowerCase(), dataset[key]);
            }
        }
    }
}
const datasetModule = {
    create: updateDataset,
    update: updateDataset
};
//# sourceMappingURL=dataset.js.map

/***/ }),
/* 21 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   eventListenersModule: () => (/* binding */ eventListenersModule)
/* harmony export */ });
function invokeHandler(handler, vnode, event) {
    if (typeof handler === "function") {
        // call function handler
        handler.call(vnode, event, vnode);
    }
    else if (typeof handler === "object") {
        // call multiple handlers
        for (let i = 0; i < handler.length; i++) {
            invokeHandler(handler[i], vnode, event);
        }
    }
}
function handleEvent(event, vnode) {
    const name = event.type;
    const on = vnode.data.on;
    // call event handler(s) if exists
    if (on && on[name]) {
        invokeHandler(on[name], vnode, event);
    }
}
function createListener() {
    return function handler(event) {
        handleEvent(event, handler.vnode);
    };
}
function updateEventListeners(oldVnode, vnode) {
    const oldOn = oldVnode.data.on;
    const oldListener = oldVnode.listener;
    const oldElm = oldVnode.elm;
    const on = vnode && vnode.data.on;
    const elm = (vnode && vnode.elm);
    let name;
    // optimization for reused immutable handlers
    if (oldOn === on) {
        return;
    }
    // remove existing listeners which no longer used
    if (oldOn && oldListener) {
        // if element changed or deleted we remove all existing listeners unconditionally
        if (!on) {
            for (name in oldOn) {
                // remove listener if element was changed or existing listeners removed
                oldElm.removeEventListener(name, oldListener, false);
            }
        }
        else {
            for (name in oldOn) {
                // remove listener if existing listener removed
                if (!on[name]) {
                    oldElm.removeEventListener(name, oldListener, false);
                }
            }
        }
    }
    // add new listeners which has not already attached
    if (on) {
        // reuse existing listener or create new
        const listener = (vnode.listener =
            oldVnode.listener || createListener());
        // update vnode for listener
        listener.vnode = vnode;
        // if element changed or added we add all needed listeners unconditionally
        if (!oldOn) {
            for (name in on) {
                // add listener if element was changed or new listeners added
                elm.addEventListener(name, listener, false);
            }
        }
        else {
            for (name in on) {
                // add listener if new listener added
                if (!oldOn[name]) {
                    elm.addEventListener(name, listener, false);
                }
            }
        }
    }
}
const eventListenersModule = {
    create: updateEventListeners,
    update: updateEventListeners,
    destroy: updateEventListeners
};
//# sourceMappingURL=eventlisteners.js.map

/***/ }),
/* 22 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   styleModule: () => (/* binding */ styleModule)
/* harmony export */ });
// Binding `requestAnimationFrame` like this fixes a bug in IE/Edge. See #360 and #409.
const raf = typeof (window === null || window === void 0 ? void 0 : window.requestAnimationFrame) === "function"
    ? window.requestAnimationFrame.bind(window)
    : setTimeout;
const nextFrame = function (fn) {
    raf(function () {
        raf(fn);
    });
};
let reflowForced = false;
function setNextFrame(obj, prop, val) {
    nextFrame(function () {
        obj[prop] = val;
    });
}
function updateStyle(oldVnode, vnode) {
    let cur;
    let name;
    const elm = vnode.elm;
    let oldStyle = oldVnode.data.style;
    let style = vnode.data.style;
    if (!oldStyle && !style)
        return;
    if (oldStyle === style)
        return;
    oldStyle = oldStyle || {};
    style = style || {};
    const oldHasDel = "delayed" in oldStyle;
    for (name in oldStyle) {
        if (!(name in style)) {
            if (name[0] === "-" && name[1] === "-") {
                elm.style.removeProperty(name);
            }
            else {
                elm.style[name] = "";
            }
        }
    }
    for (name in style) {
        cur = style[name];
        if (name === "delayed" && style.delayed) {
            for (const name2 in style.delayed) {
                cur = style.delayed[name2];
                if (!oldHasDel || cur !== oldStyle.delayed[name2]) {
                    setNextFrame(elm.style, name2, cur);
                }
            }
        }
        else if (name !== "remove" && cur !== oldStyle[name]) {
            if (name[0] === "-" && name[1] === "-") {
                elm.style.setProperty(name, cur);
            }
            else {
                elm.style[name] = cur;
            }
        }
    }
}
function applyDestroyStyle(vnode) {
    let style;
    let name;
    const elm = vnode.elm;
    const s = vnode.data.style;
    if (!s || !(style = s.destroy))
        return;
    for (name in style) {
        elm.style[name] = style[name];
    }
}
function applyRemoveStyle(vnode, rm) {
    const s = vnode.data.style;
    if (!s || !s.remove) {
        rm();
        return;
    }
    if (!reflowForced) {
        // eslint-disable-next-line @typescript-eslint/no-unused-expressions
        vnode.elm.offsetLeft;
        reflowForced = true;
    }
    let name;
    const elm = vnode.elm;
    let i = 0;
    const style = s.remove;
    let amount = 0;
    const applied = [];
    for (name in style) {
        applied.push(name);
        elm.style[name] = style[name];
    }
    const compStyle = getComputedStyle(elm);
    const props = compStyle["transition-property"].split(", ");
    for (; i < props.length; ++i) {
        if (applied.indexOf(props[i]) !== -1)
            amount++;
    }
    elm.addEventListener("transitionend", function (ev) {
        if (ev.target === elm)
            --amount;
        if (amount === 0)
            rm();
    });
}
function forceReflow() {
    reflowForced = false;
}
const styleModule = {
    pre: forceReflow,
    create: updateStyle,
    update: updateStyle,
    destroy: applyDestroyStyle,
    remove: applyRemoveStyle
};
//# sourceMappingURL=style.js.map

/***/ }),
/* 23 */
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addNS: () => (/* binding */ addNS),
/* harmony export */   fragment: () => (/* binding */ fragment),
/* harmony export */   h: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _vnode_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);
/* harmony import */ var _is_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);


function addNS(data, children, sel) {
    data.ns = "http://www.w3.org/2000/svg";
    if (sel !== "foreignObject" && children !== undefined) {
        for (let i = 0; i < children.length; ++i) {
            const child = children[i];
            if (typeof child === "string")
                continue;
            const childData = child.data;
            if (childData !== undefined) {
                addNS(childData, child.children, child.sel);
            }
        }
    }
}
function h(sel, b, c) {
    let data = {};
    let children;
    let text;
    let i;
    if (c !== undefined) {
        if (b !== null) {
            data = b;
        }
        if (_is_js__WEBPACK_IMPORTED_MODULE_0__.array(c)) {
            children = c;
        }
        else if (_is_js__WEBPACK_IMPORTED_MODULE_0__.primitive(c)) {
            text = c.toString();
        }
        else if (c && c.sel) {
            children = [c];
        }
    }
    else if (b !== undefined && b !== null) {
        if (_is_js__WEBPACK_IMPORTED_MODULE_0__.array(b)) {
            children = b;
        }
        else if (_is_js__WEBPACK_IMPORTED_MODULE_0__.primitive(b)) {
            text = b.toString();
        }
        else if (b && b.sel) {
            children = [b];
        }
        else {
            data = b;
        }
    }
    if (children !== undefined) {
        for (i = 0; i < children.length; ++i) {
            if (_is_js__WEBPACK_IMPORTED_MODULE_0__.primitive(children[i]))
                children[i] = (0,_vnode_js__WEBPACK_IMPORTED_MODULE_1__.vnode)(undefined, undefined, undefined, children[i], undefined);
        }
    }
    if (sel.startsWith("svg") &&
        (sel.length === 3 || sel[3] === "." || sel[3] === "#")) {
        addNS(data, children, sel);
    }
    return (0,_vnode_js__WEBPACK_IMPORTED_MODULE_1__.vnode)(sel, data, children, text, undefined);
}
/**
 * @experimental
 */
function fragment(children) {
    let c;
    let text;
    if (_is_js__WEBPACK_IMPORTED_MODULE_0__.array(children)) {
        c = children;
    }
    else if (_is_js__WEBPACK_IMPORTED_MODULE_0__.primitive(c)) {
        text = children;
    }
    else if (c && c.sel) {
        c = [children];
    }
    if (c !== undefined) {
        for (let i = 0; i < c.length; ++i) {
            if (_is_js__WEBPACK_IMPORTED_MODULE_0__.primitive(c[i]))
                c[i] = (0,_vnode_js__WEBPACK_IMPORTED_MODULE_1__.vnode)(undefined, undefined, undefined, c[i], undefined);
        }
    }
    return (0,_vnode_js__WEBPACK_IMPORTED_MODULE_1__.vnode)(undefined, {}, c, text, undefined);
}
//# sourceMappingURL=h.js.map

/***/ }),
/* 24 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addItem: () => (/* binding */ addItem),
/* harmony export */   addPanel: () => (/* binding */ addPanel),
/* harmony export */   calculate: () => (/* binding */ calculate),
/* harmony export */   csvExportItems: () => (/* binding */ csvExportItems),
/* harmony export */   csvExportPanels: () => (/* binding */ csvExportPanels),
/* harmony export */   csvImportItems: () => (/* binding */ csvImportItems),
/* harmony export */   csvImportPanels: () => (/* binding */ csvImportPanels),
/* harmony export */   defaultState: () => (/* binding */ defaultState),
/* harmony export */   fontSizes: () => (/* binding */ fontSizes),
/* harmony export */   generate: () => (/* binding */ generate),
/* harmony export */   getDict: () => (/* binding */ getDict),
/* harmony export */   getState: () => (/* binding */ getState),
/* harmony export */   loadSettings: () => (/* binding */ loadSettings),
/* harmony export */   methods: () => (/* binding */ methods),
/* harmony export */   saveSettings: () => (/* binding */ saveSettings)
/* harmony export */ });
/* harmony import */ var _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var _csv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25);
/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(27);




const methods = {
    forward_greedy: 'Forward greedy',
    greedy: 'Greedy',
    forward_greedy_native: 'Forward greedy (native)',
    greedy_native: 'Greedy (native)'
};
const fontSizes = {
    small: 0.5,
    medium: 1,
    large: 1.5
};
const calculateUrl = String(new URL('./calculate', window.location.href));
const generateUrl = String(new URL('./generate', window.location.href));
let panelCounter = 0;
let itemCounter = 0;
const defaultSettings = {
    lang: 'en',
    colors: {
        cut: '#646464',
        item: '#fafafa',
        selected: '#c88c8c',
        unused: '#eeeeee'
    },
    panel: {
        height: 100,
        width: 100,
        name: 'Panel'
    },
    item: {
        height: 10,
        width: 10,
        name: 'Item',
        canRotate: true
    }
};
const defaultState = {
    form: {
        method: 'forward_greedy_native',
        cutWidth: 0.3,
        minInitialUsage: true,
        panels: [],
        items: []
    },
    result: null,
    selected: {
        panel: null,
        item: null
    },
    svg: {
        fontSize: 'medium',
        showNames: true,
        showDimensions: false
    },
    calculating: false,
    showSettings: false,
    settings: defaultSettings
};
function getState() {
    return _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].get();
}
function getDict() {
    const state = getState();
    return _i18n__WEBPACK_IMPORTED_MODULE_3__.dicts[state.settings.lang];
}
function loadSettings() {
    const settingsStr = window.localStorage.getItem('opcut');
    const settings = (settingsStr ? JSON.parse(settingsStr) : null);
    const getType = (x) => (x == null ? 'null' : typeof x);
    const merge = (defaultValue, value) => {
        if (getType(defaultValue) != getType(value))
            return defaultValue;
        if (!_hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isObject(defaultValue))
            return value;
        return _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.map((v, k) => merge(v, value[k]), defaultValue);
    };
    return merge(defaultSettings, settings);
}
function saveSettings(settings) {
    const settingsStr = JSON.stringify(settings);
    window.localStorage.setItem('opcut', settingsStr);
}
async function calculate() {
    await _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set('calculating', true);
    try {
        const state = getState();
        const dict = getDict();
        const params = createCalculateParams(state);
        const res = await fetch(`${calculateUrl}?method=${state.form.method}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(params)
        });
        if (!res.ok) {
            const err = await res.text();
            throw `${dict.server_error}: ${err}`;
        }
        const result = await res.json();
        const selected = {
            panel: Object.keys(result.params.panels)[0],
            item: null
        };
        await _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].change(_hat_open_util__WEBPACK_IMPORTED_MODULE_1__.pipe(_hat_open_util__WEBPACK_IMPORTED_MODULE_1__.set('result', result), _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.set('selected', selected)));
    }
    catch (e) {
        notify(String(e));
    }
    finally {
        await _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set('calculating', false);
    }
}
async function generate() {
    try {
        const state = getState();
        const dict = getDict();
        const res = await fetch(`${generateUrl}?output_format=pdf`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(state.result)
        });
        if (!res.ok) {
            const err = await res.text();
            throw `${dict.server_error}: ${err}`;
        }
        const blob = await res.blob();
        const f = new File([blob], 'output.pdf');
        _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.saveFile(f);
    }
    catch (e) {
        notify(String(e));
    }
}
async function csvImportPanels() {
    const f = await _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.loadFile('.csv');
    if (f == null)
        return;
    const panels = await _csv__WEBPACK_IMPORTED_MODULE_2__.decode(f, {
        name: String,
        quantity: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.strictParseInt,
        width: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.strictParseFloat,
        height: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.strictParseFloat
    });
    await _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].change(['form', 'panels'], x => x.concat(panels));
}
function csvExportPanels() {
    const state = getState();
    const blob = _csv__WEBPACK_IMPORTED_MODULE_2__.encode(state.form.panels);
    const f = new File([blob], 'panels.csv');
    _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.saveFile(f);
}
async function csvImportItems() {
    const f = await _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.loadFile('.csv');
    if (f == null)
        return;
    const items = await _csv__WEBPACK_IMPORTED_MODULE_2__.decode(f, {
        name: String,
        quantity: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.strictParseInt,
        width: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.strictParseFloat,
        height: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.strictParseFloat,
        canRotate: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.equals('true')
    });
    _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].change(['form', 'items'], x => x.concat(items));
}
function csvExportItems() {
    const state = getState();
    const blob = _csv__WEBPACK_IMPORTED_MODULE_2__.encode(state.form.items);
    const f = new File([blob], 'items.csv');
    _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.saveFile(f);
}
function addPanel() {
    const state = getState();
    panelCounter += 1;
    const panel = {
        quantity: 1,
        height: state.settings.panel.height,
        width: state.settings.panel.width,
        name: `${state.settings.panel.name}${panelCounter}`
    };
    _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].change(['form', 'panels'], _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.append(panel));
}
function addItem() {
    const state = getState();
    itemCounter += 1;
    const item = {
        quantity: 1,
        height: state.settings.item.height,
        width: state.settings.item.width,
        name: `${state.settings.item.name}${itemCounter}`,
        canRotate: state.settings.item.canRotate
    };
    _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].change(['form', 'items'], _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.append(item));
}
function createCalculateParams(state) {
    const dict = getDict();
    if (state.form.cutWidth < 0)
        throw dict.invalid_cut_width;
    const panels = {};
    for (const panel of state.form.panels) {
        if (!panel.name)
            throw dict.invalid_panel_name;
        if (panel.quantity < 1)
            throw `${dict.invalid_quantity} (${dict.panel} ${panel.name})`;
        if (panel.height <= 0)
            throw `${dict.invalid_height} (${dict.panel} ${panel.name})`;
        if (panel.width <= 0)
            throw `${dict.invalid_width} (${dict.panel} ${panel.name})`;
        for (let i = 1; i <= panel.quantity; ++i) {
            const name = panel.quantity > 1 ? `${panel.name} ${i}` : panel.name;
            if (name in panels)
                throw `${dict.duplicate_name} (${dict.panel} ${panel.name})`;
            panels[name] = {
                width: panel.width,
                height: panel.height
            };
        }
    }
    if (_hat_open_util__WEBPACK_IMPORTED_MODULE_1__.equals(panels, {}))
        throw dict.no_panels_defined;
    const items = {};
    for (const item of state.form.items) {
        if (!item.name)
            throw dict.invalid_item_name;
        if (item.quantity < 1)
            throw `${dict.invalid_quantity} (${dict.item} ${item.name})`;
        if (item.height <= 0)
            throw `${dict.invalid_height} (${dict.item} ${item.name})`;
        if (item.width <= 0)
            throw `${dict.invalid_width} (${dict.item} ${item.name})`;
        for (let i = 1; i <= item.quantity; ++i) {
            const name = item.quantity > 1 ? `${item.name} ${i}` : item.name;
            if (name in items)
                throw `${dict.duplicate_name} (${dict.panel} ${item.name})`;
            items[name] = {
                width: item.width,
                height: item.height,
                can_rotate: item.canRotate
            };
        }
    }
    if (_hat_open_util__WEBPACK_IMPORTED_MODULE_1__.equals(items, {}))
        throw dict.no_items_defined;
    return {
        cut_width: state.form.cutWidth,
        min_initial_usage: state.form.minInitialUsage,
        panels: panels,
        items: items
    };
}
function notify(message) {
    let root = document.querySelector('body > .notifications');
    if (!root) {
        root = document.createElement('div');
        root.className = 'notifications';
        document.body.appendChild(root);
    }
    const el = document.createElement('div');
    el.innerText = message;
    root.appendChild(el);
    setTimeout(() => {
        if (!root)
            return;
        root.removeChild(el);
    }, 2000);
}


/***/ }),
/* 25 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   decode: () => (/* binding */ decode),
/* harmony export */   encode: () => (/* binding */ encode)
/* harmony export */ });
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(26);
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_0__);
// @ts-ignore

async function decode(blob, header) {
    const data = await new Promise(resolve => {
        papaparse__WEBPACK_IMPORTED_MODULE_0___default().parse(blob, {
            header: true,
            complete: (result) => resolve(result.data)
        });
    });
    const decodeElement = (row) => {
        const element = {};
        for (const key in header) {
            if (!(key in row))
                return null;
            element[key] = header[key](row[key]);
        }
        return element;
    };
    const elements = [];
    for (const row of data) {
        const element = decodeElement(row);
        if (!element)
            continue;
        elements.push(element);
    }
    return elements;
}
function encode(data) {
    const csvData = papaparse__WEBPACK_IMPORTED_MODULE_0___default().unparse(data);
    return new Blob([csvData], { type: 'text/csv' });
}


/***/ }),
/* 26 */
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/
!function(e,t){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0}(this,function s(){"use strict";var f="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=f.IS_PAPA_WORKER||!1,a={},u=0,b={parse:function(e,t){var r=(t=t||{}).dynamicTyping||!1;J(r)&&(t.dynamicTypingFunction=r,r={});if(t.dynamicTyping=r,t.transform=!!J(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var i=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(r=f.URL||f.webkitURL||null,i=s.toString(),b.BLOB_URL||(b.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),t=new f.Worker(e);var r,i;return t.onmessage=_,t.id=u++,a[t.id]=t}();return i.userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=J(t.step),t.chunk=J(t.chunk),t.complete=J(t.complete),t.error=J(t.error),delete t.worker,void i.postMessage({input:e,config:t,workerId:i.id})}var n=null;b.NODE_STREAM_INPUT,"string"==typeof e?(e=function(e){if(65279===e.charCodeAt(0))return e.slice(1);return e}(e),n=t.download?new l(t):new p(t)):!0===e.readable&&J(e.read)&&J(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=",",y="\r\n",s='"',a=s+s,r=!1,i=null,o=!1;!function(){if("object"!=typeof t)return;"string"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(r=t.skipEmptyLines);"string"==typeof t.newline&&(y=t.newline);"string"==typeof t.quoteChar&&(s=t.quoteChar);"boolean"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");i=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s);("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(o=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}();var u=new RegExp(Q(s),"g");"string"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,r);if("object"==typeof e[0])return h(i||Object.keys(e[0]),e,r)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||i),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],r);throw new Error("Unable to serialize unrecognized input");function h(e,t,r){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(i+=m),i+=v(e[a],a);0<t.length&&(i+=y)}for(var o=0;o<t.length;o++){var u=n?e.length:t[o].length,h=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(r&&!n&&(h="greedy"===r?""===t[o].join("").trim():1===t[o].length&&0===t[o][0].length),"greedy"===r&&n){for(var d=[],l=0;l<u;l++){var c=s?e[l]:l;d.push(t[o][c])}h=""===d.join("").trim()}if(!h){for(var p=0;p<u;p++){0<p&&!f&&(i+=m);var g=n&&s?e[p]:p;i+=v(t[o][g],p)}o<t.length-1&&(!r||0<u&&!f)&&(i+=y)}}return i}function v(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;o&&"string"==typeof e&&o.test(e)&&(e="'"+e,r=!0);var i=e.toString().replace(u,a);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1}(i,b.BAD_DELIMITERS)||-1<i.indexOf(m)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?s+i+s:i}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK="\ufeff",b.BAD_DELIMITERS=["\r","\n",'"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=",",b.Parser=E,b.ParserHandle=r,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var r=o.config||{},u=[];return this.each(function(e){if(!("INPUT"===d(this).prop("tagName").toUpperCase()&&"file"===d(this).attr("type").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)u.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},r)})}),e(),this;function e(){if(0!==u.length){var e,t,r,i,n=u[0];if(J(o.before)){var s=o.before(n.file,n.inputElem);if("object"==typeof s){if("abort"===s.action)return e="AbortError",t=n.file,r=n.inputElem,i=s.reason,void(J(o.error)&&o.error({name:e},t,r,i));if("skip"===s.action)return void h();"object"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if("skip"===s)return void h()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){J(a)&&a(e,n.file,n.inputElem),h()},b.parse(n.file,n.instanceConfig)}else J(o.complete)&&o.complete()}function h(){u.splice(0,1),e()}}}function h(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new r(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&J(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var n=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=i.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(J(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!J(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){J(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var i;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),h.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),n||(i.onload=v(this._chunkLoaded,this),i.onerror=v(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)i.setRequestHeader(t,e[t])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{i.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===i.status&&this._chunkError()}},this._chunkLoaded=function(){4===i.readyState&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf("/")+1))}(i),this.parseChunk(i.responseText)))},this._chunkError=function(e){var t=i.statusText||e;this._sendError(new Error(t))}}function c(e){var i,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),h.call(this,e);var s="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((i=new FileReader).onload=v(this._chunkLoaded,this),i.onerror=v(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var r=i.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(i.error)}}function p(e){var r;h.call(this,e=e||{}),this.stream=function(e){return r=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=r.substring(0,t),r=r.substring(t)):(e=r,r=""),this._finished=!r,this.parseChunk(e)}}}function g(e){h.call(this,e=e||{});var t=[],r=!0,i=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=v(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=v(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function r(m){var a,o,u,i=Math.pow(2,53),n=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,h=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,t=this,r=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(J(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;r+=e.data.length,m.preview&&r>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function y(e){return"greedy"===m.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function g(){return c&&u&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+b.DefaultDelimiter+"'"),u=!1),m.skipEmptyLines&&(c.data=c.data.filter(function(e){return!y(e)})),_()&&function(){if(!c)return;function e(e,t){J(m.transformHeader)&&(e=m.transformHeader(e,t)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var r,i=m.header?{}:[];for(r=0;r<e.length;r++){var n=r,s=e[r];m.header&&(n=r>=l.length?"__parsed_extra":l[r]),m.transform&&(s=m.transform(s,n)),s=v(n,s),"__parsed_extra"===n?(i[n]=i[n]||[],i[n].push(s)):i[n]=s}return m.header&&(r>l.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+l.length+" fields but parsed "+r,f+t):r<l.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+l.length+" fields but parsed "+r,f+t)),i}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function v(e,t){return r=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[r]&&(m.dynamicTyping[r]=m.dynamicTypingFunction(r)),!0===(m.dynamicTyping[r]||m.dynamicTyping)?"true"===t||"TRUE"===t||"false"!==t&&"FALSE"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<i)return!0}return!1}(t)?parseFloat(t):h.test(t)?new Date(t):""===t?null:t):t;var r}function k(e,t,r,i){var n={type:e,code:t,message:r};void 0!==i&&(n.row=i),c.errors.push(n)}this.parse=function(e,t,r){var i=m.quoteChar||'"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var r=new RegExp(Q(t)+"([^]*?)"+Q(t),"gm"),i=(e=e.replace(r,"")).split("\r"),n=e.split("\n"),s=1<n.length&&n[0].length<i[0].length;if(1===i.length||s)return"\n";for(var a=0,o=0;o<i.length;o++)"\n"===i[o][0]&&a++;return a>=i.length/2?"\r\n":"\r"}(e,i)),u=!1,m.delimiter)J(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,r,i,n){var s,a,o,u;n=n||[",","\t","|",";",b.RECORD_SEP,b.UNIT_SEP];for(var h=0;h<n.length;h++){var f=n[h],d=0,l=0,c=0;o=void 0;for(var p=new E({comments:i,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(r&&y(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===u||u<l)&&1.99<l&&(a=d,s=f,u=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(u=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=w(m);return m.preview&&m.header&&s.preview++,a=e,o=new E(s),c=o.parse(a,t,r),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=J(m.chunk)?"":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,J(m.complete)&&m.complete(c),a=""}}function Q(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(j){var z,M=(j=j||{}).delimiter,P=j.newline,U=j.comments,q=j.step,N=j.preview,B=j.fastMode,K=z=void 0===j.quoteChar||null===j.quoteChar?'"':j.quoteChar;if(void 0!==j.escapeChar&&(K=j.escapeChar),("string"!=typeof M||-1<b.BAD_DELIMITERS.indexOf(M))&&(M=","),U===M)throw new Error("Comment character same as delimiter");!0===U?U="#":("string"!=typeof U||-1<b.BAD_DELIMITERS.indexOf(U))&&(U=!1),"\n"!==P&&"\r"!==P&&"\r\n"!==P&&(P="\n");var W=0,H=!1;this.parse=function(i,t,r){if("string"!=typeof i)throw new Error("Input must be a string");var n=i.length,e=M.length,s=P.length,a=U.length,o=J(q),u=[],h=[],f=[],d=W=0;if(!i)return L();if(j.header&&!t){var l=i.split(P)[0].split(M),c=[],p={},g=!1;for(var _ in l){var m=l[_];J(j.transformHeader)&&(m=j.transformHeader(m,_));var y=m,v=p[m]||0;for(0<v&&(g=!0,y=m+"_"+v),p[m]=v+1;c.includes(y);)y=y+"_"+v;c.push(y)}if(g){var k=i.split(P);k[0]=c.join(M),i=k.join(P)}}if(B||!1!==B&&-1===i.indexOf(z)){for(var b=i.split(P),E=0;E<b.length;E++){if(f=b[E],W+=f.length,E!==b.length-1)W+=P.length;else if(r)return L();if(!U||f.substring(0,a)!==U){if(o){if(u=[],I(f.split(M)),F(),H)return L()}else I(f.split(M));if(N&&N<=E)return u=u.slice(0,N),L(!0)}}return L()}for(var w=i.indexOf(M,W),R=i.indexOf(P,W),C=new RegExp(Q(K)+Q(z),"g"),S=i.indexOf(z,W);;)if(i[W]!==z)if(U&&0===f.length&&i.substring(W,W+a)===U){if(-1===R)return L();W=R+s,R=i.indexOf(P,W),w=i.indexOf(M,W)}else if(-1!==w&&(w<R||-1===R))f.push(i.substring(W,w)),W=w+e,w=i.indexOf(M,W);else{if(-1===R)break;if(f.push(i.substring(W,R)),D(R+s),o&&(F(),H))return L();if(N&&u.length>=N)return L(!0)}else for(S=W,W++;;){if(-1===(S=i.indexOf(z,S+1)))return r||h.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:u.length,index:W}),T();if(S===n-1)return T(i.substring(W,S).replace(C,z));if(z!==K||i[S+1]!==K){if(z===K||0===S||i[S-1]!==K){-1!==w&&w<S+1&&(w=i.indexOf(M,S+1)),-1!==R&&R<S+1&&(R=i.indexOf(P,S+1));var O=A(-1===R?w:Math.min(w,R));if(i.substr(S+1+O,e)===M){f.push(i.substring(W,S).replace(C,z)),i[W=S+1+O+e]!==z&&(S=i.indexOf(z,W)),w=i.indexOf(M,W),R=i.indexOf(P,W);break}var x=A(R);if(i.substring(S+1+x,S+1+x+s)===P){if(f.push(i.substring(W,S).replace(C,z)),D(S+1+x+s),w=i.indexOf(M,W),S=i.indexOf(z,W),o&&(F(),H))return L();if(N&&u.length>=N)return L(!0);break}h.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:u.length,index:W}),S++}}else S++}return T();function I(e){u.push(e),d=W}function A(e){var t=0;if(-1!==e){var r=i.substring(S+1,e);r&&""===r.trim()&&(t=r.length)}return t}function T(e){return r||(void 0===e&&(e=i.substring(W)),f.push(e),W=n,I(f),o&&F()),L()}function D(e){W=e,I(f),f=[],R=i.indexOf(P,W)}function L(e){return{data:u,errors:h,meta:{delimiter:M,linebreak:P,aborted:H,truncated:!!e,cursor:d+(t||0)}}}function F(){q(L()),u=[],h=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return W}}function _(e){var t=e.data,r=a[t.workerId],i=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){i=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(J(r.userStep)){for(var s=0;s<t.results.data.length&&(r.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!i);s++);delete t.results}else J(r.userChunk)&&(r.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!i&&m(t.workerId,t.results)}function m(e,t){var r=a[e];J(r.userComplete)&&r.userComplete(t),r.terminate(),delete a[e]}function y(){throw new Error("Not implemented.")}function w(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=w(e[r]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function J(e){return"function"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if("string"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var r=b.parse(t.input,t.config);r&&f.postMessage({workerId:b.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(h.prototype)).constructor=l,(c.prototype=Object.create(h.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(h.prototype)).constructor=g,b});

/***/ }),
/* 27 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dicts: () => (/* binding */ dicts),
/* harmony export */   langs: () => (/* binding */ langs)
/* harmony export */ });
const en = {
    server_error: 'Server error',
    invalid_cut_width: 'Invalid cut width',
    invalid_panel_name: 'Invalid panel name',
    invalid_item_name: 'Invalid item name',
    invalid_quantity: 'Invalid quantity',
    invalid_height: 'Invalid height',
    invalid_width: 'Invalid width',
    duplicate_name: 'Duplicate name',
    no_panels_defined: 'No panels defined',
    no_items_defined: 'No items defined',
    panel: 'Panel',
    item: 'Item',
    settings: 'Settings',
    source_code: 'Source code',
    method: 'Method',
    cut_width: 'Cut width',
    minimize_initial_panel_usage: 'Minimize initial panel usage',
    calculate: 'Calculate',
    quantity: 'Quantity',
    height: 'Height',
    width: 'Width',
    panel_name: 'Panel name',
    item_name: 'Item name',
    rotate: 'Rotate',
    add_panel: 'Add panel',
    add_item: 'Add item',
    csv_import: 'CSV import',
    csv_export: 'CSV export',
    export: 'Export',
    font_size: 'Font size',
    small: 'Small',
    medium: 'Medium',
    large: 'Large',
    show_names: 'Show names',
    show_dimensions: 'Show dimensions',
    cut_area: 'Cut area',
    version: 'Version',
    language: 'Language',
    result_colors: 'Result colors',
    cut: 'Cut',
    selected: 'Selected',
    unused: 'Unused',
    default_panel_values: 'Default panel values',
    default_item_values: 'Default item values',
    name: 'Name'
};
const hr = {
    server_error: 'Pogreška poslužitelja',
    invalid_cut_width: 'Pogrešna širina reza',
    invalid_panel_name: 'Pogrešan naziv ploče',
    invalid_item_name: 'Pogrešan naziv elementa',
    invalid_quantity: 'Pogrešna količina',
    invalid_height: 'Pogrešna visina',
    invalid_width: 'Pogrešna širina',
    duplicate_name: 'Višestruko ime',
    no_panels_defined: 'Nepostojeće ploče',
    no_items_defined: 'Nepostojeći elementi',
    panel: 'Ploča',
    item: 'Element',
    settings: 'Postavke',
    source_code: 'Izvorni kod',
    method: 'Metoda',
    cut_width: 'Širina reza',
    minimize_initial_panel_usage: 'Optimiraj upotrebu početnih ploca',
    calculate: 'Izračunaj',
    quantity: 'Količina',
    height: 'Visina',
    width: 'Širina',
    panel_name: 'Naziv ploče',
    item_name: 'Naziv elementa',
    rotate: 'Zakreni',
    add_panel: 'Dodaj ploču',
    add_item: 'Dodaj element',
    csv_import: 'CSV uvoz',
    csv_export: 'CSV izvoz',
    export: 'Izvoz',
    font_size: 'Veličina slova',
    small: 'Mala',
    medium: 'Srednja',
    large: 'Velika',
    show_names: 'Prikaži nazive',
    show_dimensions: 'Prikaži veličine',
    cut_area: 'Površina reza',
    version: 'Inačica',
    language: 'Jezik',
    result_colors: 'Bojanje rezultata',
    cut: 'Rez',
    selected: 'Označen',
    unused: 'Nekorišten',
    default_panel_values: 'Inicijalne vrijednosti ploča',
    default_item_values: 'Inicijalne vrijednosti elemenata',
    name: 'Naziv'
};
const langs = {
    en: 'English',
    hr: 'Hrvatski'
};
const dicts = {
    en,
    hr
};


/***/ }),
/* 28 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   main: () => (/* binding */ main)
/* harmony export */ });
/* harmony import */ var _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(24);
/* harmony import */ var _params__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(29);
/* harmony import */ var _result__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(31);
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32);
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(34);







function main() {
    const state = _common__WEBPACK_IMPORTED_MODULE_2__.getState();
    return ['div.main',
        ['div.left-panel', _params__WEBPACK_IMPORTED_MODULE_3__.main()],
        leftPanelResizer(),
        ['div.center-panel', _svg__WEBPACK_IMPORTED_MODULE_6__.main()],
        rightPanelResizer(),
        ['div.right-panel', _result__WEBPACK_IMPORTED_MODULE_4__.main()],
        (state.showSettings ?
            settingsOverlay() :
            [])
    ];
}
function leftPanelResizer() {
    return ['div.panel-resizer', {
            on: {
                mousedown: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.draggerMouseDownHandler(evt => {
                    const panel = evt.target.parentNode?.querySelector('.left-panel');
                    if (panel == null)
                        return () => { }; // eslint-disable-line
                    const width = panel.clientWidth;
                    return (_, dx) => {
                        panel.style.width = `${width + dx}px`;
                    };
                })
            }
        }];
}
function rightPanelResizer() {
    return ['div.panel-resizer', {
            on: {
                mousedown: _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.draggerMouseDownHandler(evt => {
                    const panel = evt.target.parentNode?.querySelector('.right-panel');
                    if (panel == null)
                        return () => { }; // eslint-disable-line
                    const width = panel.clientWidth;
                    return (_, dx) => {
                        panel.style.width = `${width - dx}px`;
                    };
                })
            }
        }];
}
function settingsOverlay() {
    return ['div.overlay', {
            on: {
                click: (evt) => {
                    evt.stopPropagation();
                    _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set('showSettings', false);
                }
            }
        },
        _settings__WEBPACK_IMPORTED_MODULE_5__.main()];
}


/***/ }),
/* 29 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   main: () => (/* binding */ main)
/* harmony export */ });
/* harmony import */ var _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(24);
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(30);




function main() {
    const state = _common__WEBPACK_IMPORTED_MODULE_2__.getState();
    const dict = _common__WEBPACK_IMPORTED_MODULE_2__.getDict();
    return [
        ['div.header',
            ['span.title', 'OPCUT'],
            ['button', {
                    on: {
                        click: () => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set('showSettings', true)
                    }
                },
                icon('applications-other'),
                ` ${dict.settings}`
            ],
            ['button', {
                    on: {
                        click: () => window.open('https://github.com/bozokopic/opcut', '_blank')
                    }
                },
                icon('emblem-git-new'),
                ` ${dict.source_code}`
            ]
        ],
        ['div.form',
            ['label.label', dict.method],
            _input__WEBPACK_IMPORTED_MODULE_3__.select(state.form.method, Object.entries(_common__WEBPACK_IMPORTED_MODULE_2__.methods), val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set(['form', 'method'], val)),
            ['label.label', dict.cut_width],
            _input__WEBPACK_IMPORTED_MODULE_3__.number(state.form.cutWidth, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set(['form', 'cutWidth'], val)),
            ['label.label'],
            _input__WEBPACK_IMPORTED_MODULE_3__.checkbox(dict.minimize_initial_panel_usage, state.form.minInitialUsage, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set(['form', 'minInitialUsage'], val))
        ],
        ['div.content',
            panels(),
            items()
        ],
        ['button.calculate', {
                props: {
                    disabled: state.calculating
                },
                on: {
                    click: _common__WEBPACK_IMPORTED_MODULE_2__.calculate
                }
            },
            icon('system-run'),
            ` ${dict.calculate}`
        ]
    ];
}
function panels() {
    const state = _common__WEBPACK_IMPORTED_MODULE_2__.getState();
    const dict = _common__WEBPACK_IMPORTED_MODULE_2__.getDict();
    const panelsPath = ['form', 'panels'];
    const panelNames = new Set();
    const nameValidator = (name) => {
        const valid = !panelNames.has(name);
        panelNames.add(name);
        return valid;
    };
    return ['div',
        ['table',
            ['thead',
                ['tr',
                    ['th.col-quantity', dict.quantity],
                    ['th.col-height', dict.height],
                    ['th.col-width', dict.width],
                    ['th.col-name', dict.panel_name],
                    ['th.col-delete']
                ]
            ],
            ['tbody',
                state.form.panels.map((panel, index) => ['tr',
                    ['td.col-quantity',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.number(panel.quantity, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isInteger, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([panelsPath, index, 'quantity'], val))
                        ]
                    ],
                    ['td.col-height',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.number(panel.height, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([panelsPath, index, 'height'], val))
                        ]
                    ],
                    ['td.col-width',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.number(panel.width, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([panelsPath, index, 'width'], val))
                        ]
                    ],
                    ['td.col-name',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.text(panel.name, nameValidator, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([panelsPath, index, 'name'], val))
                        ]
                    ],
                    ['td.col-delete',
                        ['button', {
                                on: {
                                    click: () => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].change(panelsPath, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.omit(index))
                                }
                            },
                            icon('list-remove')
                        ]
                    ]
                ])
            ],
            ['tfoot',
                ['tr',
                    ['td', {
                            props: {
                                colSpan: 5
                            }
                        },
                        ['div',
                            ['button', {
                                    on: {
                                        click: _common__WEBPACK_IMPORTED_MODULE_2__.addPanel
                                    }
                                },
                                icon('list-add'),
                                ` ${dict.add_panel}`
                            ],
                            ['span.spacer'],
                            ['button', {
                                    on: {
                                        click: _common__WEBPACK_IMPORTED_MODULE_2__.csvImportPanels
                                    }
                                },
                                icon('document-import'),
                                ` ${dict.csv_import}`
                            ],
                            ['button', {
                                    on: {
                                        click: _common__WEBPACK_IMPORTED_MODULE_2__.csvExportPanels
                                    }
                                },
                                icon('document-export'),
                                ` ${dict.csv_export}`
                            ]
                        ]
                    ]
                ]
            ]
        ]
    ];
}
function items() {
    const state = _common__WEBPACK_IMPORTED_MODULE_2__.getState();
    const dict = _common__WEBPACK_IMPORTED_MODULE_2__.getDict();
    const itemsPath = ['form', 'items'];
    const itemNames = new Set();
    const nameValidator = (name) => {
        const valid = !itemNames.has(name);
        itemNames.add(name);
        return valid;
    };
    return ['div',
        ['table',
            ['thead',
                ['tr',
                    ['th.col-quantity', dict.quantity],
                    ['th.col-height', dict.height],
                    ['th.col-width', dict.width],
                    ['th.col-name', dict.item_name],
                    ['th.col-rotate', dict.rotate],
                    ['th.col-delete']
                ]
            ],
            ['tbody',
                state.form.items.map((item, index) => ['tr',
                    ['td.col-quantity',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.number(item.quantity, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isInteger, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([itemsPath, index, 'quantity'], val))
                        ]
                    ],
                    ['td.col-height',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.number(item.height, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([itemsPath, index, 'height'], val))
                        ]
                    ],
                    ['td.col-width',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.number(item.width, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([itemsPath, index, 'width'], val))
                        ]
                    ],
                    ['td.col-name',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.text(item.name, nameValidator, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([itemsPath, index, 'name'], val))
                        ]
                    ],
                    ['td.col-rotate',
                        ['div',
                            _input__WEBPACK_IMPORTED_MODULE_3__.checkbox(null, item.canRotate, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set([itemsPath, index, 'canRotate'], val))
                        ]
                    ],
                    ['td.col-delete',
                        ['button', {
                                on: {
                                    click: () => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].change(itemsPath, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.omit(index))
                                }
                            },
                            icon('list-remove')
                        ]
                    ]
                ])
            ],
            ['tfoot',
                ['tr',
                    ['td', {
                            props: {
                                colSpan: 6
                            }
                        },
                        ['div',
                            ['button', {
                                    on: {
                                        click: _common__WEBPACK_IMPORTED_MODULE_2__.addItem
                                    }
                                },
                                icon('list-add'),
                                ` ${dict.add_item}`
                            ],
                            ['span.spacer'],
                            ['button', {
                                    on: {
                                        click: _common__WEBPACK_IMPORTED_MODULE_2__.csvImportItems
                                    }
                                },
                                icon('document-import'),
                                ` ${dict.csv_import}`
                            ],
                            ['button', {
                                    on: {
                                        click: _common__WEBPACK_IMPORTED_MODULE_2__.csvExportItems
                                    }
                                },
                                icon('document-export'),
                                ` ${dict.csv_export}`
                            ]
                        ]
                    ]
                ]
            ]
        ]
    ];
}
function icon(name) {
    return ['img.icon', {
            props: {
                src: `icons/${name}.svg`
            }
        }];
}


/***/ }),
/* 30 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkbox: () => (/* binding */ checkbox),
/* harmony export */   color: () => (/* binding */ color),
/* harmony export */   number: () => (/* binding */ number),
/* harmony export */   select: () => (/* binding */ select),
/* harmony export */   text: () => (/* binding */ text)
/* harmony export */ });
function text(value, validator, onChange) {
    return ['input', {
            props: {
                type: 'text',
                value: value
            },
            class: {
                invalid: validator && !validator(value)
            },
            on: {
                change: (evt) => onChange(evt.target.value)
            }
        }];
}
function number(value, validator, onChange) {
    return ['input', {
            props: {
                type: 'number',
                value: value
            },
            class: {
                invalid: validator && !validator(value)
            },
            on: {
                change: (evt) => onChange(evt.target.valueAsNumber)
            }
        }];
}
function checkbox(label, value, onChange) {
    const input = ['input', {
            props: {
                type: 'checkbox',
                checked: value
            },
            on: {
                change: (evt) => onChange(evt.target.checked)
            }
        }];
    if (!label)
        return input;
    return ['label',
        input,
        ` ${label}`
    ];
}
function select(selected, values, onChange) {
    return ['select', {
            on: {
                change: (evt) => onChange(evt.target.value)
            }
        },
        values.map(([value, label]) => ['option', {
                props: {
                    selected: value == selected,
                    value: value
                }
            },
            label
        ])];
}
function color(value, onChange) {
    return ['input', {
            props: {
                type: 'color',
                value: value
            },
            on: {
                change: (evt) => onChange(evt.target.value)
            }
        }];
}


/***/ }),
/* 31 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   main: () => (/* binding */ main)
/* harmony export */ });
/* harmony import */ var _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(24);
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(30);




function main() {
    const state = _common__WEBPACK_IMPORTED_MODULE_2__.getState();
    const dict = _common__WEBPACK_IMPORTED_MODULE_2__.getDict();
    if (state.result == null)
        return [];
    const fontSizes = _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.map(i => [i, dict[i]], Object.keys(_common__WEBPACK_IMPORTED_MODULE_2__.fontSizes));
    return [
        ['div.form',
            ['label.label', dict.export],
            ['div',
                ['button', {
                        on: {
                            click: _common__WEBPACK_IMPORTED_MODULE_2__.generate
                        }
                    },
                    icon('application-pdf'),
                    ' PDF'
                ]
            ],
            ['label.label', dict.font_size],
            _input__WEBPACK_IMPORTED_MODULE_3__.select(state.svg.fontSize, fontSizes, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set(['svg', 'fontSize'], val)),
            ['label.label'],
            _input__WEBPACK_IMPORTED_MODULE_3__.checkbox(dict.show_names, state.svg.showNames, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set(['svg', 'showNames'], val)),
            ['label.label'],
            _input__WEBPACK_IMPORTED_MODULE_3__.checkbox(dict.show_dimensions, state.svg.showDimensions, val => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set(['svg', 'showDimensions'], val)),
            ['label.label', dict.cut_area],
            ['span', String(Math.round(calculateCutArea(state.result) * 100) / 100)]
        ],
        Object.keys(state.result.params.panels).map(panelResult)
    ];
}
function panelResult(panel) {
    const state = _common__WEBPACK_IMPORTED_MODULE_2__.getState();
    if (state.result == null)
        return [];
    const select = (item) => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set('selected', { panel, item });
    const isSelected = (item) => state.selected.panel == panel && state.selected.item == item;
    return ['div.panel',
        ['div.panel-name', {
                class: {
                    selected: isSelected(null)
                },
                on: {
                    click: () => select(null)
                }
            },
            panel
        ],
        _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.filter(used => used.panel == panel, state.result.used).map(used => ['div.item', {
                class: {
                    selected: isSelected(used.item)
                },
                on: {
                    click: () => select(used.item)
                }
            },
            ['div.item-name', used.item],
            (used.rotate ? icon('object-rotate-right') : []),
            ['div.item-x',
                'X:',
                String(Math.round(used.x * 100) / 100)
            ],
            ['div.item-y',
                'Y:',
                String(Math.round(used.y * 100) / 100)
            ]
        ])
    ];
}
function icon(name) {
    return ['img.icon', {
            props: {
                src: `icons/${name}.svg`
            }
        }];
}
function calculateCutArea(result) {
    const area = ({ width, height }) => width * height;
    const sum = _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.reduce((acc, i) => acc + i, 0);
    const sumAreas = (x) => sum(_hat_open_util__WEBPACK_IMPORTED_MODULE_1__.map(area, x));
    const panels = Object.values(result.params.panels);
    const used = _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.map(i => result.params.items[i.item], Object.values(result.used));
    const unused = Object.values(result.unused);
    return sumAreas(panels) - sumAreas(used) - sumAreas(unused);
}


/***/ }),
/* 32 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   main: () => (/* binding */ main)
/* harmony export */ });
/* harmony import */ var _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(33);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(24);
/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(27);
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(30);






function main() {
    const state = _common__WEBPACK_IMPORTED_MODULE_3__.getState();
    const dict = _common__WEBPACK_IMPORTED_MODULE_3__.getDict();
    return ['div.settings', {
            on: {
                click: (evt) => evt.stopPropagation()
            }
        },
        ['div.header',
            ['div.title', dict.settings],
            ['button', {
                    on: {
                        click: () => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set('showSettings', false)
                    }
                },
                icon('window-close')
            ]
        ],
        ['div.form',
            ['label.label', dict.version],
            ['span', _version__WEBPACK_IMPORTED_MODULE_2__["default"]],
            ['label.label', dict.language],
            _input__WEBPACK_IMPORTED_MODULE_5__.select(state.settings.lang, Object.entries(_i18n__WEBPACK_IMPORTED_MODULE_4__.langs), setSettings('lang')),
            ['div.title', dict.result_colors],
            ['label.label', dict.cut],
            _input__WEBPACK_IMPORTED_MODULE_5__.color(state.settings.colors.cut, setSettings(['colors', 'cut'])),
            ['label.label', dict.item],
            _input__WEBPACK_IMPORTED_MODULE_5__.color(state.settings.colors.item, setSettings(['colors', 'item'])),
            ['label.label', dict.selected],
            _input__WEBPACK_IMPORTED_MODULE_5__.color(state.settings.colors.selected, setSettings(['colors', 'selected'])),
            ['label.label', dict.unused],
            _input__WEBPACK_IMPORTED_MODULE_5__.color(state.settings.colors.unused, setSettings(['colors', 'unused'])),
            ['div.title', dict.default_panel_values],
            ['label.label', dict.height],
            _input__WEBPACK_IMPORTED_MODULE_5__.number(state.settings.panel.height, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, setSettings(['panel', 'height'])),
            ['label.label', dict.width],
            _input__WEBPACK_IMPORTED_MODULE_5__.number(state.settings.panel.width, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, setSettings(['panel', 'width'])),
            ['label.label', dict.name],
            _input__WEBPACK_IMPORTED_MODULE_5__.text(state.settings.panel.name, Boolean, setSettings(['panel', 'name'])),
            ['div.title', dict.default_item_values],
            ['label.label', dict.height],
            _input__WEBPACK_IMPORTED_MODULE_5__.number(state.settings.item.height, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, setSettings(['item', 'height'])),
            ['label.label', dict.width],
            _input__WEBPACK_IMPORTED_MODULE_5__.number(state.settings.item.width, _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.isNumber, setSettings(['item', 'width'])),
            ['label.label', dict.name],
            _input__WEBPACK_IMPORTED_MODULE_5__.text(state.settings.item.name, Boolean, setSettings(['item', 'name'])),
            ['label.label'],
            _input__WEBPACK_IMPORTED_MODULE_5__.checkbox(dict.rotate, state.settings.item.canRotate, setSettings(['item', 'canRotate']))
        ]];
}
const setSettings = _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.curry((path, val) => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].change([], ((state) => {
    state = _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.set(['settings', path], val, state);
    _common__WEBPACK_IMPORTED_MODULE_3__.saveSettings(state.settings);
    return state;
})));
function icon(name) {
    return ['img.icon', {
            props: {
                src: `icons/${name}.svg`
            }
        }];
}


/***/ }),
/* 33 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('0.4.15');


/***/ }),
/* 34 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   main: () => (/* binding */ main)
/* harmony export */ });
/* harmony import */ var _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(24);



function main() {
    const state = _common__WEBPACK_IMPORTED_MODULE_2__.getState();
    if (!state.result || !state.selected.panel)
        return [];
    const result = state.result;
    const selectedPanel = state.selected.panel;
    const selectedItem = state.selected.item;
    const panel = result.params.panels[selectedPanel];
    const used = _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.filter(i => i.panel == selectedPanel, state.result.used);
    const unused = _hat_open_util__WEBPACK_IMPORTED_MODULE_1__.filter(i => i.panel == selectedPanel, state.result.unused);
    const fontSize = Math.max(panel.height, panel.width) * 0.02 *
        _common__WEBPACK_IMPORTED_MODULE_2__.fontSizes[state.svg.fontSize];
    const nameFontSize = String(fontSize);
    const dimensionFontSize = String(fontSize * 0.8);
    return ['svg', {
            attrs: {
                width: '100%',
                height: '100%',
                viewBox: [0, 0, panel.width, panel.height].join(' '),
                preserveAspectRatio: 'xMidYMid'
            }
        },
        ['rect', {
                attrs: {
                    x: '0',
                    y: '0',
                    width: String(panel.width),
                    height: String(panel.height),
                    'stroke-width': '0',
                    fill: state.settings.colors.cut
                }
            }
        ],
        used.map(used => {
            const item = result.params.items[used.item];
            const width = (used.rotate ? item.height : item.width);
            const height = (used.rotate ? item.width : item.height);
            return ['rect', {
                    props: {
                        style: 'cursor: pointer'
                    },
                    attrs: {
                        x: String(used.x),
                        y: String(used.y),
                        width: String(width),
                        height: String(height),
                        'stroke-width': '0',
                        fill: (used.item == selectedItem ?
                            state.settings.colors.selected :
                            state.settings.colors.item)
                    },
                    on: {
                        click: () => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set(['selected', 'item'], used.item)
                    }
                }
            ];
        }),
        unused.map(unused => ['rect', {
                attrs: {
                    x: String(unused.x),
                    y: String(unused.y),
                    width: String(unused.width),
                    height: String(unused.height),
                    'stroke-width': '0',
                    fill: state.settings.colors.unused
                }
            }
        ]),
        used.map(used => {
            const item = result.params.items[used.item];
            const width = (used.rotate ? item.height : item.width);
            const height = (used.rotate ? item.width : item.height);
            const click = () => _hat_open_renderer__WEBPACK_IMPORTED_MODULE_0__["default"].set(['selected', 'item'], used.item);
            return [
                (!state.svg.showNames ? [] : ['text', {
                        props: {
                            style: 'cursor: pointer'
                        },
                        attrs: {
                            x: String(used.x + width / 2),
                            y: String(used.y + height / 2),
                            'dominant-baseline': 'middle',
                            'text-anchor': 'middle',
                            'font-size': nameFontSize
                        },
                        on: {
                            click: click
                        }
                    },
                    used.item + (used.rotate ? ' \u21BB' : '')
                ]),
                (!state.svg.showDimensions ? [] : ['text', {
                        props: {
                            style: 'cursor: pointer'
                        },
                        attrs: {
                            x: String(used.x + width / 2),
                            y: String(used.y + height),
                            'dominant-baseline': 'baseline',
                            'text-anchor': 'middle',
                            'font-size': dimensionFontSize
                        },
                        on: {
                            click: click
                        }
                    },
                    String(width)
                ]),
                (!state.svg.showDimensions ? [] : ['text', {
                        props: {
                            style: 'cursor: pointer'
                        },
                        attrs: {
                            x: String(used.x + width),
                            y: String(used.y + height / 2),
                            'transform': `rotate(-90, ${used.x + width}, ${used.y + height / 2})`,
                            'dominant-baseline': 'baseline',
                            'text-anchor': 'middle',
                            'font-size': dimensionFontSize
                        },
                        on: {
                            click: click
                        }
                    },
                    String(height)
                ])
            ];
        })
    ];
}


/***/ })
/******/ 	]);
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hat_open_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _hat_open_renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(24);
/* harmony import */ var _vt_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(28);




function main() {
    const settings = _common__WEBPACK_IMPORTED_MODULE_2__.loadSettings();
    const state = _hat_open_util__WEBPACK_IMPORTED_MODULE_0__.set('settings', settings, _common__WEBPACK_IMPORTED_MODULE_2__.defaultState);
    const root = document.body.appendChild(document.createElement('div'));
    _hat_open_renderer__WEBPACK_IMPORTED_MODULE_1__["default"].init(root, state, _vt_index__WEBPACK_IMPORTED_MODULE_3__.main);
}
window.addEventListener('load', main);
window.r = _hat_open_renderer__WEBPACK_IMPORTED_MODULE_1__["default"];
window.u = _hat_open_util__WEBPACK_IMPORTED_MODULE_0__;

})();

/******/ })()
;
//# sourceMappingURL=main.js.map