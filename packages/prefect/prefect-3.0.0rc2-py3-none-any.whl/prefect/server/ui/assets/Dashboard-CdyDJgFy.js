import{d as y,aU as v,aV as V,aE as C,t as x,f as p,aW as F,c as i,g as l,h as d,o as n,i as a,A as S,m as r,j as e,aX as U,aA as A,U as R,q as _,aY as B,aZ as D,a_ as N,a$ as E,F as T,a as j,y as M,b0 as W,b as q}from"./index-D_N-R_rf.js";import{s as H,a as I}from"./index-Vv9yEoRy.js";const O={class:"workspace-dashboard__header-actions"},P={class:"workspace-dashboard__subflows-toggle"},X={key:1,class:"workspace-dashboard__grid"},Y={class:"workspace-dashboard__side"},J=y({__name:"Dashboard",setup(Z){v(V,{interval:H(30)});const m=C(),c=x(m.flowRuns.getFlowRunsCount,[{}]),f=p(()=>c.executed),u=p(()=>c.response===0),b=[{text:"Dashboard"}],s=F({range:{type:"span",seconds:-I},tags:[]}),g=()=>q.map("WorkspaceDashboardFilter",s,"TaskRunsFilter");return($,o)=>{const k=d("p-toggle"),w=d("p-button"),h=d("p-layout-default");return n(),i(h,{class:"workspace-dashboard"},{header:l(()=>[a(e(R),{crumbs:b,class:"workspace-dashboard__page-heading"},S({_:2},[u.value?void 0:{name:"actions",fn:l(()=>[r("div",O,[r("div",P,[a(k,{modelValue:e(s).hideSubflows,"onUpdate:modelValue":o[0]||(o[0]=t=>e(s).hideSubflows=t),append:"Hide subflows"},null,8,["modelValue"])]),a(e(U),{selected:e(s).tags,"onUpdate:selected":o[1]||(o[1]=t=>e(s).tags=t),"empty-message":"All tags"},null,8,["selected"]),a(e(A),{modelValue:e(s).range,"onUpdate:modelValue":o[2]||(o[2]=t=>e(s).range=t),class:"workspace-dashboard__date-select"},null,8,["modelValue"])])]),key:"0"}]),1024)]),default:l(()=>[f.value?(n(),_(T,{key:0},[u.value?(n(),i(e(B),{key:0})):(n(),_("div",X,[a(e(D),{filter:e(s)},null,8,["filter"]),r("div",Y,[a(e(N),{filter:g}),a(e(E),{class:"workspace-dashboard__work-pools",filter:e(s)},null,8,["filter"])])]))],64)):j("",!0),a(e(W),{title:"Ready to scale?",subtitle:"Automations, role and object-level security, and serverless push work pools on Prefect Cloud"},{actions:l(()=>[a(w,{to:"https://www.prefect.io/cloud-vs-oss?utm_source=oss&utm_medium=oss&utm_campaign=oss&utm_term=none&utm_content=none",target:"_blank",primary:""},{default:l(()=>[M(" Upgrade to Cloud ")]),_:1})]),_:1})]),_:1})}}});export{J as default};
//# sourceMappingURL=Dashboard-CdyDJgFy.js.map
